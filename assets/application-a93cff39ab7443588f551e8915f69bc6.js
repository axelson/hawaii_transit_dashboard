(function(p,u){"object"===typeof module&&"object"===typeof module.exports?module.exports=p.document?u(p,!0):function(p){if(!p.document)throw Error("jQuery requires a window with a document");return u(p)}:u(p)})("undefined"!==typeof window?window:this,function(p,u){function G(a){var b=a.length,d=k.type(a);return"function"===d||k.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===d||0===b||"number"===typeof b&&0<b&&b-1 in a}function H(a,b,d){if(k.isFunction(b))return k.grep(a,function(a,B){return!!b.call(a,
B,a)!==d});if(b.nodeType)return k.grep(a,function(a){return a===b!==d});if("string"===typeof b){if(wa.test(b))return k.filter(b,a,d);b=k.filter(b,a)}return k.grep(a,function(a){return 0<=da.call(b,a)!==d})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=Zb[a]={};k.each(a.match(Ga)||[],function(a,d){b[d]=!0});return b}function c(){X.removeEventListener("DOMContentLoaded",c,!1);p.removeEventListener("load",c,!1);k.ready()}function n(){Object.defineProperty(this.cache={},
0,{get:function(){return{}}});this.expando=k.expando+Math.random()}function h(a,b,d){if(void 0===d&&1===a.nodeType)if(d="data-"+b.replace($b,"-$1").toLowerCase(),d=a.getAttribute(d),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Uc.test(d)?k.parseJSON(d):d}catch(c){}oa.set(a,b,d)}else d=void 0;return d}function t(){return!0}function x(){return!1}function m(){try{return X.activeElement}catch(a){}}function A(a,b){return k.nodeName(a,"table")&&k.nodeName(11!==b.nodeType?
b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function O(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function N(a){var b=$a.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function J(a,b){for(var d=0,c=a.length;d<c;d++)Q.set(a[d],"globalEval",!b||Q.get(b[d],"globalEval"))}function L(a,b){var d,c,g,e;if(1===b.nodeType){if(Q.hasData(a)&&(e=Q.access(a),d=Q.set(b,e),e=e.events))for(g in delete d.handle,
d.events={},e)for(d=0,c=e[g].length;d<c;d++)k.event.add(b,g,e[g][d]);oa.hasData(a)&&(g=oa.access(a),g=k.extend({},g),oa.set(b,g))}}function E(a,b){var d=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&k.nodeName(a,b)?k.merge([a],d):d}function P(a,b){var d,c=k(b.createElement(a)).appendTo(b.body),g=p.getDefaultComputedStyle&&(d=p.getDefaultComputedStyle(c[0]))?d.display:k.css(c[0],"display");c.detach();return g}function I(a){var b=
X,d=xa[a];d||(d=P(a,b),"none"!==d&&d||(ac=(ac||k("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=ac[0].contentDocument,b.write(),b.close(),d=P(a,b),ac.detach()),xa[a]=d);return d}function R(a,b,d){var c,g,e=a.style;(d=d||bc(a))&&(g=d.getPropertyValue(b)||d[b]);d&&(""!==g||k.contains(a.ownerDocument,a)||(g=k.style(a,b)),vb.test(g)&&Jb.test(b)&&(a=e.width,b=e.minWidth,c=e.maxWidth,e.minWidth=e.maxWidth=e.width=g,g=d.width,e.width=a,e.minWidth=b,e.maxWidth=c));return void 0!==
g?g+"":g}function qa(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function Z(a,b){if(b in a)return b;for(var d=b[0].toUpperCase()+b.slice(1),c=b,g=Wc.length;g--;)if(b=Wc[g]+d,b in a)return b;return c}function b(a,b,d){return(a=Ud.exec(b))?Math.max(0,a[1]-(d||0))+(a[2]||"px"):b}function a(a,b,d,c,g){b=d===(c?"border":"content")?4:"width"===b?1:0;for(var e=0;4>b;b+=2)"margin"===d&&(e+=k.css(a,d+Oa[b],!0,g)),c?("content"===d&&(e-=k.css(a,"padding"+
Oa[b],!0,g)),"margin"!==d&&(e-=k.css(a,"border"+Oa[b]+"Width",!0,g))):(e+=k.css(a,"padding"+Oa[b],!0,g),"padding"!==d&&(e+=k.css(a,"border"+Oa[b]+"Width",!0,g)));return e}function d(b,d,c){var g=!0,e="width"===d?b.offsetWidth:b.offsetHeight,f=bc(b),l="border-box"===k.css(b,"boxSizing",!1,f);if(0>=e||null==e){e=R(b,d,f);if(0>e||null==e)e=b.style[d];if(vb.test(e))return e;g=l&&(Y.boxSizingReliable()||e===b.style[d]);e=parseFloat(e)||0}return e+a(b,d,c||(l?"border":"content"),g,f)+"px"}function g(a,
b){for(var d,c,g,e=[],f=0,l=a.length;f<l;f++)c=a[f],c.style&&(e[f]=Q.get(c,"olddisplay"),d=c.style.display,b?(e[f]||"none"!==d||(c.style.display=""),""===c.style.display&&Pa(c)&&(e[f]=Q.access(c,"olddisplay",I(c.nodeName)))):(g=Pa(c),"none"===d&&g||Q.set(c,"olddisplay",g?d:k.css(c,"display"))));for(f=0;f<l;f++)c=a[f],!c.style||b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none");return a}function l(a,b,d,c,g){return new l.prototype.init(a,b,d,c,g)}function q(){setTimeout(function(){jb=
void 0});return jb=k.now()}function r(a,b){var d,c=0,g={height:a};for(b=b?1:0;4>c;c+=2-b)d=Oa[c],g["margin"+d]=g["padding"+d]=a;b&&(g.opacity=g.width=a);return g}function y(a,b,d){for(var c,g=(Kb[b]||[]).concat(Kb["*"]),e=0,f=g.length;e<f;e++)if(c=g[e].call(d,b,a))return c}function D(a,b){var d,c,g,e,f;for(d in a)if(c=k.camelCase(d),g=b[c],e=a[d],k.isArray(e)&&(g=e[1],e=a[d]=e[0]),d!==c&&(a[c]=e,delete a[d]),(f=k.cssHooks[c])&&"expand"in f)for(d in e=f.expand(e),delete a[c],e)d in a||(a[d]=e[d],b[d]=
g);else b[c]=g}function C(a,b,d){var c,g=0,e=cc.length,f=k.Deferred().always(function(){delete l.elem}),l=function(){if(c)return!1;for(var b=jb||q(),b=Math.max(0,h.startTime+h.duration-b),d=1-(b/h.duration||0),g=0,e=h.tweens.length;g<e;g++)h.tweens[g].run(d);f.notifyWith(a,[h,d,b]);if(1>d&&e)return b;f.resolveWith(a,[h]);return!1},h=f.promise({elem:a,props:k.extend({},b),opts:k.extend(!0,{specialEasing:{}},d),originalProperties:b,originalOptions:d,startTime:jb||q(),duration:d.duration,tweens:[],createTween:function(b,
d){var c=k.Tween(a,h.opts,b,d,h.opts.specialEasing[b]||h.opts.easing);h.tweens.push(c);return c},stop:function(b){var d=0,g=b?h.tweens.length:0;if(c)return this;for(c=!0;d<g;d++)h.tweens[d].run(1);b?f.resolveWith(a,[h,b]):f.rejectWith(a,[h,b]);return this}});d=h.props;for(D(d,h.opts.specialEasing);g<e;g++)if(b=cc[g].call(h,a,d,h.opts))return b;k.map(d,y,h);k.isFunction(h.opts.start)&&h.opts.start.call(a,h);k.fx.timer(k.extend(l,{elem:a,anim:h,queue:h.opts.queue}));return h.progress(h.opts.progress).done(h.opts.done,
h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function w(a){return function(b,d){"string"!==typeof b&&(d=b,b="*");var c,g=0,e=b.toLowerCase().match(Ga)||[];if(k.isFunction(d))for(;c=e[g++];)"+"===c[0]?(c=c.slice(1)||"*",(a[c]=a[c]||[]).unshift(d)):(a[c]=a[c]||[]).push(d)}}function z(a,b,d,c){function g(l){var h;e[l]=!0;k.each(a[l]||[],function(a,B){var l=B(b,d,c);if("string"===typeof l&&!f&&!e[l])return b.dataTypes.unshift(l),g(l),!1;if(f)return!(h=l)});return h}var e={},f=a===Lb;return g(b.dataTypes[0])||
!e["*"]&&g("*")}function ba(a,b){var d,c,g=k.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((g[d]?a:c||(c={}))[d]=b[d]);c&&k.extend(!0,a,c);return a}function aa(a,b,d,c){var g;if(k.isArray(b))k.each(b,function(b,g){d||Vd.test(a)?c(a,g):aa(a+"["+("object"===typeof g?b:"")+"]",g,d,c)});else if(d||"object"!==k.type(b))c(a,b);else for(g in b)aa(a+"["+g+"]",b[g],d,c)}function ua(a){return k.isWindow(a)?a:9===a.nodeType&&a.defaultView}var ya=[],V=ya.slice,Qa=ya.concat,wb=ya.push,da=ya.indexOf,
ab={},xb=ab.toString,Mb=ab.hasOwnProperty,Y={},X=p.document,k=function(a,b){return new k.fn.init(a,b)},ga=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,W=/^-ms-/,kb=/-([\da-z])/gi,yb=function(a,b){return b.toUpperCase()};k.fn=k.prototype={jquery:"2.1.1",constructor:k,selector:"",length:0,toArray:function(){return V.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:V.call(this)},pushStack:function(a){a=k.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},
each:function(a,b){return k.each(this,a,b)},map:function(a){return this.pushStack(k.map(this,function(b,d){return a.call(b,d,b)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:wb,sort:ya.sort,splice:ya.splice};k.extend=k.fn.extend=function(){var a,
b,d,c,g,e=arguments[0]||{},f=1,l=arguments.length,h=!1;"boolean"===typeof e&&(h=e,e=arguments[f]||{},f++);"object"===typeof e||k.isFunction(e)||(e={});f===l&&(e=this,f--);for(;f<l;f++)if(null!=(a=arguments[f]))for(b in a)d=e[b],c=a[b],e!==c&&(h&&c&&(k.isPlainObject(c)||(g=k.isArray(c)))?(g?(g=!1,d=d&&k.isArray(d)?d:[]):d=d&&k.isPlainObject(d)?d:{},e[b]=k.extend(h,d,c)):void 0!==c&&(e[b]=c));return e};k.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);
},noop:function(){},isFunction:function(a){return"function"===k.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!k.isArray(a)&&0<=a-parseFloat(a)},isPlainObject:function(a){return"object"!==k.type(a)||a.nodeType||k.isWindow(a)||a.constructor&&!Mb.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?
ab[xb.call(a)]||"object":typeof a},globalEval:function(a){var b;b=eval;if(a=k.trim(a))1===a.indexOf("use strict")?(b=X.createElement("script"),b.text=a,X.head.appendChild(b).parentNode.removeChild(b)):b(a)},camelCase:function(a){return a.replace(W,"ms-").replace(kb,yb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var c,g=0,e=a.length;c=G(a);if(d)if(c)for(;g<e&&(c=b.apply(a[g],d),!1!==c);g++);else for(g in a){if(c=b.apply(a[g],d),!1===
c)break}else if(c)for(;g<e&&(c=b.call(a[g],g,a[g]),!1!==c);g++);else for(g in a)if(c=b.call(a[g],g,a[g]),!1===c)break;return a},trim:function(a){return null==a?"":(a+"").replace(ga,"")},makeArray:function(a,b){var d=b||[];null!=a&&(G(Object(a))?k.merge(d,"string"===typeof a?[a]:a):wb.call(d,a));return d},inArray:function(a,b,d){return null==b?-1:da.call(b,a,d)},merge:function(a,b){for(var d=+b.length,c=0,g=a.length;c<d;c++)a[g++]=b[c];a.length=g;return a},grep:function(a,b,d){for(var c=[],g=0,e=a.length,
f=!d;g<e;g++)d=!b(a[g],g),d!==f&&c.push(a[g]);return c},map:function(a,b,d){var c,g=0,e=a.length,f=[];if(G(a))for(;g<e;g++)c=b(a[g],g,d),null!=c&&f.push(c);else for(g in a)c=b(a[g],g,d),null!=c&&f.push(c);return Qa.apply([],f)},guid:1,proxy:function(a,b){var d,c;"string"===typeof b&&(d=a[b],b=a,a=d);if(k.isFunction(a))return c=V.call(arguments,2),d=function(){return a.apply(b||this,c.concat(V.call(arguments)))},d.guid=a.guid=a.guid||k.guid++,d},now:Date.now,support:Y});k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){ab["[object "+b+"]"]=b.toLowerCase()});var ja=function(a){function b(a,d,c,g){var B,e,f,l,k;(d?d.ownerDocument||d:Y)!==da&&E(d);d=d||da;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(l=d.nodeType)&&9!==l)return[];if(J&&!g){if(B=xa.exec(a))if(f=B[1])if(9===l)if((e=d.getElementById(f))&&e.parentNode){if(e.id===f)return c.push(e),c}else return c;else{if(d.ownerDocument&&(e=d.ownerDocument.getElementById(f))&&ua(d,e)&&e.id===f)return c.push(e),c}else{if(B[2])return R.apply(c,d.getElementsByTagName(a)),
c;if((f=B[3])&&w.getElementsByClassName&&d.getElementsByClassName)return R.apply(c,d.getElementsByClassName(f)),c}if(w.qsa&&(!W||!W.test(a))){e=B=V;f=d;k=9===l&&a;if(1===l&&"object"!==d.nodeName.toLowerCase()){l=ba(a);(B=d.getAttribute("id"))?e=B.replace(Ba,"\\$&"):d.setAttribute("id",e);e="[id='"+e+"'] ";for(f=l.length;f--;)l[f]=e+m(l[f]);f=Pa.test(a)&&q(d.parentNode)||d;k=l.join(",")}if(k)try{return R.apply(c,f.querySelectorAll(k)),c}catch(h){}finally{B||d.removeAttribute("id")}}}return u(a.replace(kb,
"$1"),d,c,g)}function d(){function a(d,c){b.push(d+" ")>z.cacheLength&&delete a[b.shift()];return a[d+" "]=c}var b=[];return a}function c(a){a[V]=!0;return a}function g(a){var b=da.createElement("div");try{return!!a(b)}catch(d){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function e(a,b){for(var d=a.split("|"),c=a.length;c--;)z.attrHandle[d[c]]=b}function f(a,b){var d=b&&a,c=d&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(c)return c;
if(d)for(;d=d.nextSibling;)if(d===b)return-1;return a?1:-1}function l(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function k(a){return function(b){var d=b.nodeName.toLowerCase();return("input"===d||"button"===d)&&b.type===a}}function h(a){return c(function(b){b=+b;return c(function(d,c){for(var g,B=a([],d.length,b),e=B.length;e--;)d[g=B[e]]&&(d[g]=!(c[g]=d[g]))})})}function q(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function r(){}function m(a){for(var b=
0,d=a.length,c="";b<d;b++)c+=a[b].value;return c}function n(a,b,d){var c=b.dir,g=d&&"parentNode"===c,B=Q++;return b.first?function(b,d,B){for(;b=b[c];)if(1===b.nodeType||g)return a(b,d,B)}:function(b,d,e){var f,l,k=[H,B];if(e)for(;b=b[c];){if((1===b.nodeType||g)&&a(b,d,e))return!0}else for(;b=b[c];)if(1===b.nodeType||g){l=b[V]||(b[V]={});if((f=l[c])&&f[0]===H&&f[1]===B)return k[2]=f[2];l[c]=k;if(k[2]=a(b,d,e))return!0}}}function t(a){return 1<a.length?function(b,d,c){for(var g=a.length;g--;)if(!a[g](b,
d,c))return!1;return!0}:a[0]}function y(a,b,d,c,g){for(var B,e=[],f=0,l=a.length,k=null!=b;f<l;f++)if(B=a[f])if(!d||d(B,c,g))e.push(B),k&&b.push(f);return e}function p(a,d,g,B,e,f){B&&!B[V]&&(B=p(B));e&&!e[V]&&(e=p(e,f));return c(function(c,f,l,k){var h,q,ra=[],r=[],m=f.length,n;if(!(n=c)){n=d||"*";for(var fa=l.nodeType?[l]:l,t=[],La=0,p=fa.length;La<p;La++)b(n,fa[La],t);n=t}n=!a||!c&&d?n:y(n,ra,a,l,k);fa=g?e||(c?a:m||B)?[]:f:n;g&&g(n,fa,l,k);if(B)for(h=y(fa,r),B(h,[],l,k),l=h.length;l--;)if(q=h[l])fa[r[l]]=
!(n[r[l]]=q);if(c){if(e||a){if(e){h=[];for(l=fa.length;l--;)(q=fa[l])&&h.push(n[l]=q);e(null,fa=[],h,k)}for(l=fa.length;l--;)(q=fa[l])&&-1<(h=e?ca.call(c,q):ra[l])&&(c[h]=!(f[h]=q))}}else fa=y(fa===f?fa.splice(m,fa.length):fa),e?e(null,f,fa,k):R.apply(f,fa)})}function x(a){var b,d,c,g=a.length,B=z.relative[a[0].type];d=B||z.relative[" "];for(var e=B?1:0,f=n(function(a){return a===b},d,!0),l=n(function(a){return-1<ca.call(b,a)},d,!0),k=[function(a,d,c){return!B&&(c||d!==aa)||((b=d).nodeType?f(a,d,
c):l(a,d,c))}];e<g;e++)if(d=z.relative[a[e].type])k=[n(t(k),d)];else{d=z.filter[a[e].type].apply(null,a[e].matches);if(d[V]){for(c=++e;c<g&&!z.relative[a[c].type];c++);return p(1<e&&t(k),1<e&&m(a.slice(0,e-1).concat({value:" "===a[e-2].type?"*":""})).replace(kb,"$1"),d,e<c&&x(a.slice(e,c)),c<g&&x(a=a.slice(c)),c<g&&m(a))}k.push(d)}return t(k)}function D(a,d){var g=0<d.length,e=0<a.length,B=function(c,B,f,l,k){var h,q,ra,r=0,fa="0",n=c&&[],m=[],t=aa,La=c||e&&z.find.TAG("*",k),p=H+=null==t?1:Math.random()||
.1,Vc=La.length;for(k&&(aa=B!==da&&B);fa!==Vc&&null!=(h=La[fa]);fa++){if(e&&h){for(q=0;ra=a[q++];)if(ra(h,B,f)){l.push(h);break}k&&(H=p)}g&&((h=!ra&&h)&&r--,c&&n.push(h))}r+=fa;if(g&&fa!==r){for(q=0;ra=d[q++];)ra(n,m,B,f);if(c){if(0<r)for(;fa--;)n[fa]||m[fa]||(m[fa]=wb.call(l));m=y(m)}R.apply(l,m);k&&!c&&0<m.length&&1<r+d.length&&b.uniqueSort(l)}k&&(H=p,aa=t);return n};return g?c(B):B}var C,w,z,A,I,ba,O,u,aa,N,ga,E,da,L,J,W,ya,G,ua,V="sizzle"+-new Date,Y=a.document,H=0,Q=0,X=d(),Qa=d(),xb=d(),P=function(a,
b){a===b&&(ga=!0);return 0},ab={}.hasOwnProperty,la=[],wb=la.pop,Mb=la.push,R=la.push,ja=la.slice,ca=la.indexOf||function(a){for(var b=0,d=this.length;b<d;b++)if(this[b]===a)return b;return-1},Ra="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),wa="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ra+"))|)[\\x20\\t\\r\\n\\f]*\\]",ka=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
wa+")*)|.*)\\)|)",kb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,oa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,gc=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,zb=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,Aa=new RegExp(ka),ta=new RegExp("^"+Ra+"$"),Wa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+wa),PSEUDO:new RegExp("^"+ka),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Ga=/^(?:input|select|textarea|button)$/i,Oa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,xa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Pa=/[+~]/,Ba=/'|\\/g,Z=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,Ca=function(a,b,d){a="0x"+b-65536;
return a!==a||d?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{R.apply(la=ja.call(Y.childNodes),Y.childNodes),la[Y.childNodes.length].nodeType}catch(yb){R={apply:la.length?function(a,b){Mb.apply(a,ja.call(b))}:function(a,b){for(var d=a.length,c=0;a[d++]=b[c++];);a.length=d-1}}}w=b.support={};I=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};E=b.setDocument=function(a){var b=a?a.ownerDocument||a:Y;a=b.defaultView;
if(b===da||9!==b.nodeType||!b.documentElement)return da;da=b;L=b.documentElement;J=!I(b);a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){E()},!1):a.attachEvent&&a.attachEvent("onunload",function(){E()}));w.attributes=g(function(a){a.className="i";return!a.getAttribute("className")});w.getElementsByTagName=g(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});w.getElementsByClassName=qa.test(b.getElementsByClassName)&&g(function(a){a.innerHTML=
"<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});w.getById=g(function(a){L.appendChild(a).id=V;return!b.getElementsByName||!b.getElementsByName(V).length});w.getById?(z.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&J){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}},z.filter.ID=function(a){var b=a.replace(Z,Ca);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=
a.replace(Z,Ca);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});z.find.TAG=w.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var d,c=[],g=0,B=b.getElementsByTagName(a);if("*"===a){for(;d=B[g++];)1===d.nodeType&&c.push(d);return c}return B};z.find.CLASS=w.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&J)return b.getElementsByClassName(a)};
ya=[];W=[];if(w.qsa=qa.test(b.querySelectorAll))g(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&W.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||W.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||W.push(":checked")}),
g(function(a){var d=b.createElement("input");d.setAttribute("type","hidden");a.appendChild(d).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&W.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||W.push(":enabled",":disabled");a.querySelectorAll("*,:x");W.push(",.*:")});(w.matchesSelector=qa.test(G=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&g(function(a){w.disconnectedMatch=G.call(a,"div");G.call(a,
"[s!='']:x");ya.push("!=",ka)});W=W.length&&new RegExp(W.join("|"));ya=ya.length&&new RegExp(ya.join("|"));ua=(a=qa.test(L.compareDocumentPosition))||qa.test(L.contains)?function(a,b){var d=9===a.nodeType?a.documentElement:a,c=b&&b.parentNode;return a===c||!!(c&&1===c.nodeType&&(d.contains?d.contains(c):a.compareDocumentPosition&&a.compareDocumentPosition(c)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};P=a?function(a,d){if(a===d)return ga=!0,0;var c=!a.compareDocumentPosition-
!d.compareDocumentPosition;if(c)return c;c=(a.ownerDocument||a)===(d.ownerDocument||d)?a.compareDocumentPosition(d):1;return c&1||!w.sortDetached&&d.compareDocumentPosition(a)===c?a===b||a.ownerDocument===Y&&ua(Y,a)?-1:d===b||d.ownerDocument===Y&&ua(Y,d)?1:N?ca.call(N,a)-ca.call(N,d):0:c&4?-1:1}:function(a,d){if(a===d)return ga=!0,0;var c,g=0;c=a.parentNode;var B=d.parentNode,e=[a],l=[d];if(!c||!B)return a===b?-1:d===b?1:c?-1:B?1:N?ca.call(N,a)-ca.call(N,d):0;if(c===B)return f(a,d);for(c=a;c=c.parentNode;)e.unshift(c);
for(c=d;c=c.parentNode;)l.unshift(c);for(;e[g]===l[g];)g++;return g?f(e[g],l[g]):e[g]===Y?-1:l[g]===Y?1:0};return b};b.matches=function(a,d){return b(a,null,null,d)};b.matchesSelector=function(a,d){(a.ownerDocument||a)!==da&&E(a);d=d.replace(zb,"='$1']");if(!(!w.matchesSelector||!J||ya&&ya.test(d)||W&&W.test(d)))try{var c=G.call(a,d);if(c||w.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(g){}return 0<b(d,da,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==
da&&E(a);return ua(a,b)};b.attr=function(a,b){(a.ownerDocument||a)!==da&&E(a);var d=z.attrHandle[b.toLowerCase()],d=d&&ab.call(z.attrHandle,b.toLowerCase())?d(a,b,!J):void 0;return void 0!==d?d:w.attributes||!J?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,d=[],c=0,g=0;ga=!w.detectDuplicates;N=!w.sortStable&&a.slice(0);a.sort(P);if(ga){for(;b=a[g++];)b===a[g]&&(c=
d.push(g));for(;c--;)a.splice(d[c],1)}N=null;return a};A=b.getText=function(a){var b,d="",c=0;b=a.nodeType;if(!b)for(;b=a[c++];)d+=A(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=A(a)}else if(3===b||4===b)return a.nodeValue;return d};z=b.selectors={cacheLength:50,createPseudo:c,match:Wa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(a){a[1]=a[1].replace(Z,Ca);a[3]=(a[3]||a[4]||a[5]||"").replace(Z,Ca);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,d=!a[6]&&a[2];if(Wa.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":d&&Aa.test(d)&&(b=ba(d,!0))&&(b=d.indexOf(")",
d.length-b)-d.length)&&(a[0]=a[0].slice(0,b),a[2]=d.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(Z,Ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=X[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&X(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,
d,c){return function(g){g=b.attr(g,a);if(null==g)return"!="===d;if(!d)return!0;g+="";return"="===d?g===c:"!="===d?g!==c:"^="===d?c&&0===g.indexOf(c):"*="===d?c&&-1<g.indexOf(c):"$="===d?c&&g.slice(-c.length)===c:"~="===d?-1<(" "+g+" ").indexOf(c):"|="===d?g===c||g.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,d,c,g){var B="nth"!==a.slice(0,3),e="last"!==a.slice(-4),f="of-type"===b;return 1===c&&0===g?function(a){return!!a.parentNode}:function(b,d,l){var k,h,q,na,ra;d=B!==e?"nextSibling":"previousSibling";
var r=b.parentNode,fa=f&&b.nodeName.toLowerCase();l=!l&&!f;if(r){if(B){for(;d;){for(h=b;h=h[d];)if(f?h.nodeName.toLowerCase()===fa:1===h.nodeType)return!1;ra=d="only"===a&&!ra&&"nextSibling"}return!0}ra=[e?r.firstChild:r.lastChild];if(e&&l)for(l=r[V]||(r[V]={}),k=l[a]||[],na=k[0]===H&&k[1],q=k[0]===H&&k[2],h=na&&r.childNodes[na];h=++na&&h&&h[d]||(q=na=0)||ra.pop();){if(1===h.nodeType&&++q&&h===b){l[a]=[H,na,q];break}}else if(l&&(k=(b[V]||(b[V]={}))[a])&&k[0]===H)q=k[1];else for(;(h=++na&&h&&h[d]||
(q=na=0)||ra.pop())&&((f?h.nodeName.toLowerCase()!==fa:1!==h.nodeType)||!++q||(l&&((h[V]||(h[V]={}))[a]=[H,q]),h!==b)););q-=g;return q===c||0===q%c&&0<=q/c}}},PSEUDO:function(a,d){var g,B=z.pseudos[a]||z.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return B[V]?B(d):1<B.length?(g=[a,a,"",d],z.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,b){for(var c,g=B(a,d),e=g.length;e--;)c=ca.call(a,g[e]),a[c]=!(b[c]=g[e])}):function(a){return B(a,0,g)}):B}},pseudos:{not:c(function(a){var b=
[],d=[],g=O(a.replace(kb,"$1"));return g[V]?c(function(a,b,d,c){c=g(a,null,c,[]);for(var B=a.length;B--;)if(d=c[B])a[B]=!(b[B]=d)}):function(a,c,B){b[0]=a;g(b,null,B,d);return!d.pop()}}),has:c(function(a){return function(d){return 0<b(a,d).length}}),contains:c(function(a){return function(b){return-1<(b.textContent||b.innerText||A(b)).indexOf(a)}}),lang:c(function(a){ta.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(Z,Ca).toLowerCase();return function(b){var d;do if(d=J?b.lang:b.getAttribute("xml:lang")||
b.getAttribute("lang"))return d=d.toLowerCase(),d===a||0===d.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var d=a.location&&a.location.hash;return d&&d.slice(1)===b.id},root:function(a){return a===L},focus:function(a){return a===da.activeElement&&(!da.hasFocus||da.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===
b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return Oa.test(a.nodeName)},input:function(a){return Ga.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&
"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:h(function(){return[0]}),last:h(function(a,b){return[b-1]}),eq:h(function(a,b,d){return[0>d?d+b:d]}),even:h(function(a,b){for(var d=0;d<b;d+=2)a.push(d);return a}),odd:h(function(a,b){for(var d=1;d<b;d+=2)a.push(d);return a}),lt:h(function(a,b,d){for(b=0>d?d+b:d;0<=--b;)a.push(b);return a}),gt:h(function(a,b,d){for(d=0>d?d+b:d;++d<b;)a.push(d);return a})}};z.pseudos.nth=z.pseudos.eq;for(C in{radio:!0,checkbox:!0,
file:!0,password:!0,image:!0})z.pseudos[C]=l(C);for(C in{submit:!0,reset:!0})z.pseudos[C]=k(C);r.prototype=z.filters=z.pseudos;z.setFilters=new r;ba=b.tokenize=function(a,d){var c,g,B,e,f,l,k;if(f=Qa[a+" "])return d?0:f.slice(0);f=a;l=[];for(k=z.preFilter;f;){if(!c||(g=oa.exec(f)))g&&(f=f.slice(g[0].length)||f),l.push(B=[]);c=!1;if(g=gc.exec(f))c=g.shift(),B.push({value:c,type:g[0].replace(kb," ")}),f=f.slice(c.length);for(e in z.filter)!(g=Wa[e].exec(f))||k[e]&&!(g=k[e](g))||(c=g.shift(),B.push({value:c,
type:e,matches:g}),f=f.slice(c.length));if(!c)break}return d?f.length:f?b.error(a):Qa(a,l).slice(0)};O=b.compile=function(a,b){var d,c=[],g=[],B=xb[a+" "];if(!B){b||(b=ba(a));for(d=b.length;d--;)B=x(b[d]),B[V]?c.push(B):g.push(B);B=xb(a,D(g,c));B.selector=a}return B};u=b.select=function(a,b,d,c){var g,B,e,f,l="function"===typeof a&&a,k=!c&&ba(a=l.selector||a);d=d||[];if(1===k.length){B=k[0]=k[0].slice(0);if(2<B.length&&"ID"===(e=B[0]).type&&w.getById&&9===b.nodeType&&J&&z.relative[B[1].type]){b=(z.find.ID(e.matches[0].replace(Z,
Ca),b)||[])[0];if(!b)return d;l&&(b=b.parentNode);a=a.slice(B.shift().value.length)}for(g=Wa.needsContext.test(a)?0:B.length;g--;){e=B[g];if(z.relative[f=e.type])break;if(f=z.find[f])if(c=f(e.matches[0].replace(Z,Ca),Pa.test(B[0].type)&&q(b.parentNode)||b)){B.splice(g,1);a=c.length&&m(B);if(!a)return R.apply(d,c),d;break}}}(l||O(a,k))(c,b,!J,d,Pa.test(a)&&q(b.parentNode)||b);return d};w.sortStable=V.split("").sort(P).join("")===V;w.detectDuplicates=!!ga;E();w.sortDetached=g(function(a){return a.compareDocumentPosition(da.createElement("div"))&
1});g(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||e("type|href|height|width",function(a,b,d){if(!d)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});w.attributes&&g(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||e("value",function(a,b,d){if(!d&&"input"===a.nodeName.toLowerCase())return a.defaultValue});g(function(a){return null==a.getAttribute("disabled")})||e("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,b,d){var c;if(!d)return!0===a[b]?b.toLowerCase():(c=a.getAttributeNode(b))&&c.specified?c.value:null});return b}(p);k.find=ja;k.expr=ja.selectors;k.expr[":"]=k.expr.pseudos;k.unique=ja.uniqueSort;k.text=ja.getText;k.isXMLDoc=ja.isXML;k.contains=ja.contains;var la=k.expr.match.needsContext,zb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,wa=/^.[^:#\[\.,]*$/;k.filter=function(a,b,d){var c=b[0];d&&(a=":not("+a+")");return 1===b.length&&1===c.nodeType?k.find.matchesSelector(c,a)?[c]:[]:k.find.matches(a,k.grep(b,
function(a){return 1===a.nodeType}))};k.fn.extend({find:function(a){var b,d=this.length,c=[],g=this;if("string"!==typeof a)return this.pushStack(k(a).filter(function(){for(b=0;b<d;b++)if(k.contains(g[b],this))return!0}));for(b=0;b<d;b++)k.find(a,g[b],c);c=this.pushStack(1<d?k.unique(c):c);c.selector=this.selector?this.selector+" "+a:a;return c},filter:function(a){return this.pushStack(H(this,a||[],!1))},not:function(a){return this.pushStack(H(this,a||[],!0))},is:function(a){return!!H(this,"string"===
typeof a&&la.test(a)?k(a):a||[],!1).length}});var Ra,Aa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(k.fn.init=function(a,b){var d;if(!a)return this;if("string"===typeof a){d="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:Aa.exec(a);if(!d||!d[1]&&b)return!b||b.jquery?(b||Ra).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof k?b[0]:b,k.merge(this,k.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:X,!0)),zb.test(d[1])&&k.isPlainObject(b))for(d in b)if(k.isFunction(this[d]))this[d](b[d]);
else this.attr(d,b[d])}else(d=X.getElementById(d[2]))&&d.parentNode&&(this.length=1,this[0]=d),this.context=X,this.selector=a;return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(k.isFunction(a))return"undefined"!==typeof Ra.ready?Ra.ready(a):a(k);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return k.makeArray(a,this)}).prototype=k.fn;Ra=k(X);var bd=/^(?:parents|prev(?:Until|All))/,gc={children:!0,contents:!0,next:!0,prev:!0};k.extend({dir:function(a,
b,d){for(var c=[],g=void 0!==d;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(g&&k(a).is(d))break;c.push(a)}return c},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&d.push(a);return d}});k.fn.extend({has:function(a){var b=k(a,this),d=b.length;return this.filter(function(){for(var a=0;a<d;a++)if(k.contains(this,b[a]))return!0})},closest:function(a,b){for(var d,c=0,g=this.length,e=[],f=la.test(a)||"string"!==typeof a?k(a,b||this.context):0;c<g;c++)for(d=this[c];d&&d!==
b;d=d.parentNode)if(11>d.nodeType&&(f?-1<f.index(d):1===d.nodeType&&k.find.matchesSelector(d,a))){e.push(d);break}return this.pushStack(1<e.length?k.unique(e):e)},index:function(a){return a?"string"===typeof a?da.call(k(a),this[0]):da.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(k.unique(k.merge(this.get(),k(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});k.each({parent:function(a){return(a=
a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return k.dir(a,"parentNode")},parentsUntil:function(a,b,d){return k.dir(a,"parentNode",d)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return k.dir(a,"nextSibling")},prevAll:function(a){return k.dir(a,"previousSibling")},nextUntil:function(a,b,d){return k.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return k.dir(a,"previousSibling",d)},siblings:function(a){return k.sibling((a.parentNode||
{}).firstChild,a)},children:function(a){return k.sibling(a.firstChild)},contents:function(a){return a.contentDocument||k.merge([],a.childNodes)}},function(a,b){k.fn[a]=function(d,c){var g=k.map(this,b,d);"Until"!==a.slice(-5)&&(c=d);c&&"string"===typeof c&&(g=k.filter(c,g));1<this.length&&(gc[a]||k.unique(g),bd.test(a)&&g.reverse());return this.pushStack(g)}});var Ga=/\S+/g,Zb={};k.Callbacks=function(a){a="string"===typeof a?Zb[a]||f(a):k.extend({},a);var b,d,c,g,e,l,h=[],q=!a.once&&[],r=function(f){b=
a.memory&&f;d=!0;l=g||0;g=0;e=h.length;for(c=!0;h&&l<e;l++)if(!1===h[l].apply(f[0],f[1])&&a.stopOnFalse){b=!1;break}c=!1;h&&(q?q.length&&r(q.shift()):b?h=[]:m.disable())},m={add:function(){if(h){var d=h.length;(function fb(b){k.each(b,function(b,d){var c=k.type(d);"function"===c?a.unique&&m.has(d)||h.push(d):d&&d.length&&"string"!==c&&fb(d)})})(arguments);c?e=h.length:b&&(g=d,r(b))}return this},remove:function(){h&&k.each(arguments,function(a,b){for(var d;-1<(d=k.inArray(b,h,d));)h.splice(d,1),c&&
(d<=e&&e--,d<=l&&l--)});return this},has:function(a){return a?-1<k.inArray(a,h):!(!h||!h.length)},empty:function(){h=[];e=0;return this},disable:function(){h=q=b=void 0;return this},disabled:function(){return!h},lock:function(){q=void 0;b||m.disable();return this},locked:function(){return!q},fireWith:function(a,b){!h||d&&!q||(b=b||[],b=[a,b.slice?b.slice():b],c?q.push(b):r(b));return this},fire:function(){m.fireWith(this,arguments);return this},fired:function(){return!!d}};return m};k.extend({Deferred:function(a){var b=
[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),"rejected"],["notify","progress",k.Callbacks("memory")]],d="pending",c={state:function(){return d},always:function(){g.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return k.Deferred(function(d){k.each(b,function(b,e){var f=k.isFunction(a[b])&&a[b];g[e[1]](function(){var a=f&&f.apply(this,arguments);if(a&&k.isFunction(a.promise))a.promise().done(d.resolve).fail(d.reject).progress(d.notify);
else d[e[0]+"With"](this===c?d.promise():this,f?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?k.extend(a,c):c}},g={};c.pipe=c.then;k.each(b,function(a,e){var f=e[2],B=e[3];c[e[1]]=f.add;B&&f.add(function(){d=B},b[a^1][2].disable,b[2][2].lock);g[e[0]]=function(){g[e[0]+"With"](this===g?c:this,arguments);return this};g[e[0]+"With"]=f.fireWith});c.promise(g);a&&a.call(g,g);return g},when:function(a){var b=0,d=V.call(arguments),c=d.length,g=1!==c||a&&k.isFunction(a.promise)?
c:0,e=1===g?a:k.Deferred(),f=function(a,b,d){return function(c){b[a]=this;d[a]=1<arguments.length?V.call(arguments):c;d===l?e.notifyWith(b,d):--g||e.resolveWith(b,d)}},l,h,q;if(1<c)for(l=Array(c),h=Array(c),q=Array(c);b<c;b++)d[b]&&k.isFunction(d[b].promise)?d[b].promise().done(f(b,q,d)).fail(e.reject).progress(f(b,h,l)):--g;g||e.resolveWith(q,d);return e.promise()}});var Ab;k.fn.ready=function(a){k.ready.promise().done(a);return this};k.extend({isReady:!1,readyWait:1,holdReady:function(a){a?k.readyWait++:
k.ready(!0)},ready:function(a){(!0===a?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==a&&0<--k.readyWait||(Ab.resolveWith(X,[k]),k.fn.triggerHandler&&(k(X).triggerHandler("ready"),k(X).off("ready"))))}});k.ready.promise=function(a){Ab||(Ab=k.Deferred(),"complete"===X.readyState?setTimeout(k.ready):(X.addEventListener("DOMContentLoaded",c,!1),p.addEventListener("load",c,!1)));return Ab.promise(a)};k.ready.promise();var ka=k.access=function(a,b,d,c,g,e,f){var l=0,h=a.length,q=null==d;if("object"===k.type(d))for(l in g=
!0,d)k.access(a,b,l,d[l],!0,e,f);else if(void 0!==c&&(g=!0,k.isFunction(c)||(f=!0),q&&(f?(b.call(a,c),b=null):(q=b,b=function(a,b,d){return q.call(k(a),d)})),b))for(;l<h;l++)b(a[l],d,f?c:c.call(a[l],l,b(a[l],d)));return g?a:q?b.call(a):h?b(a[0],d):e};k.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};n.uid=1;n.accepts=k.acceptData;n.prototype={key:function(a){if(!n.accepts(a))return 0;var b={},d=a[this.expando];if(!d){d=n.uid++;try{b[this.expando]={value:d},Object.defineProperties(a,
b)}catch(c){b[this.expando]=d,k.extend(a,b)}}this.cache[d]||(this.cache[d]={});return d},set:function(a,b,d){var c;a=this.key(a);var g=this.cache[a];if("string"===typeof b)g[b]=d;else if(k.isEmptyObject(g))k.extend(this.cache[a],b);else for(c in b)g[c]=b[c];return g},get:function(a,b){var d=this.cache[this.key(a)];return void 0===b?d:d[b]},access:function(a,b,d){if(void 0===b||b&&"string"===typeof b&&void 0===d)return d=this.get(a,b),void 0!==d?d:this.get(a,k.camelCase(b));this.set(a,b,d);return void 0!==
d?d:b},remove:function(a,b){var d,c;d=this.key(a);var g=this.cache[d];if(void 0===b)this.cache[d]={};else for(k.isArray(b)?c=b.concat(b.map(k.camelCase)):(d=k.camelCase(b),b in g?c=[b,d]:(c=d,c=c in g?[c]:c.match(Ga)||[])),d=c.length;d--;)delete g[c[d]]},hasData:function(a){return!k.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var Q=new n,oa=new n,Uc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$b=/([A-Z])/g;k.extend({hasData:function(a){return oa.hasData(a)||
Q.hasData(a)},data:function(a,b,d){return oa.access(a,b,d)},removeData:function(a,b){oa.remove(a,b)},_data:function(a,b,d){return Q.access(a,b,d)},_removeData:function(a,b){Q.remove(a,b)}});k.fn.extend({data:function(a,b){var d,c,g,e=this[0],f=e&&e.attributes;if(void 0===a){if(this.length&&(g=oa.get(e),1===e.nodeType&&!Q.get(e,"hasDataAttrs"))){for(d=f.length;d--;)f[d]&&(c=f[d].name,0===c.indexOf("data-")&&(c=k.camelCase(c.slice(5)),h(e,c,g[c])));Q.set(e,"hasDataAttrs",!0)}return g}return"object"===
typeof a?this.each(function(){oa.set(this,a)}):ka(this,function(b){var d,c=k.camelCase(a);if(e&&void 0===b){d=oa.get(e,a);if(void 0!==d)return d;d=oa.get(e,c);if(void 0!==d)return d;d=h(e,c,void 0);if(void 0!==d)return d}else this.each(function(){var d=oa.get(this,c);oa.set(this,c,b);-1!==a.indexOf("-")&&void 0!==d&&oa.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){oa.remove(this,a)})}});k.extend({queue:function(a,b,d){var c;if(a)return b=(b||
"fx")+"queue",c=Q.get(a,b),d&&(!c||k.isArray(d)?c=Q.access(a,b,k.makeArray(d)):c.push(d)),c||[]},dequeue:function(a,b){b=b||"fx";var d=k.queue(a,b),c=d.length,g=d.shift(),e=k._queueHooks(a,b),f=function(){k.dequeue(a,b)};"inprogress"===g&&(g=d.shift(),c--);g&&("fx"===b&&d.unshift("inprogress"),delete e.stop,g.call(a,f,e));!c&&e&&e.empty.fire()},_queueHooks:function(a,b){var d=b+"queueHooks";return Q.get(a,d)||Q.access(a,d,{empty:k.Callbacks("once memory").add(function(){Q.remove(a,[b+"queue",d])})})}});
k.fn.extend({queue:function(a,b){var d=2;"string"!==typeof a&&(b=a,a="fx",d--);return arguments.length<d?k.queue(this[0],a):void 0===b?this:this.each(function(){var d=k.queue(this,a,b);k._queueHooks(this,a);"fx"===a&&"inprogress"!==d[0]&&k.dequeue(this,a)})},dequeue:function(a){return this.each(function(){k.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var d,c=1,g=k.Deferred(),e=this,f=this.length,l=function(){--c||g.resolveWith(e,[e])};"string"!==
typeof a&&(b=a,a=void 0);for(a=a||"fx";f--;)(d=Q.get(e[f],a+"queueHooks"))&&d.empty&&(c++,d.empty.add(l));l();return g.promise(b)}});var Wa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oa=["Top","Right","Bottom","Left"],Pa=function(a,b){a=b||a;return"none"===k.css(a,"display")||!k.contains(a.ownerDocument,a)},ca=/^(?:checkbox|radio)$/i;(function(){var a=X.createDocumentFragment().appendChild(X.createElement("div")),b=X.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked",
"checked");b.setAttribute("name","t");a.appendChild(b);Y.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";Y.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();Y.focusinBubbles="onfocusin"in p;var ta=/^key/,Fc=/^(?:mouse|pointer|contextmenu)|click/,Ob=/^(?:focusinfocus|focusoutblur)$/,cd=/^([^.]*)(?:\.(.+)|)$/;k.event={global:{},add:function(a,b,d,c,g){var e,f,l,h,q,r,m,n,t;if(q=Q.get(a))for(d.handler&&(e=d,d=e.handler,g=e.selector),d.guid||(d.guid=
k.guid++),(h=q.events)||(h=q.events={}),(f=q.handle)||(f=q.handle=function(b){return"undefined"!==typeof k&&k.event.triggered!==b.type?k.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(Ga)||[""],q=b.length;q--;)l=cd.exec(b[q])||[],n=r=l[1],t=(l[2]||"").split(".").sort(),n&&(l=k.event.special[n]||{},n=(g?l.delegateType:l.bindType)||n,l=k.event.special[n]||{},r=k.extend({type:n,origType:r,data:c,handler:d,guid:d.guid,selector:g,needsContext:g&&k.expr.match.needsContext.test(g),namespace:t.join(".")},
e),(m=h[n])||(m=h[n]=[],m.delegateCount=0,l.setup&&!1!==l.setup.call(a,c,t,f)||a.addEventListener&&a.addEventListener(n,f,!1)),l.add&&(l.add.call(a,r),r.handler.guid||(r.handler.guid=d.guid)),g?m.splice(m.delegateCount++,0,r):m.push(r),k.event.global[n]=!0)},remove:function(a,b,d,c,g){var e,f,l,h,q,r,m,n,t,y,p,x=Q.hasData(a)&&Q.get(a);if(x&&(h=x.events)){b=(b||"").match(Ga)||[""];for(q=b.length;q--;)if(l=cd.exec(b[q])||[],t=p=l[1],y=(l[2]||"").split(".").sort(),t){m=k.event.special[t]||{};t=(c?m.delegateType:
m.bindType)||t;n=h[t]||[];l=l[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=e=n.length;e--;)r=n[e],!g&&p!==r.origType||d&&d.guid!==r.guid||l&&!l.test(r.namespace)||c&&c!==r.selector&&("**"!==c||!r.selector)||(n.splice(e,1),r.selector&&n.delegateCount--,m.remove&&m.remove.call(a,r));f&&!n.length&&(m.teardown&&!1!==m.teardown.call(a,y,x.handle)||k.removeEvent(a,t,x.handle),delete h[t])}else for(t in h)k.event.remove(a,t+b[q],d,c,!0);k.isEmptyObject(h)&&(delete x.handle,Q.remove(a,
"events"))}},trigger:function(a,b,d,c){var g,e,f,l,h,q,r=[d||X],m=Mb.call(a,"type")?a.type:a;q=Mb.call(a,"namespace")?a.namespace.split("."):[];e=g=d=d||X;if(3!==d.nodeType&&8!==d.nodeType&&!Ob.test(m+k.event.triggered)&&(0<=m.indexOf(".")&&(q=m.split("."),m=q.shift(),q.sort()),l=0>m.indexOf(":")&&"on"+m,a=a[k.expando]?a:new k.Event(m,"object"===typeof a&&a),a.isTrigger=c?2:3,a.namespace=q.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,
a.target||(a.target=d),b=null==b?[a]:k.makeArray(b,[a]),q=k.event.special[m]||{},c||!q.trigger||!1!==q.trigger.apply(d,b))){if(!c&&!q.noBubble&&!k.isWindow(d)){f=q.delegateType||m;Ob.test(f+m)||(e=e.parentNode);for(;e;e=e.parentNode)r.push(e),g=e;g===(d.ownerDocument||X)&&r.push(g.defaultView||g.parentWindow||p)}for(g=0;(e=r[g++])&&!a.isPropagationStopped();)a.type=1<g?f:q.bindType||m,(h=(Q.get(e,"events")||{})[a.type]&&Q.get(e,"handle"))&&h.apply(e,b),(h=l&&e[l])&&h.apply&&k.acceptData(e)&&(a.result=
h.apply(e,b),!1===a.result&&a.preventDefault());a.type=m;c||a.isDefaultPrevented()||q._default&&!1!==q._default.apply(r.pop(),b)||!k.acceptData(d)||!l||!k.isFunction(d[m])||k.isWindow(d)||((g=d[l])&&(d[l]=null),k.event.triggered=m,d[m](),k.event.triggered=void 0,g&&(d[l]=g));return a.result}},dispatch:function(a){a=k.event.fix(a);var b,d,c,g,e=[],f=V.call(arguments);b=(Q.get(this,"events")||{})[a.type]||[];var l=k.event.special[a.type]||{};f[0]=a;a.delegateTarget=this;if(!l.preDispatch||!1!==l.preDispatch.call(this,
a)){e=k.event.handlers.call(this,a,b);for(b=0;(g=e[b++])&&!a.isPropagationStopped();)for(a.currentTarget=g.elem,d=0;(c=g.handlers[d++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(c.namespace))a.handleObj=c,a.data=c.data,c=((k.event.special[c.origType]||{}).handle||c.handler).apply(g.elem,f),void 0!==c&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation());l.postDispatch&&l.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var d,c,g,e,f=[],l=
b.delegateCount,h=a.target;if(l&&h.nodeType&&(!a.button||"click"!==a.type))for(;h!==this;h=h.parentNode||this)if(!0!==h.disabled||"click"!==a.type){c=[];for(d=0;d<l;d++)e=b[d],g=e.selector+" ",void 0===c[g]&&(c[g]=e.needsContext?0<=k(g,this).index(h):k.find(g,this,null,[h]).length),c[g]&&c.push(e);c.length&&f.push({elem:h,handlers:c})}l<b.length&&f.push({elem:this,handlers:b.slice(l)});return f},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var d,c,g=b.button;null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||X,c=d.documentElement,d=d.body,a.pageX=b.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0),a.pageY=
b.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0));a.which||void 0===g||(a.which=g&1?1:g&2?3:g&4?2:0);return a}},fix:function(a){if(a[k.expando])return a;var b,d,c;b=a.type;var g=a,e=this.fixHooks[b];e||(this.fixHooks[b]=e=Fc.test(b)?this.mouseHooks:ta.test(b)?this.keyHooks:{});c=e.props?this.props.concat(e.props):this.props;a=new k.Event(g);for(b=c.length;b--;)d=c[b],a[d]=g[d];a.target||(a.target=X);3===a.target.nodeType&&(a.target=a.target.parentNode);return e.filter?
e.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===m()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&k.nodeName(this,"input"))return this.click(),!1},_default:function(a){return k.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=
a.result)}}},simulate:function(a,b,d,c){a=k.extend(new k.Event,d,{type:a,isSimulated:!0,originalEvent:{}});c?k.event.trigger(a,null,b):k.event.dispatch.call(b,a);a.isDefaultPrevented()&&d.preventDefault()}};k.removeEvent=function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,!1)};k.Event=function(a,b){if(!(this instanceof k.Event))return new k.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?
t:x):this.type=a;b&&k.extend(this,b);this.timeStamp=a&&a.timeStamp||k.now();this[k.expando]=!0};k.Event.prototype={isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=t;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=t;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=
t;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){k.event.special[a]={delegateType:b,bindType:b,handle:function(a){var d,c=a.relatedTarget,g=a.handleObj;if(!c||c!==this&&!k.contains(this,c))a.type=g.origType,d=g.handler.apply(this,arguments),a.type=b;return d}}});Y.focusinBubbles||k.each({focus:"focusin",blur:"focusout"},function(a,b){var d=
function(a){k.event.simulate(b,a.target,k.event.fix(a),!0)};k.event.special[b]={setup:function(){var c=this.ownerDocument||this,g=Q.access(c,b);g||c.addEventListener(a,d,!0);Q.access(c,b,(g||0)+1)},teardown:function(){var c=this.ownerDocument||this,g=Q.access(c,b)-1;g?Q.access(c,b,g):(c.removeEventListener(a,d,!0),Q.remove(c,b))}}});k.fn.extend({on:function(a,b,d,c,g){var e,f;if("object"===typeof a){"string"!==typeof b&&(d=d||b,b=void 0);for(f in a)this.on(f,b,d,a[f],g);return this}null==d&&null==
c?(c=b,d=b=void 0):null==c&&("string"===typeof b?(c=d,d=void 0):(c=d,d=b,b=void 0));if(!1===c)c=x;else if(!c)return this;1===g&&(e=c,c=function(a){k().off(a);return e.apply(this,arguments)},c.guid=e.guid||(e.guid=k.guid++));return this.each(function(){k.event.add(this,a,c,d,b)})},one:function(a,b,d,c){return this.on(a,b,d,c,1)},off:function(a,b,d){var c;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,k(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),
this;if("object"===typeof a){for(c in a)this.off(c,b,a[c]);return this}if(!1===b||"function"===typeof b)d=b,b=void 0;!1===d&&(d=x);return this.each(function(){k.event.remove(this,a,d,b)})},trigger:function(a,b){return this.each(function(){k.event.trigger(a,b,this)})},triggerHandler:function(a,b){var d=this[0];if(d)return k.event.trigger(a,b,d,!0)}});var hc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Gc=/<([\w:]+)/,dd=/<|&#?\w+;/,Hc=/<(?:script|style|link)/i,ge=/checked\s*(?:[^=]|=\s*.checked.)/i,
ed=/^$|\/(?:java|ecma)script/i,$a=/^true\/(.*)/,lb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ba={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ba.optgroup=Ba.option;Ba.tbody=Ba.tfoot=Ba.colgroup=Ba.caption=Ba.thead;Ba.th=Ba.td;k.extend({clone:function(a,b,d){var c,g,e,f,l=a.cloneNode(!0),h=k.contains(a.ownerDocument,
a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||k.isXMLDoc(a)))for(f=E(l),e=E(a),c=0,g=e.length;c<g;c++){var q=e[c],r=f[c],m=r.nodeName.toLowerCase();if("input"===m&&ca.test(q.type))r.checked=q.checked;else if("input"===m||"textarea"===m)r.defaultValue=q.defaultValue}if(b)if(d)for(e=e||E(a),f=f||E(l),c=0,g=e.length;c<g;c++)L(e[c],f[c]);else L(a,l);f=E(l,"script");0<f.length&&J(f,!h&&E(a,"script"));return l},buildFragment:function(a,b,d,c){for(var g,e,f,l=b.createDocumentFragment(),h=[],
q=0,r=a.length;q<r;q++)if((g=a[q])||0===g)if("object"===k.type(g))k.merge(h,g.nodeType?[g]:g);else if(dd.test(g)){e=e||l.appendChild(b.createElement("div"));f=(Gc.exec(g)||["",""])[1].toLowerCase();f=Ba[f]||Ba._default;e.innerHTML=f[1]+g.replace(hc,"<$1></$2>")+f[2];for(f=f[0];f--;)e=e.lastChild;k.merge(h,e.childNodes);e=l.firstChild;e.textContent=""}else h.push(b.createTextNode(g));l.textContent="";for(q=0;g=h[q++];)if(!c||-1===k.inArray(g,c))if(a=k.contains(g.ownerDocument,g),e=E(l.appendChild(g),
"script"),a&&J(e),d)for(f=0;g=e[f++];)ed.test(g.type||"")&&d.push(g);return l},cleanData:function(a){for(var b,d,c,g,e=k.event.special,f=0;void 0!==(d=a[f]);f++){if(k.acceptData(d)&&(g=d[Q.expando])&&(b=Q.cache[g])){if(b.events)for(c in b.events)e[c]?k.event.remove(d,c):k.removeEvent(d,c,b.handle);Q.cache[g]&&delete Q.cache[g]}delete oa.cache[d[oa.expando]]}}});k.fn.extend({text:function(a){return ka(this,function(a){return void 0===a?k.text(this):this.empty().each(function(){if(1===this.nodeType||
11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||A(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=A(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,
this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var d,c=a?k.filter(a,this):this,g=0;null!=(d=c[g]);g++)b||1!==d.nodeType||k.cleanData(E(d)),d.parentNode&&(b&&k.contains(d.ownerDocument,d)&&J(E(d,"script")),d.parentNode.removeChild(d));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(k.cleanData(E(a,!1)),a.textContent="");return this},clone:function(a,
b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return k.clone(this,a,b)})},html:function(a){return ka(this,function(a){var b=this[0]||{},d=0,c=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!Hc.test(a)&&!Ba[(Gc.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(hc,"<$1></$2>");try{for(;d<c;d++)b=this[d]||{},1===b.nodeType&&(k.cleanData(E(b,!1)),b.innerHTML=a);b=0}catch(g){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=
arguments[0];this.domManip(arguments,function(b){a=this.parentNode;k.cleanData(E(this));a&&a.replaceChild(b,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Qa.apply([],a);var d,c,g,e,f=0,l=this.length,h=this,q=l-1,r=a[0],m=k.isFunction(r);if(m||1<l&&"string"===typeof r&&!Y.checkClone&&ge.test(r))return this.each(function(d){var c=h.eq(d);m&&(a[0]=r.call(this,d,c.html()));c.domManip(a,b)});if(l&&(d=k.buildFragment(a,
this[0].ownerDocument,!1,this),c=d.firstChild,1===d.childNodes.length&&(d=c),c)){c=k.map(E(d,"script"),O);for(g=c.length;f<l;f++)e=d,f!==q&&(e=k.clone(e,!0,!0),g&&k.merge(c,E(e,"script"))),b.call(this[f],e,f);if(g)for(d=c[c.length-1].ownerDocument,k.map(c,N),f=0;f<g;f++)e=c[f],ed.test(e.type||"")&&!Q.access(e,"globalEval")&&k.contains(d,e)&&(e.src?k._evalUrl&&k._evalUrl(e.src):k.globalEval(e.textContent.replace(lb,"")))}return this}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(a,b){k.fn[a]=function(a){for(var d=[],c=k(a),g=c.length-1,e=0;e<=g;e++)a=e===g?this:this.clone(!0),k(c[e])[b](a),wb.apply(d,a.get());return this.pushStack(d)}});var ac,xa={},Jb=/^margin/,vb=new RegExp("^("+Wa+")(?!px)[a-z%]+$","i"),bc=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};(function(){function a(){e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";
e.innerHTML="";c.appendChild(g);var f=p.getComputedStyle(e,null);b="1%"!==f.top;d="4px"===f.width;c.removeChild(g)}var b,d,c=X.documentElement,g=X.createElement("div"),e=X.createElement("div");e.style&&(e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===e.style.backgroundClip,g.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",g.appendChild(e),p.getComputedStyle&&k.extend(Y,{pixelPosition:function(){a();
return b},boxSizingReliable:function(){null==d&&a();return d},reliableMarginRight:function(){var a;a=e.appendChild(X.createElement("div"));a.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";a.style.marginRight=a.style.width="0";e.style.width="1px";c.appendChild(g);a=!parseFloat(p.getComputedStyle(a,null).marginRight);c.removeChild(g);return a}}))})();k.swap=function(a,b,d,c){var g,e={};for(g in b)e[g]=
a.style[g],a.style[g]=b[g];d=d.apply(a,c||[]);for(g in b)a.style[g]=e[g];return d};var he=/^(none|table(?!-c[ea]).+)/,Ud=new RegExp("^("+Wa+")(.*)$","i"),ie=new RegExp("^([+-])=("+Wa+")","i"),je={position:"absolute",visibility:"hidden",display:"block"},fd={letterSpacing:"0",fontWeight:"400"},Wc=["Webkit","O","Moz","ms"];k.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=R(a,"opacity");return""===d?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,
opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,d,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,e,f,l=k.camelCase(b),h=a.style;b=k.cssProps[l]||(k.cssProps[l]=Z(h,l));f=k.cssHooks[b]||k.cssHooks[l];if(void 0!==d)e=typeof d,"string"===e&&(g=ie.exec(d))&&(d=(g[1]+1)*g[2]+parseFloat(k.css(a,b)),e="number"),null!=d&&d===d&&("number"!==e||k.cssNumber[l]||(d+="px"),Y.clearCloneStyle||""!==d||0!==b.indexOf("background")||(h[b]="inherit"),
f&&"set"in f&&void 0===(d=f.set(a,d,c))||(h[b]=d));else return f&&"get"in f&&void 0!==(g=f.get(a,!1,c))?g:h[b]}},css:function(a,b,d,c){var g,e;e=k.camelCase(b);b=k.cssProps[e]||(k.cssProps[e]=Z(a.style,e));(e=k.cssHooks[b]||k.cssHooks[e])&&"get"in e&&(g=e.get(a,!0,d));void 0===g&&(g=R(a,b,c));"normal"===g&&b in fd&&(g=fd[b]);return""===d||d?(a=parseFloat(g),!0===d||k.isNumeric(a)?a||0:g):g}});k.each(["height","width"],function(c,g){k.cssHooks[g]={get:function(a,b,c){if(b)return he.test(k.css(a,"display"))&&
0===a.offsetWidth?k.swap(a,je,function(){return d(a,g,c)}):d(a,g,c)},set:function(d,c,e){var f=e&&bc(d);return b(d,c,e?a(d,g,e,"border-box"===k.css(d,"boxSizing",!1,f),f):0)}}});k.cssHooks.marginRight=qa(Y.reliableMarginRight,function(a,b){if(b)return k.swap(a,{display:"inline-block"},R,[a,"marginRight"])});k.each({margin:"",padding:"",border:"Width"},function(a,d){k.cssHooks[a+d]={expand:function(b){var c=0,g={};for(b="string"===typeof b?b.split(" "):[b];4>c;c++)g[a+Oa[c]+d]=b[c]||b[c-2]||b[0];return g}};
Jb.test(a)||(k.cssHooks[a+d].set=b)});k.fn.extend({css:function(a,b){return ka(this,function(a,b,d){var c,g={},e=0;if(k.isArray(b)){d=bc(a);for(c=b.length;e<c;e++)g[b[e]]=k.css(a,b[e],!1,d);return g}return void 0!==d?k.style(a,b,d):k.css(a,b)},a,b,1<arguments.length)},show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Pa(this)?k(this).show():k(this).hide()})}});k.Tween=l;l.prototype={constructor:l,
init:function(a,b,d,c,g,e){this.elem=a;this.prop=d;this.easing=g||"swing";this.options=b;this.start=this.now=this.cur();this.end=c;this.unit=e||(k.cssNumber[d]?"":"px")},cur:function(){var a=l.propHooks[this.prop];return a&&a.get?a.get(this):l.propHooks._default.get(this)},run:function(a){var b,d=l.propHooks[this.prop];this.pos=this.options.duration?b=k.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,
this.now,this);d&&d.set?d.set(this):l.propHooks._default.set(this);return this}};l.prototype.init.prototype=l.prototype;l.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=k.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(k.fx.step[a.prop])k.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[k.cssProps[a.prop]]||k.cssHooks[a.prop])?k.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};l.propHooks.scrollTop=
l.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};k.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};k.fx=l.prototype.init;k.fx.step={};var jb,ic,gd=/^(?:toggle|show|hide)$/,hd=new RegExp("^(?:([+-])=|)("+Wa+")([a-z%]*)$","i"),ke=/queueHooks$/,cc=[function(a,b,d){var c,g,e,f,l,h,q=this,r={},m=a.style,n=a.nodeType&&Pa(a),t=Q.get(a,"fxshow");d.queue||(f=k._queueHooks(a,"fx"),null==f.unqueued&&(f.unqueued=0,l=f.empty.fire,
f.empty.fire=function(){f.unqueued||l()}),f.unqueued++,q.always(function(){q.always(function(){f.unqueued--;k.queue(a,"fx").length||f.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(d.overflow=[m.overflow,m.overflowX,m.overflowY],h=k.css(a,"display"),g="none"===h?Q.get(a,"olddisplay")||I(a.nodeName):h,"inline"===g&&"none"===k.css(a,"float")&&(m.display="inline-block"));d.overflow&&(m.overflow="hidden",q.always(function(){m.overflow=d.overflow[0];m.overflowX=d.overflow[1];m.overflowY=
d.overflow[2]}));for(c in b)if(g=b[c],gd.exec(g)){delete b[c];e=e||"toggle"===g;if(g===(n?"hide":"show"))if("show"===g&&t&&void 0!==t[c])n=!0;else continue;r[c]=t&&t[c]||k.style(a,c)}else h=void 0;if(k.isEmptyObject(r))"inline"===("none"===h?I(a.nodeName):h)&&(m.display=h);else for(c in t?"hidden"in t&&(n=t.hidden):t=Q.access(a,"fxshow",{}),e&&(t.hidden=!n),n?k(a).show():q.done(function(){k(a).hide()}),q.done(function(){var b;Q.remove(a,"fxshow");for(b in r)k.style(a,b,r[b])}),r)b=y(n?t[c]:0,c,q),
c in t||(t[c]=b.start,n&&(b.end=b.start,b.start="width"===c||"height"===c?1:0))}],Kb={"*":[function(a,b){var d=this.createTween(a,b),c=d.cur(),g=hd.exec(b),e=g&&g[3]||(k.cssNumber[a]?"":"px"),f=(k.cssNumber[a]||"px"!==e&&+c)&&hd.exec(k.css(d.elem,a)),l=1,h=20;if(f&&f[3]!==e){e=e||f[3];g=g||[];f=+c||1;do l=l||".5",f/=l,k.style(d.elem,a,f+e);while(l!==(l=d.cur()/c)&&1!==l&&--h)}g&&(f=d.start=+f||+c||0,d.unit=e,d.end=g[1]?f+(g[1]+1)*g[2]:+g[2]);return d}]};k.Animation=k.extend(C,{tweener:function(a,
b){k.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var d,c=0,g=a.length;c<g;c++)d=a[c],Kb[d]=Kb[d]||[],Kb[d].unshift(b)},prefilter:function(a,b){b?cc.unshift(a):cc.push(a)}});k.speed=function(a,b,d){var c=a&&"object"===typeof a?k.extend({},a):{complete:d||!d&&b||k.isFunction(a)&&a,duration:a,easing:d&&b||b&&!k.isFunction(b)&&b};c.duration=k.fx.off?0:"number"===typeof c.duration?c.duration:c.duration in k.fx.speeds?k.fx.speeds[c.duration]:k.fx.speeds._default;if(null==c.queue||!0===c.queue)c.queue=
"fx";c.old=c.complete;c.complete=function(){k.isFunction(c.old)&&c.old.call(this);c.queue&&k.dequeue(this,c.queue)};return c};k.fn.extend({fadeTo:function(a,b,d,c){return this.filter(Pa).css("opacity",0).show().end().animate({opacity:b},a,d,c)},animate:function(a,b,d,c){var g=k.isEmptyObject(a),e=k.speed(b,d,c);b=function(){var b=C(this,k.extend({},a),e);(g||Q.get(this,"finish"))&&b.stop(!0)};b.finish=b;return g||!1===e.queue?this.each(b):this.queue(e.queue,b)},stop:function(a,b,d){var c=function(a){var b=
a.stop;delete a.stop;b(d)};"string"!==typeof a&&(d=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,g=null!=a&&a+"queueHooks",e=k.timers,f=Q.get(this);if(g)f[g]&&f[g].stop&&c(f[g]);else for(g in f)f[g]&&f[g].stop&&ke.test(g)&&c(f[g]);for(g=e.length;g--;)e[g].elem!==this||null!=a&&e[g].queue!==a||(e[g].anim.stop(d),b=!1,e.splice(g,1));!b&&d||k.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,d=Q.get(this),c=d[a+"queue"];
b=d[a+"queueHooks"];var g=k.timers,e=c?c.length:0;d.finish=!0;k.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,1));for(b=0;b<e;b++)c[b]&&c[b].finish&&c[b].finish.call(this);delete d.finish})}});k.each(["toggle","show","hide"],function(a,b){var d=k.fn[b];k.fn[b]=function(a,c,g){return null==a||"boolean"===typeof a?d.apply(this,arguments):this.animate(r(b,!0),a,c,g)}});k.each({slideDown:r("show"),slideUp:r("hide"),
slideToggle:r("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){k.fn[a]=function(a,d,c){return this.animate(b,a,d,c)}});k.timers=[];k.fx.tick=function(){var a,b=0,d=k.timers;for(jb=k.now();b<d.length;b++)a=d[b],a()||d[b]!==a||d.splice(b--,1);d.length||k.fx.stop();jb=void 0};k.fx.timer=function(a){k.timers.push(a);a()?k.fx.start():k.timers.pop()};k.fx.interval=13;k.fx.start=function(){ic||(ic=setInterval(k.fx.tick,k.fx.interval))};k.fx.stop=function(){clearInterval(ic);
ic=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fn.delay=function(a,b){a=k.fx?k.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,d){var c=setTimeout(b,a);d.stop=function(){clearTimeout(c)}})};(function(){var a=X.createElement("input"),b=X.createElement("select"),d=b.appendChild(X.createElement("option"));a.type="checkbox";Y.checkOn=""!==a.value;Y.optSelected=d.selected;b.disabled=!0;Y.optDisabled=!d.disabled;a=X.createElement("input");a.value="t";a.type="radio";Y.radioValue="t"===a.value})();
var id,Pb=k.expr.attrHandle;k.fn.extend({attr:function(a,b){return ka(this,k.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){k.removeAttr(this,a)})}});k.extend({attr:function(a,b,d){var c,g,e=a.nodeType;if(a&&3!==e&&8!==e&&2!==e){if("undefined"===typeof a.getAttribute)return k.prop(a,b,d);1===e&&k.isXMLDoc(a)||(b=b.toLowerCase(),c=k.attrHooks[b]||(k.expr.match.bool.test(b)?id:void 0));if(void 0!==d)if(null===d)k.removeAttr(a,b);else{if(c&&"set"in c&&void 0!==(g=c.set(a,
d,b)))return g;a.setAttribute(b,d+"");return d}else{if(c&&"get"in c&&null!==(g=c.get(a,b)))return g;g=k.find.attr(a,b);return null==g?void 0:g}}},removeAttr:function(a,b){var d,c,g=0,e=b&&b.match(Ga);if(e&&1===a.nodeType)for(;d=e[g++];)c=k.propFix[d]||d,k.expr.match.bool.test(d)&&(a[c]=!1),a.removeAttribute(d)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&k.nodeName(a,"input")){var d=a.value;a.setAttribute("type",b);d&&(a.value=d);return b}}}}});id={set:function(a,b,d){!1===b?
k.removeAttr(a,d):a.setAttribute(d,d);return d}};k.each(k.expr.match.bool.source.match(/\w+/g),function(a,b){var d=Pb[b]||k.find.attr;Pb[b]=function(a,b,c){var g,e;c||(e=Pb[b],Pb[b]=g,g=null!=d(a,b,c)?b.toLowerCase():null,Pb[b]=e);return g}});var Ic=/^(?:input|select|textarea|button)$/i;k.fn.extend({prop:function(a,b){return ka(this,k.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[k.propFix[a]||a]})}});k.extend({propFix:{"for":"htmlFor","class":"className"},
prop:function(a,b,d){var c,g,e;e=a.nodeType;if(a&&3!==e&&8!==e&&2!==e){if(e=1!==e||!k.isXMLDoc(a))b=k.propFix[b]||b,g=k.propHooks[b];return void 0!==d?g&&"set"in g&&void 0!==(c=g.set(a,d,b))?c:a[b]=d:g&&"get"in g&&null!==(c=g.get(a,b))?c:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||Ic.test(a.nodeName)||a.href?a.tabIndex:-1}}}});Y.optSelected||(k.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null}});k.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){k.propFix[this.toLowerCase()]=this});var jc=/[\t\r\n\f]/g;k.fn.extend({addClass:function(a){var b,d,c,g,e;b="string"===typeof a&&a;var f=0,l=this.length;if(k.isFunction(a))return this.each(function(b){k(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(Ga)||[];f<l;f++)if(d=this[f],c=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(jc," "):" ")){for(e=0;g=b[e++];)0>c.indexOf(" "+g+" ")&&(c+=g+" ");c=k.trim(c);d.className!==c&&(d.className=c)}return this},
removeClass:function(a){var b,d,c,g,e;b=0===arguments.length||"string"===typeof a&&a;var f=0,l=this.length;if(k.isFunction(a))return this.each(function(b){k(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(Ga)||[];f<l;f++)if(d=this[f],c=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(jc," "):"")){for(e=0;g=b[e++];)for(;0<=c.indexOf(" "+g+" ");)c=c.replace(" "+g+" "," ");c=a?k.trim(c):"";d.className!==c&&(d.className=c)}return this},toggleClass:function(a,b){var d=
typeof a;return"boolean"===typeof b&&"string"===d?b?this.addClass(a):this.removeClass(a):k.isFunction(a)?this.each(function(d){k(this).toggleClass(a.call(this,d,this.className,b),b)}):this.each(function(){if("string"===d)for(var b,c=0,g=k(this),e=a.match(Ga)||[];b=e[c++];)g.hasClass(b)?g.removeClass(b):g.addClass(b);else if("undefined"===d||"boolean"===d)this.className&&Q.set(this,"__className__",this.className),this.className=this.className||!1===a?"":Q.get(this,"__className__")||""})},hasClass:function(a){a=
" "+a+" ";for(var b=0,d=this.length;b<d;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(jc," ").indexOf(a))return!0;return!1}});var kc=/\r/g;k.fn.extend({val:function(a){var b,d,c,g=this[0];if(arguments.length)return c=k.isFunction(a),this.each(function(d){1===this.nodeType&&(d=c?a.call(this,d,k(this).val()):a,null==d?d="":"number"===typeof d?d+="":k.isArray(d)&&(d=k.map(d,function(a){return null==a?"":a+""})),b=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],b&&
"set"in b&&void 0!==b.set(this,d,"value")||(this.value=d))});if(g){if((b=k.valHooks[g.type]||k.valHooks[g.nodeName.toLowerCase()])&&"get"in b&&void 0!==(d=b.get(g,"value")))return d;d=g.value;return"string"===typeof d?d.replace(kc,""):null==d?"":d}}});k.extend({valHooks:{option:{get:function(a){var b=k.find.attr(a,"value");return null!=b?b:k.trim(k.text(a))}},select:{get:function(a){for(var b,d=a.options,c=a.selectedIndex,g=(a="select-one"===a.type||0>c)?null:[],e=a?c+1:d.length,f=0>c?e:a?c:0;f<e;f++)if(b=
d[f],!(!b.selected&&f!==c||(Y.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&k.nodeName(b.parentNode,"optgroup"))){b=k(b).val();if(a)return b;g.push(b)}return g},set:function(a,b){for(var d,c,g=a.options,e=k.makeArray(b),f=g.length;f--;)if(c=g[f],c.selected=0<=k.inArray(c.value,e))d=!0;d||(a.selectedIndex=-1);return e}}}});k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(a,b){if(k.isArray(b))return a.checked=0<=k.inArray(k(a).val(),b)}};Y.checkOn||
(k.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){k.fn[b]=function(a,d){return 0<arguments.length?this.on(b,null,a,d):this.trigger(b)}});k.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,
b,d){return this.on(a,null,b,d)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,d,c){return this.on(b,a,d,c)},undelegate:function(a,b,d){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",d)}});var Qb=k.now(),lc=/\?/;k.parseJSON=function(a){return JSON.parse(a+"")};k.parseXML=function(a){var b,d;if(!a||"string"!==typeof a)return null;try{d=new DOMParser,b=d.parseFromString(a,"text/xml")}catch(c){b=void 0}b&&!b.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+
a);return b};var mb,Ha,mc=/#.*$/,nb=/([?&])_=[^&]*/,Jc=/^(.*?):[ \t]*([^\r\n]*)$/mg,nc=/^(?:GET|HEAD)$/,oc=/^\/\//,Rb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Sb={},Lb={},Bb="*/".concat("*");try{Ha=location.href}catch(le){Ha=X.createElement("a"),Ha.href="",Ha=Ha.href}mb=Rb.exec(Ha.toLowerCase())||[];k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ha,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(mb[1]),global:!0,processData:!0,async:!0,
contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ba(ba(a,k.ajaxSettings),b):ba(k.ajaxSettings,
a)},ajaxPrefilter:w(Sb),ajaxTransport:w(Lb),ajax:function(a,b){function d(a,b,f,h){var r,D,B,w;w=b;if(2!==C){C=2;l&&clearTimeout(l);c=void 0;e=h||"";I.readyState=0<a?4:0;h=200<=a&&300>a||304===a;if(f){B=m;for(var z=I,A,ba,O,na,u=B.contents,N=B.dataTypes;"*"===N[0];)N.shift(),void 0===A&&(A=B.mimeType||z.getResponseHeader("Content-Type"));if(A)for(ba in u)if(u[ba]&&u[ba].test(A)){N.unshift(ba);break}if(N[0]in f)O=N[0];else{for(ba in f){if(!N[0]||B.converters[ba+" "+N[0]]){O=ba;break}na||(na=ba)}O=
O||na}O?(O!==N[0]&&N.unshift(O),B=f[O]):B=void 0}a:{f=m;A=B;ba=I;O=h;var E,aa,ra,z={},u=f.dataTypes.slice();if(u[1])for(aa in f.converters)z[aa.toLowerCase()]=f.converters[aa];for(na=u.shift();na;)if(f.responseFields[na]&&(ba[f.responseFields[na]]=A),!ra&&O&&f.dataFilter&&(A=f.dataFilter(A,f.dataType)),ra=na,na=u.shift())if("*"===na)na=ra;else if("*"!==ra&&ra!==na){aa=z[ra+" "+na]||z["* "+na];if(!aa)for(E in z)if(B=E.split(" "),B[1]===na&&(aa=z[ra+" "+B[0]]||z["* "+B[0]])){!0===aa?aa=z[E]:!0!==z[E]&&
(na=B[0],u.unshift(B[1]));break}if(!0!==aa)if(aa&&f["throws"])A=aa(A);else try{A=aa(A)}catch(ga){B={state:"parsererror",error:aa?ga:"No conversion from "+ra+" to "+na};break a}}B={state:"success",data:A}}if(h)m.ifModified&&((w=I.getResponseHeader("Last-Modified"))&&(k.lastModified[g]=w),(w=I.getResponseHeader("etag"))&&(k.etag[g]=w)),204===a||"HEAD"===m.type?w="nocontent":304===a?w="notmodified":(w=B.state,r=B.data,D=B.error,h=!D);else if(D=w,a||!w)w="error",0>a&&(a=0);I.status=a;I.statusText=(b||
w)+"";h?y.resolveWith(n,[r,w,I]):y.rejectWith(n,[I,w,D]);I.statusCode(x);x=void 0;q&&t.trigger(h?"ajaxSuccess":"ajaxError",[I,m,h?r:D]);p.fireWith(n,[I,w]);q&&(t.trigger("ajaxComplete",[I,m]),--k.active||k.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=void 0);b=b||{};var c,g,e,f,l,h,q,r,m=k.ajaxSetup({},b),n=m.context||m,t=m.context&&(n.nodeType||n.jquery)?k(n):k.event,y=k.Deferred(),p=k.Callbacks("once memory"),x=m.statusCode||{},D={},w={},C=0,A="canceled",I={readyState:0,getResponseHeader:function(a){var b;
if(2===C){if(!f)for(f={};b=Jc.exec(e);)f[b[1].toLowerCase()]=b[2];b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===C?e:null},setRequestHeader:function(a,b){var d=a.toLowerCase();C||(a=w[d]=w[d]||a,D[a]=b);return this},overrideMimeType:function(a){C||(m.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>C)for(b in a)x[b]=[x[b],a[b]];else I.always(a[I.status]);return this},abort:function(a){a=a||A;c&&c.abort(a);d(0,a);return this}};y.promise(I).complete=
p.add;I.success=I.done;I.error=I.fail;m.url=((a||m.url||Ha)+"").replace(mc,"").replace(oc,mb[1]+"//");m.type=b.method||b.type||m.method||m.type;m.dataTypes=k.trim(m.dataType||"*").toLowerCase().match(Ga)||[""];null==m.crossDomain&&(h=Rb.exec(m.url.toLowerCase()),m.crossDomain=!(!h||h[1]===mb[1]&&h[2]===mb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(mb[3]||("http:"===mb[1]?"80":"443"))));m.data&&m.processData&&"string"!==typeof m.data&&(m.data=k.param(m.data,m.traditional));z(Sb,m,b,I);if(2===C)return I;
(q=m.global)&&0===k.active++&&k.event.trigger("ajaxStart");m.type=m.type.toUpperCase();m.hasContent=!nc.test(m.type);g=m.url;m.hasContent||(m.data&&(g=m.url+=(lc.test(g)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=nb.test(g)?g.replace(nb,"$1_="+Qb++):g+(lc.test(g)?"&":"?")+"_="+Qb++));m.ifModified&&(k.lastModified[g]&&I.setRequestHeader("If-Modified-Since",k.lastModified[g]),k.etag[g]&&I.setRequestHeader("If-None-Match",k.etag[g]));(m.data&&m.hasContent&&!1!==m.contentType||b.contentType)&&
I.setRequestHeader("Content-Type",m.contentType);I.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Bb+"; q=0.01":""):m.accepts["*"]);for(r in m.headers)I.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(n,I,m)||2===C))return I.abort();A="abort";for(r in{success:1,error:1,complete:1})I[r](m[r]);if(c=z(Lb,m,b,I)){I.readyState=1;q&&t.trigger("ajaxSend",[I,m]);m.async&&0<m.timeout&&(l=setTimeout(function(){I.abort("timeout")},
m.timeout));try{C=1,c.send(D,d)}catch(ba){if(2>C)d(-1,ba);else throw ba;}}else d(-1,"No Transport");return I},getJSON:function(a,b,d){return k.get(a,b,d,"json")},getScript:function(a,b){return k.get(a,void 0,b,"script")}});k.each(["get","post"],function(a,b){k[b]=function(a,d,c,g){k.isFunction(d)&&(g=g||c,c=d,d=void 0);return k.ajax({url:a,type:b,dataType:g,data:d,success:c})}});k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){k.fn[b]=function(a){return this.on(b,
a)}});k._evalUrl=function(a){return k.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};k.fn.extend({wrapAll:function(a){var b;if(k.isFunction(a))return this.each(function(b){k(this).wrapAll(a.call(this,b))});this[0]&&(b=k(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return k.isFunction(a)?this.each(function(b){k(this).wrapInner(a.call(this,
b))}):this.each(function(){var b=k(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){var b=k.isFunction(a);return this.each(function(d){k(this).wrapAll(b?a.call(this,d):a)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,"body")||k(this).replaceWith(this.childNodes)}).end()}});k.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight};k.expr.filters.visible=function(a){return!k.expr.filters.hidden(a)};var jd=/%20/g,Vd=/\[\]$/,ob=
/\r?\n/g,kd=/^(?:submit|button|image|reset|file)$/i,ld=/^(?:input|select|textarea|keygen)/i;k.param=function(a,b){var d,c=[],g=function(a,b){b=k.isFunction(b)?b():null==b?"":b;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=k.ajaxSettings&&k.ajaxSettings.traditional);if(k.isArray(a)||a.jquery&&!k.isPlainObject(a))k.each(a,function(){g(this.name,this.value)});else for(d in a)aa(d,a[d],b,g);return c.join("&").replace(jd,"+")};k.fn.extend({serialize:function(){return k.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=k.prop(this,"elements");return a?k.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!k(this).is(":disabled")&&ld.test(this.nodeName)&&!kd.test(a)&&(this.checked||!ca.test(a))}).map(function(a,b){var d=k(this).val();return null==d?null:k.isArray(d)?k.map(d,function(a){return{name:b.name,value:a.replace(ob,"\r\n")}}):{name:b.name,value:d.replace(ob,"\r\n")}}).get()}});k.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};
var pc=0,Tb={},me={0:200,1223:204},Cb=k.ajaxSettings.xhr();if(p.ActiveXObject)k(p).on("unload",function(){for(var a in Tb)Tb[a]()});Y.cors=!!Cb&&"withCredentials"in Cb;Y.ajax=Cb=!!Cb;k.ajaxTransport(function(a){var b;if(Y.cors||Cb&&!a.crossDomain)return{send:function(d,c){var g,e=a.xhr(),f=++pc;e.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(g in a.xhrFields)e[g]=a.xhrFields[g];a.mimeType&&e.overrideMimeType&&e.overrideMimeType(a.mimeType);a.crossDomain||d["X-Requested-With"]||
(d["X-Requested-With"]="XMLHttpRequest");for(g in d)e.setRequestHeader(g,d[g]);b=function(a){return function(){b&&(delete Tb[f],b=e.onload=e.onerror=null,"abort"===a?e.abort():"error"===a?c(e.status,e.statusText):c(me[e.status]||e.status,e.statusText,"string"===typeof e.responseText?{text:e.responseText}:void 0,e.getAllResponseHeaders()))}};e.onload=b();e.onerror=b("error");b=Tb[f]=b("abort");try{e.send(a.hasContent&&a.data||null)}catch(l){if(b)throw l;}},abort:function(){b&&b()}}});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){k.globalEval(a);return a}}});k.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});k.ajaxTransport("script",function(a){if(a.crossDomain){var b,d;return{send:function(c,g){b=k("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",d=function(a){b.remove();d=null;a&&g("error"===a.type?404:200,a.type)});X.head.appendChild(b[0])},abort:function(){d&&d()}}}});
var md=[],Kc=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=md.pop()||k.expando+"_"+Qb++;this[a]=!0;return a}});k.ajaxPrefilter("json jsonp",function(a,b,d){var c,g,e,f=!1!==a.jsonp&&(Kc.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kc.test(a.data)&&"data");if(f||"jsonp"===a.dataTypes[0])return c=a.jsonpCallback=k.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,f?a[f]=a[f].replace(Kc,"$1"+
c):!1!==a.jsonp&&(a.url+=(lc.test(a.url)?"&":"?")+a.jsonp+"="+c),a.converters["script json"]=function(){e||k.error(c+" was not called");return e[0]},a.dataTypes[0]="json",g=p[c],p[c]=function(){e=arguments},d.always(function(){p[c]=g;a[c]&&(a.jsonpCallback=b.jsonpCallback,md.push(c));e&&k.isFunction(g)&&g(e[0]);e=g=void 0}),"script"});k.parseHTML=function(a,b,d){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(d=b,b=!1);b=b||X;var c=zb.exec(a);d=!d&&[];if(c)return[b.createElement(c[1])];
c=k.buildFragment([a],b,d);d&&d.length&&k(d).remove();return k.merge([],c.childNodes)};var Lc=k.fn.load;k.fn.load=function(a,b,d){if("string"!==typeof a&&Lc)return Lc.apply(this,arguments);var c,g,e,f=this,l=a.indexOf(" ");0<=l&&(c=k.trim(a.slice(l)),a=a.slice(0,l));k.isFunction(b)?(d=b,b=void 0):b&&"object"===typeof b&&(g="POST");0<f.length&&k.ajax({url:a,type:g,dataType:"html",data:b}).done(function(a){e=arguments;f.html(c?k("<div>").append(k.parseHTML(a)).find(c):a)}).complete(d&&function(a,b){f.each(d,
e||[a.responseText,b,a])});return this};k.expr.filters.animated=function(a){return k.grep(k.timers,function(b){return a===b.elem}).length};var Mc=p.document.documentElement;k.offset={setOffset:function(a,b,d){var c,g,e,f=k.css(a,"position"),l=k(a),h={};"static"===f&&(a.style.position="relative");e=l.offset();g=k.css(a,"top");c=k.css(a,"left");("absolute"===f||"fixed"===f)&&-1<(g+c).indexOf("auto")?(c=l.position(),g=c.top,c=c.left):(g=parseFloat(g)||0,c=parseFloat(c)||0);k.isFunction(b)&&(b=b.call(a,
d,e));null!=b.top&&(h.top=b.top-e.top+g);null!=b.left&&(h.left=b.left-e.left+c);"using"in b?b.using.call(a,h):l.css(h)}};k.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){k.offset.setOffset(this,a,b)});var b,d;d=this[0];var c={top:0,left:0},g=d&&d.ownerDocument;if(g){b=g.documentElement;if(!k.contains(b,d))return c;"undefined"!==typeof d.getBoundingClientRect&&(c=d.getBoundingClientRect());d=ua(g);return{top:c.top+d.pageYOffset-b.clientTop,left:c.left+
d.pageXOffset-b.clientLeft}}},position:function(){if(this[0]){var a,b,d=this[0],c={top:0,left:0};"fixed"===k.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),k.nodeName(a[0],"html")||(c=a.offset()),c.top+=k.css(a[0],"borderTopWidth",!0),c.left+=k.css(a[0],"borderLeftWidth",!0));return{top:b.top-c.top-k.css(d,"marginTop",!0),left:b.left-c.left-k.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Mc;a&&!k.nodeName(a,
"html")&&"static"===k.css(a,"position");)a=a.offsetParent;return a||Mc})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var d="pageYOffset"===b;k.fn[a]=function(c){return ka(this,function(a,c,g){var e=ua(a);if(void 0===g)return e?e[b]:a[c];e?e.scrollTo(d?p.pageXOffset:g,d?g:p.pageYOffset):a[c]=g},a,c,arguments.length,null)}});k.each(["top","left"],function(a,b){k.cssHooks[b]=qa(Y.pixelPosition,function(a,d){if(d)return d=R(a,b),vb.test(d)?k(a).position()[b]+"px":d})});
k.each({Height:"height",Width:"width"},function(a,b){k.each({padding:"inner"+a,content:b,"":"outer"+a},function(d,c){k.fn[c]=function(c,g){var e=arguments.length&&(d||"boolean"!==typeof c),f=d||(!0===c||!0===g?"margin":"border");return ka(this,function(b,d,c){return k.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(d=b.documentElement,Math.max(b.body["scroll"+a],d["scroll"+a],b.body["offset"+a],d["offset"+a],d["client"+a])):void 0===c?k.css(b,d,f):k.style(b,d,c,f)},b,e?c:void 0,
e,null)}})});k.fn.size=function(){return this.length};k.fn.andSelf=k.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return k});var nd=p.jQuery,Nc=p.$;k.noConflict=function(a){p.$===k&&(p.$=Nc);a&&p.jQuery===k&&(p.jQuery=nd);return k};"undefined"===typeof u&&(p.jQuery=p.$=k);return k});
(function(p,u,G,H){(function(c){for(var e=c.length,f=p("head");e--;)0===f.has("."+c[e]).length&&f.append('<meta class="'+c[e]+'" />')})("foundation-mq-small foundation-mq-medium foundation-mq-large foundation-mq-xlarge foundation-mq-xxlarge foundation-data-attribute-namespace".split(" "));p(function(){"undefined"!==typeof FastClick&&"undefined"!==typeof G.body&&FastClick.attach(G.body)});var e=function(c,e){if("string"===typeof c){if(e){var f;if(e.jquery){if(f=e[0],!f)return e}else f=e;return p(f.querySelectorAll(c))}return p(G.querySelectorAll(c))}return p(c,
e)},f=function(c){var e=[];c||e.push("data");0<this.namespace.length&&e.push(this.namespace);e.push(this.name);return e.join("-")},c=function(c){c=c.split("-");for(var e=c.length,f=[];e--;)0!==e?f.push(c[e]):0<this.namespace.length?f.push(this.namespace,c[e]):f.push(c[e]);return f.reverse().join("-")},n=function(c,f){var h=this,n=!e(this).data(this.attr_name(!0));e(this.scope).is("["+this.attr_name()+"]")?(e(this.scope).data(this.attr_name(!0)+"-init",p.extend({},this.settings,f||c,this.data_options(e(this.scope)))),
n&&this.events(this.scope)):e("["+this.attr_name()+"]",this.scope).each(function(){var n=!e(this).data(h.attr_name(!0)+"-init");e(this).data(h.attr_name(!0)+"-init",p.extend({},h.settings,f||c,h.data_options(e(this))));n&&h.events(this)});if("string"===typeof c)return this[c].call(this,f)},h=function(c,e){function f(){e(c[0])}function h(){this.one("load",f);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var c=this.attr("src"),e=c.match(/\?/)?"&":"?",e=e+("random="+(new Date).getTime());this.attr("src",
c+e)}}c.attr("src")?c[0].complete||4===c[0].readyState?f():h.call(c):f()};u.matchMedia=u.matchMedia||function(c){var e,f=c.documentElement,h=f.firstElementChild||f.firstChild,n=c.createElement("body"),p=c.createElement("div");p.id="mq-test-1";p.style.cssText="position:absolute;top:-100em";n.style.background="none";n.appendChild(p);return function(c){p.innerHTML='&shy;<style media="'+c+'"> #mq-test-1 { width: 42px; }</style>';f.insertBefore(n,h);e=42===p.offsetWidth;f.removeChild(n);return{matches:e,
media:c}}}(G);(function(c){function e(){f&&(n(e),J&&jQuery.fx.tick())}var f,h=0;c=["webkit","moz"];for(var n=u.requestAnimationFrame,p=u.cancelAnimationFrame,J="undefined"!==typeof jQuery.fx;h<c.length&&!n;h++)n=u[c[h]+"RequestAnimationFrame"],p=p||u[c[h]+"CancelAnimationFrame"]||u[c[h]+"CancelRequestAnimationFrame"];n?(u.requestAnimationFrame=n,u.cancelAnimationFrame=p,J&&(jQuery.fx.timer=function(c){c()&&jQuery.timers.push(c)&&!f&&(f=!0,e())},jQuery.fx.stop=function(){f=!1})):(u.requestAnimationFrame=
function(c){var e=(new Date).getTime(),f=Math.max(0,16-(e-h)),m=u.setTimeout(function(){c(e+f)},f);h=e+f;return m},u.cancelAnimationFrame=function(c){clearTimeout(c)})})(jQuery);u.Foundation={name:"Foundation",version:"5.4.7",media_queries:{small:e(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:e(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:e(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,
""),xlarge:e(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:e(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:p("<style></style>").appendTo("head")[0].sheet,global:{namespace:H},init:function(c,f,h,n,p){h=[c,h,n,p];n=[];this.rtl=/rtl/i.test(e("html").attr("dir"));this.scope=c||this.scope;this.set_namespace();if(f&&"string"===typeof f&&!/reflow/i.test(f))this.libs.hasOwnProperty(f)&&n.push(this.init_lib(f,
h));else for(var N in this.libs)n.push(this.init_lib(N,f));e(u).load(function(){e(u).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")});return c},init_lib:function(c,e){if(this.libs.hasOwnProperty(c)){this.patch(this.libs[c]);if(e&&e.hasOwnProperty(c))return"undefined"!==typeof this.libs[c].settings?
p.extend(!0,this.libs[c].settings,e[c]):"undefined"!==typeof this.libs[c].defaults&&p.extend(!0,this.libs[c].defaults,e[c]),this.libs[c].init.apply(this.libs[c],[this.scope,e[c]]);e=e instanceof Array?e:Array(e);return this.libs[c].init.apply(this.libs[c],e)}return function(){}},patch:function(e){e.scope=this.scope;e.namespace=this.global.namespace;e.rtl=this.rtl;e.data_options=this.utils.data_options;e.attr_name=f;e.add_namespace=c;e.bindings=n;e.S=this.utils.S},inherit:function(c,e){for(var f=e.split(" "),
h=f.length;h--;)this.utils.hasOwnProperty(f[h])&&(c[f[h]]=this.utils[f[h]])},set_namespace:function(){var c=this.global.namespace===H?p(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=c===H||/false/i.test(c)?"":c},libs:{},utils:{S:e,throttle:function(c,e){var f=null;return function(){var h=this,n=arguments;null==f&&(f=setTimeout(function(){c.apply(h,n);f=null},e))}},debounce:function(c,e,f){var h,n;return function(){var p=this,u=arguments,L=f&&
!h;clearTimeout(h);h=setTimeout(function(){h=null;f||(n=c.apply(p,u))},e);L&&(n=c.apply(p,u));return n}},data_options:function(c,e){function f(c){return!isNaN(c-0)&&null!==c&&""!==c&&!1!==c&&!0!==c}function h(c){return"string"===typeof c?p.trim(c):c}e=e||"options";var n={},u,J,L;u=function(c){var f=Foundation.global.namespace;return 0<f.length?c.data(f+"-"+e):c.data(e)}(c);if("object"===typeof u)return u;L=(u||":").split(";");for(u=L.length;u--;)J=L[u].split(":"),J=[J[0],J.slice(1).join(":")],/true/i.test(J[1])&&
(J[1]=!0),/false/i.test(J[1])&&(J[1]=!1),f(J[1])&&(-1===J[1].indexOf(".")?J[1]=parseInt(J[1],10):J[1]=parseFloat(J[1])),2===J.length&&0<J[0].length&&(n[h(J[0])]=h(J[1]));return n},register_media:function(c,e){if(Foundation.media_queries[c]===H){p("head").append('<meta class="'+e+'"/>');var f=Foundation.media_queries,h=p("."+e).css("font-family");if("string"===typeof h||h instanceof String)h=h.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"");f[c]=h}},add_custom_rule:function(c,e){e===H&&Foundation.stylesheet?
Foundation.stylesheet.insertRule(c,Foundation.stylesheet.cssRules.length):Foundation.media_queries[e]!==H&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+c+" }")},image_loaded:function(c,e){var f=this,n=c.length;0===n&&e(c);c.each(function(){h(f.S(this),function(){n-=1;0===n&&e(c)})})},random_str:function(){this.fidx||(this.fidx=0);this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-");return this.prefix+(this.fidx++).toString(36)}}};p.fn.foundation=
function(){var c=Array.prototype.slice.call(arguments,0);return this.each(function(){Foundation.init.apply(Foundation,[this].concat(c));return this})}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.abide={name:"abide",version:"5.4.7",settings:{live_validate:!0,focus_on_invalid:!0,error_labels:!0,error_class:"error",timeout:1E3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,
url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,
domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,
day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(e,f,c){return G.getElementById(e.getAttribute(this.add_namespace("data-equalto"))).value===e.value}}},timer:null,init:function(e,f,c){this.bindings(f,c)},events:function(e){var f=this;e=f.S(e).attr("novalidate","novalidate");var c=e.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid");e.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",
function(c){var e=/ajax/i.test(f.S(this).attr(f.attr_name()));return f.validate(f.S(this).find("input, textarea, select").get(),c,e)}).on("reset",function(){return f.reset(p(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(c){f.validate([this],c)}).on("keydown.fndtn.abide",function(e){!0===c.live_validate&&(clearTimeout(f.timer),f.timer=setTimeout(function(){f.validate([this],e)}.bind(this),c.timeout))})},reset:function(e){e.removeAttr(this.invalid_attr);
p(this.invalid_attr,e).removeAttr(this.invalid_attr);p("."+this.settings.error_class,e).not("small").removeClass(this.settings.error_class)},validate:function(e,f,c){var n=this.parse_patterns(e),h=n.length,p=this.S(e[0]).closest("form");f=/submit/.test(f.type);for(var x=0;x<h;x++)if(!n[x]&&(f||c))return this.settings.focus_on_invalid&&e[x].focus(),p.trigger("invalid"),this.S(e[x]).closest("form").attr(this.invalid_attr,""),!1;(f||c)&&p.trigger("valid");p.removeAttr(this.invalid_attr);return c?!1:
!0},parse_patterns:function(e){for(var f=e.length,c=[];f--;)c.push(this.pattern(e[f]));return this.check_validation_and_apply_styles(c)},pattern:function(e){var f=e.getAttribute("type"),c="string"===typeof e.getAttribute("required"),n=e.getAttribute("pattern")||"";if(this.settings.patterns.hasOwnProperty(n)&&0<n.length)return[e,this.settings.patterns[n],c];if(0<n.length)return[e,new RegExp(n),c];if(this.settings.patterns.hasOwnProperty(f))return[e,this.settings.patterns[f],c];n=/.*/;return[e,n,c]},
check_validation_and_apply_styles:function(e){var f=e.length,c=[];for(this.S(e[0][0]).closest("[data-"+this.attr_name(!0)+"]").data(this.attr_name(!0)+"-init");f--;){var n=e[f][0],h=e[f][2],t=n.value.trim(),x=this.S(n).parent(),m=n.getAttribute(this.add_namespace("data-abide-validator")),A="radio"===n.type,u="checkbox"===n.type,N=this.S('label[for="'+n.getAttribute("id")+'"]'),J=h?0<n.value.length:!0,L=[];n.getAttribute(this.add_namespace("data-equalto"))&&(m="equalTo");x=x.is("label")?x.parent():
x;m&&(m=this.settings.validators[m].apply(this,[n,h,x]),L.push(m));A&&h?L.push(this.valid_radio(n,h)):u&&h?L.push(this.valid_checkbox(n,h)):(e[f][1].test(t)&&J||!h&&1>n.value.length||p(n).attr("disabled")?L.push(!0):L.push(!1),L=[L.every(function(c){return c})],L[0]?(this.S(n).removeAttr(this.invalid_attr),n.setAttribute("aria-invalid","false"),n.removeAttribute("aria-describedby"),x.removeClass(this.settings.error_class),0<N.length&&this.settings.error_labels&&N.removeClass(this.settings.error_class).removeAttr("role"),
p(n).triggerHandler("valid")):(this.S(n).attr(this.invalid_attr,""),n.setAttribute("aria-invalid","true"),h=x.find("small."+this.settings.error_class,"span."+this.settings.error_class),h=0<h.length?h[0].id:"",0<h.length&&n.setAttribute("aria-describedby",h),x.addClass(this.settings.error_class),0<N.length&&this.settings.error_labels&&N.addClass(this.settings.error_class).attr("role","alert"),p(n).triggerHandler("invalid")));c.push(L[0])}return c=[c.every(function(c){return c})]},valid_checkbox:function(e,
f){e=this.S(e);var c=e.is(":checked")||!f;c?e.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):e.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class);return c},valid_radio:function(e,f){for(var c=e.getAttribute("name"),c=this.S(e).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+c+"']"),n=c.length,h=!1,p=0;p<n;p++)c[p].checked&&(h=!0);for(p=0;p<n;p++)h?this.S(c[p]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):
this.S(c[p]).attr(this.invalid_attr,"").parent().addClass(this.settings.error_class);return h},valid_equal:function(e,f,c){(f=G.getElementById(e.getAttribute(this.add_namespace("data-equalto"))).value===e.value)?(this.S(e).removeAttr(this.invalid_attr),c.removeClass(this.settings.error_class),0<label.length&&settings.error_labels&&label.removeClass(this.settings.error_class)):(this.S(e).attr(this.invalid_attr,""),c.addClass(this.settings.error_class),0<label.length&&settings.error_labels&&label.addClass(this.settings.error_class));
return f},valid_oneof:function(e,f,c,n){e=this.S(e);f=this.S("["+this.add_namespace("data-oneof")+"]");(c=0<f.filter(":checked").length)?e.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):e.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class);if(!n){var h=this;f.each(function(){h.valid_oneof.call(h,this,null,null,!0)})}return c}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.accordion={name:"accordion",version:"5.4.7",settings:{content_class:"content",active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(e,f,c){this.bindings(f,c)},events:function(){var e=this,f=this.S;f(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > dd > a",function(c){var n=f(this).closest("["+e.attr_name()+"]"),h=e.attr_name()+"="+n.attr(e.attr_name()),t=n.data(e.attr_name(!0)+"-init"),x=
f("#"+this.href.split("#")[1]),m=p("> dd",n),A=m.children("."+t.content_class),u=A.filter("."+t.active_class);c.preventDefault();n.attr(e.attr_name())&&(A=A.add("["+h+"] dd > ."+t.content_class),m=m.add("["+h+"] dd"));t.toggleable&&x.is(u)?(x.parent("dd").toggleClass(t.active_class,!1),x.toggleClass(t.active_class,!1)):(t.multi_expand||(A.removeClass(t.active_class),m.removeClass(t.active_class)),x.addClass(t.active_class).parent().addClass(t.active_class));t.callback(x);x.triggerHandler("toggled",
[n]);n.triggerHandler("toggled",[x])})},off:function(){},reflow:function(){}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.alert={name:"alert",version:"5.4.7",settings:{callback:function(){}},init:function(e,f,c){this.bindings(f,c)},events:function(){var e=this,f=this.S;p(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] .close",function(c){var n=f(this).closest("["+e.attr_name()+"]"),h=n.data(e.attr_name(!0)+"-init")||e.settings;c.preventDefault();Modernizr.csstransitions?(n.addClass("alert-close"),n.on("transitionend webkitTransitionEnd oTransitionEnd",function(c){f(this).trigger("close").trigger("close.fndtn.alert").remove();
h.callback()})):n.fadeOut(300,function(){f(this).trigger("close").trigger("close.fndtn.alert").remove();h.callback()})})},reflow:function(){}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.clearing={name:"clearing",version:"5.4.7",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close, div.clearing-blackout",
open_selectors:"",skip_selector:"",touch_label:"",init:!1,locked:!1},init:function(e,f,c){var n=this;Foundation.inherit(this,"throttle image_loaded");this.bindings(f,c);n.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(n.S("li",this.scope)):n.S("["+this.attr_name()+"]",this.scope).each(function(){n.assemble(n.S("li",this))})},events:function(e){var f=this,c=f.S,n=p(".scroll-container");0<n.length&&(this.scope=n);c(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+
"] li "+this.settings.open_selectors,function(e,n,p){n=n||c(this);p=p||n;var m=n.next("li"),A=n.closest("["+f.attr_name()+"]").data(f.attr_name(!0)+"-init"),u=c(e.target);e.preventDefault();A||(f.init(),n.closest("["+f.attr_name()+"]").data(f.attr_name(!0)+"-init"));p.hasClass("visible")&&n[0]===p[0]&&0<m.length&&f.is_open(n)&&(p=m,u=c("img",p));f.open(u,n,p);f.update_paddles(p)}).on("click.fndtn.clearing",".clearing-main-next",function(c){f.nav(c,"next")}).on("click.fndtn.clearing",".clearing-main-prev",
function(c){f.nav(c,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(c){Foundation.libs.clearing.close(c,this)});p(G).on("keydown.fndtn.clearing",function(c){f.keydown(c)});c(u).off(".clearing").on("resize.fndtn.clearing",function(){f.resize()});this.swipe_events(e)},swipe_events:function(e){var f=this,c=f.S;c(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(e){e.touches||(e=e.originalEvent);var f={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,
start_time:(new Date).getTime(),delta_x:0,is_scrolling:H};c(this).data("swipe-transition",f);e.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(e){e.touches||(e=e.originalEvent);if(!(1<e.touches.length||e.scale&&1!==e.scale)){var h=c(this).data("swipe-transition");"undefined"===typeof h&&(h={});h.delta_x=e.touches[0].pageX-h.start_page_x;Foundation.rtl&&(h.delta_x=-h.delta_x);"undefined"===typeof h.is_scrolling&&(h.is_scrolling=!!(h.is_scrolling||Math.abs(h.delta_x)<Math.abs(e.touches[0].pageY-
h.start_page_y)));if(!h.is_scrolling&&!h.active){e.preventDefault();var p=0>h.delta_x?"next":"prev";h.active=!0;f.nav(e,p)}}}).on("touchend.fndtn.clearing",".visible-img",function(e){c(this).data("swipe-transition",{});e.stopPropagation()})},assemble:function(e){var f=e.parent();if(!f.parent().hasClass("carousel")){f.after('<div id="foundationClearingHolder"></div>');e=f.detach();var c="";null!=e[0]&&(c=e[0].outerHTML,e=this.S("#foundationClearingHolder"),f='<div class="clearing-assembled"><div>'+
f.data(this.attr_name(!0)+"-init").templates.viewing+('<div class="carousel">'+c+"</div>")+"</div></div>",c=this.settings.touch_label,Modernizr.touch&&(f=p(f).find(".clearing-touch-label").html(c).end()),e.after(f).remove())}},open:function(e,f,c){function n(){setTimeout(function(){this.image_loaded(N,function(){1!==N.outerWidth()||L?h.call(this,N):n.call(this)}.bind(this))}.bind(this),100)}function h(e){p(e).css("visibility","visible");x.css("overflow","hidden");m.addClass("clearing-blackout");A.addClass("clearing-container");
u.show();this.fix_height(c).caption(t.S(".clearing-caption",u),t.S("img",c)).center_and_label(e,J).shift(f,c,function(){c.closest("li").siblings().removeClass("visible");c.closest("li").addClass("visible")});u.trigger("opened.fndtn.clearing")}var t=this,x=p(G.body),m=c.closest(".clearing-assembled"),A=t.S("div",m).first(),u=t.S(".visible-img",A),N=t.S("img",u).not(e),J=t.S(".clearing-touch-label",A),L=!1;p("body").on("touchmove",function(c){c.preventDefault()});N.error(function(){L=!0});this.locked()||
(u.trigger("open.fndtn.clearing"),N.attr("src",this.load(e)).css("visibility","hidden"),n.call(this))},close:function(e,f){e.preventDefault();var c;c=p(f);c=/blackout/.test(c.selector)?c:c.closest(".clearing-blackout");var n=p(G.body),h;f===e.target&&c&&(n.css("overflow",""),n=p("div",c).first(),h=p(".visible-img",n),h.trigger("close.fndtn.clearing"),this.settings.prev_index=0,p("ul["+this.attr_name()+"]",c).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),n.removeClass("clearing-container"),
h.hide(),h.trigger("closed.fndtn.clearing"));p("body").off("touchmove");return!1},is_open:function(e){return 0<e.parent().prop("style").length},keydown:function(e){var f=p(".clearing-blackout ul["+this.attr_name()+"]"),c=this.rtl?39:37;e.which===(this.rtl?37:39)&&this.go(f,"next");e.which===c&&this.go(f,"prev");27===e.which&&this.S("a.clearing-close").trigger("click").trigger("click.fndtn.clearing")},nav:function(e,f){var c=p("ul["+this.attr_name()+"]",".clearing-blackout");e.preventDefault();this.go(c,
f)},resize:function(){var e=p("img",".clearing-blackout .visible-img"),f=p(".clearing-touch-label",".clearing-blackout");e.length&&(this.center_and_label(e,f),e.trigger("resized.fndtn.clearing"))},fix_height:function(e){e=e.parent().children();var f=this;e.each(function(){var c=f.S(this),e=c.find("img");c.height()>e.outerHeight()&&c.addClass("fix-height")}).closest("ul").width(100*e.length+"%");return this},update_paddles:function(e){e=e.closest("li");var f=e.closest(".carousel").siblings(".visible-img");
0<e.next().length?this.S(".clearing-main-next",f).removeClass("disabled"):this.S(".clearing-main-next",f).addClass("disabled");0<e.prev().length?this.S(".clearing-main-prev",f).removeClass("disabled"):this.S(".clearing-main-prev",f).addClass("disabled")},center_and_label:function(e,f){this.rtl?(e.css({marginRight:-(e.outerWidth()/2),marginTop:-(e.outerHeight()/2),left:"auto",right:"50%"}),0<f.length&&f.css({marginRight:-(f.outerWidth()/2),marginTop:-(e.outerHeight()/2)-f.outerHeight()-10,left:"auto",
right:"50%"})):(e.css({marginLeft:-(e.outerWidth()/2),marginTop:-(e.outerHeight()/2)}),0<f.length&&f.css({marginLeft:-(f.outerWidth()/2),marginTop:-(e.outerHeight()/2)-f.outerHeight()-10}));return this},load:function(e){var f;f="A"===e[0].nodeName?e.attr("href"):e.parent().attr("href");this.preload(e);return f?f:e.attr("src")},preload:function(e){this.img(e.closest("li").next()).img(e.closest("li").prev())},img:function(e){if(e.length){var f=new Image,c=this.S("a",e);f.src=c.length?c.attr("href"):
this.S("img",e).attr("src")}return this},caption:function(e,f){var c=f.attr("data-caption");c?e.html(c).show():e.text("").hide();return this},go:function(e,f){var c=this.S(".visible",e),n=c[f]();this.settings.skip_selector&&0!=n.find(this.settings.skip_selector).length&&(n=n[f]());n.length&&this.S("img",n).trigger("click",[c,n]).trigger("click.fndtn.clearing",[c,n]).trigger("change.fndtn.clearing")},shift:function(e,f,c){var n=f.parent(),h=this.settings.prev_index||f.index(),p=this.direction(n,e,
f);e=this.rtl?"right":"left";var x=parseInt(n.css("left"),10),m=f.outerWidth(),u={};f.index()===h||/skip/.test(p)?/skip/.test(p)&&(f=f.index()-this.settings.up_count,this.lock(),u[e]=0<f?-(f*m):0,n.animate(u,300,this.unlock())):/left/.test(p)?(this.lock(),u[e]=x+m,n.animate(u,300,this.unlock())):/right/.test(p)&&(this.lock(),u[e]=x-m,n.animate(u,300,this.unlock()));c()},direction:function(e,f,c){e=this.S("li",e);f=e.outerWidth()+e.outerWidth()/4;f=Math.floor(this.S(".clearing-container").outerWidth()/
f)-1;c=e.index(c);this.settings.up_count=f;e=this.adjacent(this.settings.prev_index,c)?c>f&&c>this.settings.prev_index?"right":c>f-1&&c<=this.settings.prev_index?"left":!1:"skip";this.settings.prev_index=c;return e},adjacent:function(e,f){for(var c=f+1;c>=f-1;c--)if(c===e)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing");this.S(u).off(".fndtn.clearing")},
reflow:function(){this.init()}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.dropdown={name:"dropdown",version:"5.4.7",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,opened:function(){},closed:function(){}},init:function(e,f,c){Foundation.inherit(this,"throttle");this.bindings(f,c)},events:function(e){var f=this,c=f.S;c(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(e){if(!(c(this).data(f.attr_name(!0)+"-init")||f.settings).is_hover||Modernizr.touch)e.preventDefault(),
f.toggle(p(this))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(e){var h=c(this),p;clearTimeout(f.timeout);h.data(f.data_attr())?p=c("#"+h.data(f.data_attr())):(p=h,h=c("["+f.attr_name()+"='"+p.attr("id")+"']"));var x=h.data(f.attr_name(!0)+"-init")||f.settings;c(e.target).data(f.data_attr())&&x.is_hover&&f.closeall.call(f);x.is_hover&&f.open.apply(f,[p,h])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",
function(e){var h=c(this);f.timeout=setTimeout(function(){if(h.data(f.data_attr())){var e=h.data(f.data_attr(!0)+"-init")||f.settings;e.is_hover&&f.close.call(f,c("#"+h.data(f.data_attr())))}else e=c("["+f.attr_name()+'="'+c(this).attr("id")+'"]').data(f.attr_name(!0)+"-init")||f.settings,e.is_hover&&f.close.call(f,h)}.bind(this),150)}).on("click.fndtn.dropdown",function(e){var h=c(e.target).closest("["+f.attr_name()+"-content]");0<c(e.target).closest("["+f.attr_name()+"]").length||(!c(e.target).data("revealId")&&
0<h.length&&(c(e.target).is("["+f.attr_name()+"-content]")||p.contains(h.first()[0],e.target))?e.stopPropagation():f.close.call(f,c("["+f.attr_name()+"-content]")))}).on("opened.fndtn.dropdown","["+f.attr_name()+"-content]",function(){f.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+f.attr_name()+"-content]",function(){f.settings.closed.call(this)});c(u).off(".dropdown").on("resize.fndtn.dropdown",f.throttle(function(){f.resize.call(f)},50));this.resize()},close:function(e){var f=this;
e.each(function(){(p("["+f.attr_name()+"="+e[0].id+"]")||p("aria-controls="+e[0].id+"]")).attr("aria-expanded","false");f.S(this).hasClass(f.settings.active_class)&&(f.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(f.settings.active_class).prev("["+f.attr_name()+"]").removeClass(f.settings.active_class).removeData("target"),f.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[e]))})},closeall:function(){var e=this;p.each(e.S("["+this.attr_name()+
"-content]"),function(){e.close.call(e,e.S(this))})},open:function(e,f){this.css(e.addClass(this.settings.active_class),f);e.prev("["+this.attr_name()+"]").addClass(this.settings.active_class);e.data("target",f.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[e,f]);e.attr("aria-hidden","false");f.attr("aria-expanded","true");e.focus()},data_attr:function(){return 0<this.namespace.length?this.namespace+"-"+this.name:this.name},toggle:function(e){if(!e.hasClass(this.settings.disabled_class)){var f=
this.S("#"+e.data(this.data_attr()));0!==f.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(f)),f.hasClass(this.settings.active_class)?(this.close.call(this,f),f.data("target")!==e.get(0)&&this.open.call(this,f,e)):this.open.call(this,f,e))}},resize:function(){var e=this.S("["+this.attr_name()+"-content].open"),f=this.S("["+this.attr_name()+"='"+e.attr("id")+"']");e.length&&f.length&&this.css(e,f)},css:function(e,f){var c=Math.max((f.width()-e.width())/2,8),n=f.data(this.attr_name(!0)+
"-init")||this.settings;this.clear_idx();this.small()?(n=this.dirs.bottom.call(e,f,n),e.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:n.top}),e.css(Foundation.rtl?"right":"left",c)):this.style(e,f,n);return e},style:function(e,f,c){f=p.extend({position:"absolute"},this.dirs[c.align].call(e,f,c));e.attr("style","").css(f)},dirs:{_base:function(e){var f=this.offsetParent().offset();e=e.offset();e.top-=f.top;e.left-=f.left;return e},
top:function(e,f){var c=Foundation.libs.dropdown,n=c.dirs._base.call(this,e);this.addClass("drop-top");(e.outerWidth()<this.outerWidth()||c.small()||this.hasClass(f.mega_menu))&&c.adjust_pip(this,e,f,n);return Foundation.rtl?{left:n.left-this.outerWidth()+e.outerWidth(),top:n.top-this.outerHeight()}:{left:n.left,top:n.top-this.outerHeight()}},bottom:function(e,f){var c=Foundation.libs.dropdown,n=c.dirs._base.call(this,e);(e.outerWidth()<this.outerWidth()||c.small()||this.hasClass(f.mega_menu))&&c.adjust_pip(this,
e,f,n);return c.rtl?{left:n.left-this.outerWidth()+e.outerWidth(),top:n.top+e.outerHeight()}:{left:n.left,top:n.top+e.outerHeight()}},left:function(e,f){var c=Foundation.libs.dropdown.dirs._base.call(this,e);this.addClass("drop-left");return{left:c.left-this.outerWidth(),top:c.top}},right:function(e,f){var c=Foundation.libs.dropdown.dirs._base.call(this,e);this.addClass("drop-right");return{left:c.left+e.outerWidth(),top:c.top}}},adjust_pip:function(e,f,c,n){var h=Foundation.stylesheet,p=8;e.hasClass(c.mega_class)?
p=n.left+f.outerWidth()/2-8:this.small()&&(p+=n.left-8);this.rule_idx=h.cssRules.length;e="left: "+p+"px;";p="left: "+(p-1)+"px;";h.insertRule?(h.insertRule([".f-dropdown.open:before {",e,"}"].join(" "),this.rule_idx),h.insertRule([".f-dropdown.open:after {",p,"}"].join(" "),this.rule_idx+1)):(h.addRule(".f-dropdown.open:before",e,this.rule_idx),h.addRule(".f-dropdown.open:after",p,this.rule_idx+1))},clear_idx:function(){var e=Foundation.stylesheet;"undefined"!==typeof this.rule_idx&&(e.deleteRule(this.rule_idx),
e.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown");this.S("html, body").off(".fndtn.dropdown");this.S(u).off(".fndtn.dropdown");this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.equalizer={name:"equalizer",version:"5.4.7",settings:{use_tallest:!0,before_height_change:p.noop,after_height_change:p.noop,equalize_on_stack:!1},init:function(e,f,c){Foundation.inherit(this,"image_loaded");this.bindings(f,c);this.reflow()},events:function(){this.S(u).off(".equalizer").on("resize.fndtn.equalizer",function(e){this.reflow()}.bind(this))},equalize:function(e){var f=!1,c=e.find("["+this.attr_name()+"-watch]:visible"),n=e.data(this.attr_name(!0)+"-init");
if(0!==c.length){var h=c.first().offset().top;n.before_height_change();e.trigger("before-height-change").trigger("before-height-change.fndth.equalizer");c.height("inherit");c.each(function(){p(this).offset().top!==h&&(f=!0)});if(!1!==n.equalize_on_stack||!f){var t=c.map(function(){return p(this).outerHeight(!1)}).get(),t=n.use_tallest?Math.max.apply(null,t):Math.min.apply(null,t);c.css("height",t);n.after_height_change();e.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")}}},
reflow:function(){var e=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var f=p(this);e.image_loaded(e.S("img",this),function(){e.equalize(f)})})}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.interchange={name:"interchange",version:"5.4.7",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,medium:Foundation.media_queries.medium,large:Foundation.media_queries.large,xlarge:Foundation.media_queries.xlarge,xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},
directives:{replace:function(e,f,c){if(/IMG/.test(e[0].nodeName)){if((new RegExp(f,"i")).test(e[0].src))return;e[0].src=f;return c(e[0].src)}var n=this;if(e.data(this.data_attr+"-last-path")!=f)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(f)?(p(e).css("background-image","url("+f+")"),e.data("interchange-last-path",f),c(f)):p.get(f,function(h){e.html(h);e.data(n.data_attr+"-last-path",f);c()})}}},init:function(e,f,c){Foundation.inherit(this,"throttle random_str");this.data_attr=this.set_data_attr();
p.extend(!0,this.settings,f,c);this.bindings(f,c);this.load("images");this.load("nodes")},get_media_hash:function(){var e="",f;for(f in this.settings.named_queries)e+=matchMedia(this.settings.named_queries[f]).matches.toString();return e},events:function(){var e=this,f;p(u).off(".interchange").on("resize.fndtn.interchange",e.throttle(function(){var c=e.get_media_hash();c!==f&&e.resize();f=c},50));return this},resize:function(){var e=this.cache;if(this.images_loaded&&this.nodes_loaded)for(var f in e){if(e.hasOwnProperty(f)){var c=
this.results(f,e[f]);c&&this.settings.directives[c.scenario[1]].call(this,c.el,c.scenario[0],function(){var e=arguments[0]instanceof Array?arguments[0]:Array.prototype.slice.call(arguments,0);c.el.trigger(c.scenario[1],e)})}}else setTimeout(p.proxy(this.resize,this),50)},results:function(e,f){var c=f.length;if(0<c)for(var n=this.S("["+this.add_namespace("data-uuid")+'="'+e+'"]');c--;){var h=f[c][2];if((this.settings.named_queries.hasOwnProperty(h)?matchMedia(this.settings.named_queries[h]):matchMedia(h)).matches)return{el:n,
scenario:f[c]}}return!1},load:function(e,f){if("undefined"===typeof this["cached_"+e]||f)this["update_"+e]();return this["cached_"+e]},update_images:function(){var e=this.S("img["+this.data_attr+"]"),f=e.length,c=f,n=0,h=this.data_attr;this.cache={};this.cached_images=[];for(this.images_loaded=0===f;c--;)n++,e[c]&&0<(e[c].getAttribute(h)||"").length&&this.cached_images.push(e[c]),n===f&&(this.images_loaded=!0,this.enhance("images"));return this},update_nodes:function(){var e=this.S("["+this.data_attr+
"]").not("img"),f=e.length,c=f,n=0,h=this.data_attr;this.cached_nodes=[];for(this.nodes_loaded=0===f;c--;)n++,0<(e[c].getAttribute(h)||"").length&&this.cached_nodes.push(e[c]),n===f&&(this.nodes_loaded=!0,this.enhance("nodes"));return this},enhance:function(e){for(var f=this["cached_"+e].length;f--;)this.object(p(this["cached_"+e][f]));return p(u).trigger("resize").trigger("resize.fndtn.interchange")},convert_directive:function(e){e=this.trim(e);return 0<e.length?e:"replace"},parse_scenario:function(e){var f=
e[0].match(/(.+),\s*(\w+)\s*$/),c=e[1];f?(e=f[1],f=f[2]):(e=e[0].split(/,\s*$/)[0],f="");return[this.trim(e),this.convert_directive(f),this.trim(c)]},object:function(e){var f=this.parse_data_attr(e),c=[],n=f.length;if(0<n)for(;n--;){var h=f[n].split(/\((.*?)(\))$/);1<h.length&&(h=this.parse_scenario(h),c.push(h))}return this.store(e,c)},store:function(e,f){var c=this.random_str(),n=e.data(this.add_namespace("uuid",!0));if(this.cache[n])return this.cache[n];e.attr(this.add_namespace("data-uuid"),c);
return this.cache[c]=f},trim:function(e){return"string"===typeof e?p.trim(e):e},set_data_attr:function(e){return e?0<this.namespace.length?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:0<this.namespace.length?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(e){e=e.attr(this.attr_name()).split(/\[(.*?)\]/);for(var f=e.length,c=[];f--;)4<e[f].replace(/[\W\d]+/,"").length&&c.push(e[f]);return c},reflow:function(){this.load("images",
!0);this.load("nodes",!0)}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.joyride={name:"joyride",version:"5.4.7",defaults:{expose:!1,modal:!0,keyboard:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,prev_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],
bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',
button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(e,f,c){Foundation.inherit(this,"throttle random_str");this.settings=this.settings||p.extend({},this.defaults,c||f);this.bindings(f,c)},go_next:function(){1>this.settings.$li.next().length?
this.end():0<this.settings.timer?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())},go_prev:function(){1>this.settings.$li.prev().length||(0<this.settings.timer?(clearTimeout(this.settings.automate),this.hide(),this.show(null,!0),this.startTimer()):(this.hide(),this.show(null,!0)))},events:function(){var e=this;p(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(e){e.preventDefault();this.go_next()}.bind(this)).on("click.fndtn.joyride",
".joyride-prev-tip",function(e){e.preventDefault();this.go_prev()}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(e){e.preventDefault();this.end(this.settings.abort_on_close)}.bind(this)).on("keyup.fndtn.joyride",function(e){if(this.settings.keyboard&&this.settings.riding)switch(e.which){case 39:e.preventDefault();this.go_next();break;case 37:e.preventDefault();this.go_prev();break;case 27:e.preventDefault(),this.end(this.settings.abort_on_close)}}.bind(this));p(u).off(".joyride").on("resize.fndtn.joyride",
e.throttle(function(){0<p("["+e.attr_name()+"]").length&&e.settings.$next_tip&&e.settings.riding&&(0<e.settings.exposed.length&&p(e.settings.exposed).each(function(){var f=p(this);e.un_expose(f);e.expose(f)}),e.is_phone()?e.pos_phone():e.pos_default(!1))},100))},start:function(){var e=this,f=p("["+this.attr_name()+"]",this.scope),c=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],n=c.length;0< !f.length||(this.settings.init||this.events(),this.settings=f.data(this.attr_name(!0)+
"-init"),this.settings.$content_el=f,this.settings.$body=p(this.settings.tip_container),this.settings.body_offset=p(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.riding=!0,"function"!==typeof p.cookie&&(this.settings.cookie_monster=!1),this.settings.cookie_monster&&(!this.settings.cookie_monster||p.cookie(this.settings.cookie_name)))||(this.settings.$tip_content.each(function(f){var t=
p(this);this.settings=p.extend({},e.defaults,e.data_options(t));for(var x=n;x--;)e.settings[c[x]]=parseInt(e.settings[c[x]],10);e.create({$li:t,index:f})}),!this.settings.start_timer_on_click&&0<this.settings.timer?(this.show("init"),this.startTimer()):this.show("init"))},resume:function(){this.set_li();this.show()},tip_template:function(e){var f,c;e.tip_class=e.tip_class||"";f=p(this.settings.template.tip).addClass(e.tip_class);c=p.trim(p(e.li).html())+this.prev_button_text(e.prev_button_text,e.index)+
this.button_text(e.button_text)+this.settings.template.link+this.timer_instance(e.index);f.append(p(this.settings.template.wrapper));f.first().attr(this.add_namespace("data-index"),e.index);p(".joyride-content-wrapper",f).append(c);return f[0]},timer_instance:function(e){return 0===e&&this.settings.start_timer_on_click&&0<this.settings.timer||0===this.settings.timer?"":p(this.settings.template.timer)[0].outerHTML},button_text:function(e){this.settings.tip_settings.next_button?(e=p.trim(e)||"Next",
e=p(this.settings.template.button).append(e)[0].outerHTML):e="";return e},prev_button_text:function(e,f){this.settings.tip_settings.prev_button?(e=p.trim(e)||"Previous",e=0==f?p(this.settings.template.prev_button).append(e).addClass("disabled")[0].outerHTML:p(this.settings.template.prev_button).append(e)[0].outerHTML):e="";return e},create:function(e){this.settings.tip_settings=p.extend({},this.settings,this.data_options(e.$li));var f=e.$li.attr(this.add_namespace("data-button"))||e.$li.attr(this.add_namespace("data-text")),
c=e.$li.attr(this.add_namespace("data-button-prev"))||e.$li.attr(this.add_namespace("data-prev-text")),n=e.$li.attr("class");e=p(this.tip_template({tip_class:n,index:e.index,button_text:f,prev_button_text:c,li:e.$li}));p(this.settings.tip_container).append(e)},show:function(e,f){var c=null;this.settings.$li===H||-1===p.inArray(this.settings.$li.index(),this.settings.pause_after)?(this.settings.paused?this.settings.paused=!1:this.set_li(e,f),this.settings.attempts=0,this.settings.$li.length&&0<this.settings.$target.length?
(e&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=p.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],
/body/i.test(this.settings.$target.selector)||this.scroll_to(),this.is_phone()?this.pos_phone(!0):this.pos_default(!0),c=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(c.width(0),0<this.settings.timer?(this.settings.$next_tip.show(),setTimeout(function(){c.animate({width:c.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&
(c.width(0),0<this.settings.timer?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){c.animate({width:c.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip):this.settings.$li&&1>this.settings.$target.length?this.show(e,f):this.end()):this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&
!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose();this.settings.modal||p(".joyride-modal-bg").hide();this.settings.$current_tip.css("visibility","hidden");setTimeout(p.proxy(function(){this.hide();this.css("visibility","visible")},this.settings.$current_tip),0);this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(e,f){e?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),
this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=f?this.settings.$li.prev():this.settings.$li.next(),this.set_next_tip());this.set_target()},set_next_tip:function(){this.settings.$next_tip=p(".joyride-tip-guide").eq(this.settings.$li.index());this.settings.$next_tip.data("closed","")},set_target:function(){var e=this.settings.$li.attr(this.add_namespace("data-class")),f=this.settings.$li.attr(this.add_namespace("data-id"));this.settings.$target=f?p(G.getElementById(f)):
e?p("."+e).first():p("body")},scroll_to:function(){var e;e=p(u).height()/2;e=Math.ceil(this.settings.$target.offset().top-e+this.settings.$next_tip.outerHeight());0!=e&&p("html, body").stop().animate({scrollTop:e},this.settings.scroll_speed,"swing")},paused:function(){return-1===p.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide();this.settings.$li=H;this.show("init")},pos_default:function(e){var f=this.settings.$next_tip.find(".joyride-nub"),c=Math.ceil(f.outerWidth()/
2),n=Math.ceil(f.outerHeight()/2);if(e=e||!1)this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show();if(/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(f);else{var h=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,p=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;this.bottom()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top+
n+this.settings.$target.outerHeight()+h,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+p}):this.settings.$next_tip.css({top:this.settings.$target.offset().top+n+this.settings.$target.outerHeight()+h,left:this.settings.$target.offset().left+p}),this.nub_position(f,this.settings.tip_settings.nub_position,"top")):this.top()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-
n+h,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}):this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-n+h,left:this.settings.$target.offset().left+p}),this.nub_position(f,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+h,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+
c+p}),this.nub_position(f,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+h,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-c+p}),this.nub_position(f,this.settings.tip_settings.nub_position,"right"));!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(f.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),
this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}e&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(e){var f=this.settings.$next_tip.outerHeight();this.settings.$next_tip.offset();var c=this.settings.$target.outerHeight(),n=p(".joyride-nub",this.settings.$next_tip),h=Math.ceil(n.outerHeight()/2);e=e||!1;n.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left");
e&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show());/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(n):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-f-h}),n.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+c+h}),n.addClass("top"));e&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(e){this.center();
e.hide();this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var e=p(".joyride-modal-bg");1>e.length&&p("body").append(this.settings.template.modal).show();/pop/i.test(this.settings.tip_animation)?e.show():e.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var e,f,c,n,h,t="expose-"+this.random_str(6);if(0<arguments.length&&arguments[0]instanceof p)c=arguments[0];else if(this.settings.$target&&!/body/i.test(this.settings.$target.selector))c=this.settings.$target;
else return!1;if(1>c.length)return u.console&&console.error("element not valid",c),!1;e=p(this.settings.template.expose);this.settings.$body.append(e);e.css({top:c.offset().top,left:c.offset().left,width:c.outerWidth(!0),height:c.outerHeight(!0)});f=p(this.settings.template.expose_cover);n={zIndex:c.css("z-index"),position:c.css("position")};h=null==c.attr("class")?"":c.attr("class");c.css("z-index",parseInt(e.css("z-index"))+1);"static"==n.position&&c.css("position","relative");c.data("expose-css",
n);c.data("orig-class",h);c.attr("class",h+" "+this.settings.expose_add_class);f.css({top:c.offset().top,left:c.offset().left,width:c.outerWidth(!0),height:c.outerHeight(!0)});this.settings.modal&&this.show_modal();this.settings.$body.append(f);e.addClass(t);f.addClass(t);c.data("expose",t);this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,c);this.add_exposed(c)},un_expose:function(){var e,f,c;c=!1;if(0<arguments.length&&arguments[0]instanceof p)f=arguments[0];else if(this.settings.$target&&
!/body/i.test(this.settings.$target.selector))f=this.settings.$target;else return!1;if(1>f.length)return u.console&&console.error("element not valid",f),!1;e=f.data("expose");e=p("."+e);1<arguments.length&&(c=arguments[1]);!0===c?p(".joyride-expose-wrapper,.joyride-expose-cover").remove():e.remove();c=f.data("expose-css");"auto"==c.zIndex?f.css("z-index",""):f.css("z-index",c.zIndex);c.position!=f.css("position")&&("static"==c.position?f.css("position",""):f.css("position",c.position));c=f.data("orig-class");
f.attr("class",c);f.removeData("orig-classes");f.removeData("expose");f.removeData("expose-z-index");this.remove_exposed(f)},add_exposed:function(e){this.settings.exposed=this.settings.exposed||[];e instanceof p||"object"===typeof e?this.settings.exposed.push(e[0]):"string"==typeof e&&this.settings.exposed.push(e)},remove_exposed:function(e){var f;e instanceof p?f=e[0]:"string"==typeof e&&(f=e);this.settings.exposed=this.settings.exposed||[];for(e=this.settings.exposed.length;e--;)if(this.settings.exposed[e]==
f){this.settings.exposed.splice(e,1);break}},center:function(){var e=p(u);this.settings.$next_tip.css({top:(e.height()-this.settings.$next_tip.outerHeight())/2+e.scrollTop(),left:(e.width()-this.settings.$next_tip.outerWidth())/2+e.scrollLeft()});return!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},
corners:function(e){var f=p(u),c=f.height()/2,c=Math.ceil(this.settings.$target.offset().top-c+this.settings.$next_tip.outerHeight()),n=f.width()+f.scrollLeft(),h=f.height()+c,t=f.height()+f.scrollTop(),x=f.scrollTop();c<x&&(x=0>c?0:c);h>t&&(t=h);return[e.offset().top<x,n<e.offset().left+e.outerWidth(),t<e.offset().top+e.outerHeight(),f.scrollLeft()>e.offset().left]},visible:function(e){for(var f=e.length;f--;)if(e[f])return!1;return!0},nub_position:function(e,f,c){"auto"===f?e.addClass(c):e.addClass(f)},
startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide();this.show();this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(e){this.settings.cookie_monster&&p.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain});0<this.settings.timer&&clearTimeout(this.settings.automate);this.settings.modal&&this.settings.expose&&this.un_expose();p(this.scope).off("keyup.joyride");
this.settings.$next_tip.data("closed",!0);this.settings.riding=!1;p(".joyride-modal-bg").hide();this.settings.$current_tip.hide();if("undefined"===typeof e||!1===e)this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip);p(".joyride-tip-guide").remove()},off:function(){p(this.scope).off(".joyride");p(u).off(".joyride");p(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride");
p(".joyride-tip-guide, .joyride-modal-bg").remove();clearTimeout(this.settings.automate);this.settings={}},reflow:function(){}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.4.7",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0},init:function(e,f,c){Foundation.inherit(this,"throttle");this.bindings(f,c)},events:function(){var e=this,f=e.S,c=e.settings;e.set_expedition_position();f(e.scope).off(".magellan").on("click.fndtn.magellan","["+e.add_namespace("data-magellan-arrival")+'] a[href^="#"]',function(c){c.preventDefault();
c=p(this).closest("["+e.attr_name()+"]");var f=c.data("magellan-expedition-init"),t=this.hash.split("#").join(""),x=p("a[name='"+t+"']");0===x.length&&(x=p("#"+t));f=x.offset().top-f.destination_threshold+1;f-=c.outerHeight();p("html, body").stop().animate({scrollTop:f},700,"swing",function(){history.pushState?history.pushState(null,null,"#"+t):location.hash="#"+t})}).on("scroll.fndtn.magellan",e.throttle(this.check_for_arrivals.bind(this),c.throttle_delay));p(u).on("resize.fndtn.magellan",e.throttle(this.set_expedition_position.bind(this),
c.throttle_delay))},check_for_arrivals:function(){this.update_arrivals();this.update_expedition_positions()},set_expedition_position:function(){var e=this;p("["+this.attr_name()+"=fixed]",e.scope).each(function(f,c){var n=p(this),h=n.data("magellan-expedition-init"),t=n.attr("styles"),x;n.attr("style","");h=n.offset().top+h.threshold;x=parseInt(n.data("magellan-fixed-top"));isNaN(x)||(e.settings.fixed_top=x);n.data(e.data_attr("magellan-top-offset"),h);n.attr("style",t)})},update_expedition_positions:function(){var e=
this,f=p(u).scrollTop();p("["+this.attr_name()+"=fixed]",e.scope).each(function(){var c=p(this),n=c.data("magellan-expedition-init"),h=c.attr("style"),t=c.data("magellan-top-offset");f+e.settings.fixed_top>=t?(h=c.prev("["+e.add_namespace("data-magellan-expedition-clone")+"]"),0===h.length&&(h=c.clone(),h.removeAttr(e.attr_name()),h.attr(e.add_namespace("data-magellan-expedition-clone"),""),c.before(h)),c.css({position:"fixed",top:n.fixed_top}).addClass("fixed")):(c.prev("["+e.add_namespace("data-magellan-expedition-clone")+
"]").remove(),c.attr("style",h).css("position","").css("top","").removeClass("fixed"))})},update_arrivals:function(){var e=this,f=p(u).scrollTop();p("["+this.attr_name()+"]",e.scope).each(function(){var c=p(this),n=c.data(e.attr_name(!0)+"-init"),h=e.offsets(c,f),t=c.find("["+e.add_namespace("data-magellan-arrival")+"]"),x=!1;h.each(function(f,h){if(h.viewport_offset>=h.top_offset)return c.find("["+e.add_namespace("data-magellan-arrival")+"]").not(h.arrival).removeClass(n.active_class),h.arrival.addClass(n.active_class),
x=!0});x||t.removeClass(n.active_class)})},offsets:function(e,f){var c=this,n=e.data(c.attr_name(!0)+"-init");return e.find("["+c.add_namespace("data-magellan-arrival")+"]").map(function(h,t){var x=p(this).data(c.data_attr("magellan-arrival")),x=p("["+c.add_namespace("data-magellan-destination")+"="+x+"]");if(0<x.length){var m=Math.floor(x.offset().top-n.destination_threshold-e.outerHeight());return{destination:x,arrival:p(this),top_offset:m,viewport_offset:f}}}).sort(function(c,e){return c.top_offset<
e.top_offset?-1:c.top_offset>e.top_offset?1:0})},data_attr:function(e){return 0<this.namespace.length?this.namespace+"-"+e:e},off:function(){this.S(this.scope).off(".magellan");this.S(u).off(".magellan")},reflow:function(){p("["+this.add_namespace("data-magellan-expedition-clone")+"]",this.scope).remove()}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.offcanvas={name:"offcanvas",version:"5.4.7",settings:{open_method:"move",close_on_click:!1},init:function(e,f,c){this.bindings(f,c)},events:function(){var e=this,f=e.S,c="",n="",h="";"move"===this.settings.open_method?(c="move-",n="right",h="left"):"overlap_single"===this.settings.open_method?(c="offcanvas-overlap-",n="right",h="left"):"overlap"===this.settings.open_method&&(c="offcanvas-overlap");f(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",
function(h){e.click_toggle_class(h,c+n);"overlap"!==e.settings.open_method&&f(".left-submenu").removeClass(c+n);p(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(h){var x=e.get_settings(h),m=f(this).parent();!x.close_on_click||m.hasClass("has-submenu")||m.hasClass("back")?f(this).parent().hasClass("has-submenu")?(h.preventDefault(),f(this).siblings(".left-submenu").toggleClass(c+n)):m.hasClass("back")&&(h.preventDefault(),m.parent().removeClass(c+
n)):(e.hide.call(e,c+n,e.get_wrapper(h)),m.parent().removeClass(c+n));p(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(n){e.click_toggle_class(n,c+h);"overlap"!==e.settings.open_method&&f(".right-submenu").removeClass(c+h);p(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(n){var x=e.get_settings(n),m=f(this).parent();!x.close_on_click||m.hasClass("has-submenu")||
m.hasClass("back")?f(this).parent().hasClass("has-submenu")?(n.preventDefault(),f(this).siblings(".right-submenu").toggleClass(c+h)):m.hasClass("back")&&(n.preventDefault(),m.parent().removeClass(c+h)):(e.hide.call(e,c+h,e.get_wrapper(n)),m.parent().removeClass(c+h));p(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(t){e.click_remove_class(t,c+h);f(".right-submenu").removeClass(c+h);n&&(e.click_remove_class(t,c+n),f(".left-submenu").removeClass(c+
h));p(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(f){e.click_remove_class(f,c+h);p(".left-off-canvas-toggle").attr("aria-expanded","false");n&&(e.click_remove_class(f,c+n),p(".right-off-canvas-toggle").attr("aria-expanded","false"))})},toggle:function(e,f){f=f||this.get_wrapper();f.is("."+e)?this.hide(e,f):this.show(e,f)},show:function(e,f){f=f||this.get_wrapper();f.trigger("open").trigger("open.fndtn.offcanvas");f.addClass(e)},
hide:function(e,f){f=f||this.get_wrapper();f.trigger("close").trigger("close.fndtn.offcanvas");f.removeClass(e)},click_toggle_class:function(e,f){e.preventDefault();var c=this.get_wrapper(e);this.toggle(f,c)},click_remove_class:function(e,f){e.preventDefault();var c=this.get_wrapper(e);this.hide(f,c)},get_settings:function(e){return this.S(e.target).closest("["+this.attr_name()+"]").data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(e){e=this.S(e?e.target:this.scope).closest(".off-canvas-wrap");
0===e.length&&(e=this.S(".off-canvas-wrap"));return e},reflow:function(){}}})(jQuery,window,window.document);
(function(p,u,G,H){var e=function(){},f=function(e,f){if(e.hasClass(f.slides_container_class))return this;var m=this,A,O,N,J,L=0,E,P;m.slides=function(){return e.children(f.slide_selector)};m.slides().first().addClass(f.active_slide_class);m.update_slide_number=function(c){f.slide_number&&(O.find("span:first").text(parseInt(c)+1),O.find("span:last").text(m.slides().length));f.bullets&&(N.children().removeClass(f.bullets_active_class),p(N.children().get(c)).addClass(f.bullets_active_class))};m.update_active_link=
function(c){c=p('[data-orbit-link="'+m.slides().eq(c).attr("data-orbit-slide")+'"]');c.siblings().removeClass(f.bullets_active_class);c.addClass(f.bullets_active_class)};m.build_markup=function(){e.wrap('<div class="'+f.container_class+'"></div>');A=e.parent();e.addClass(f.slides_container_class);f.stack_on_small&&A.addClass(f.stack_on_small_class);f.navigation_arrows&&(A.append(p('<a href="#"><span></span></a>').addClass(f.prev_class)),A.append(p('<a href="#"><span></span></a>').addClass(f.next_class)));
f.timer&&(J=p("<div>").addClass(f.timer_container_class),J.append("<span>"),J.append(p("<div>").addClass(f.timer_progress_class)),J.addClass(f.timer_paused_class),A.append(J));f.slide_number&&(O=p("<div>").addClass(f.slide_number_class),O.append("<span></span> "+f.slide_number_text+" <span></span>"),A.append(O));f.bullets&&(N=p("<ol>").addClass(f.bullets_container_class),A.append(N),N.wrap('<div class="orbit-bullets-container"></div>'),m.slides().each(function(c,e){var f=p("<li>").attr("data-orbit-slide",
c).on("click",m.link_bullet);N.append(f)}))};m._goto=function(c,h){if(c===L)return!1;"object"===typeof P&&P.restart();var n=m.slides(),u="next";c<L&&(u="prev");if(c>=n.length){if(!f.circular)return!1;c=0}else if(0>c){if(!f.circular)return!1;c=n.length-1}var b=p(n.get(L)),a=p(n.get(c));b.css("zIndex",2);b.removeClass(f.active_slide_class);a.css("zIndex",4).addClass(f.active_slide_class);e.trigger("before-slide-change.fndtn.orbit");f.before_slide_change();m.update_active_link(c);var d=function(){var b=
function(){L=c;!0===h&&(P=m.create_timer(),P.start());m.update_slide_number(L);e.trigger("after-slide-change.fndtn.orbit",[{slide_number:L,total_slides:n.length}]);f.after_slide_change(L,n.length)};e.height()!=a.height()&&f.variable_height?e.animate({height:a.height()},250,"linear",b):b()};if(1===n.length)return d(),!1;var g=function(){"next"===u&&E.next(b,a,d);"prev"===u&&E.prev(b,a,d)};a.height()>e.height()&&f.variable_height?e.animate({height:a.height()},250,"linear",g):g()};m.next=function(c){c.stopImmediatePropagation();
c.preventDefault();m._goto(L+1)};m.prev=function(c){c.stopImmediatePropagation();c.preventDefault();m._goto(L-1)};m.link_custom=function(c){c.preventDefault();c=p(this).attr("data-orbit-link");"string"===typeof c&&""!=(c=p.trim(c))&&(c=A.find("[data-orbit-slide="+c+"]"),-1!=c.index()&&m._goto(c.index()))};m.link_bullet=function(c){c=p(this).attr("data-orbit-slide");"string"===typeof c&&""!=(c=p.trim(c))&&(isNaN(parseInt(c))?(c=A.find("[data-orbit-slide="+c+"]"),-1!=c.index()&&m._goto(c.index()+1)):
m._goto(parseInt(c)))};m.timer_callback=function(){m._goto(L+1,!0)};m.compute_dimensions=function(){var c=p(m.slides().get(L)).height();f.variable_height||m.slides().each(function(){p(this).height()>c&&(c=p(this).height())});e.height(c)};m.create_timer=function(){return new c(A.find("."+f.timer_container_class),f,m.timer_callback)};m.stop_timer=function(){"object"===typeof P&&P.stop()};m.toggle_timer=function(){A.find("."+f.timer_container_class).hasClass(f.timer_paused_class)?("undefined"===typeof P&&
(P=m.create_timer()),P.start()):"object"===typeof P&&P.stop()};m.init=function(){m.build_markup();f.timer&&(P=m.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),P.start));E=new h(f,e);"slide"===f.animation&&(E=new n(f,e));A.on("click","."+f.next_class,m.next);A.on("click","."+f.prev_class,m.prev);if(f.next_on_click)A.on("click","."+f.slides_container_class+" [data-orbit-slide]",m.link_bullet);A.on("click",m.toggle_timer);if(f.swipe)A.on("touchstart.fndtn.orbit",function(c){c.touches||
(c=c.originalEvent);var e={start_page_x:c.touches[0].pageX,start_page_y:c.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:H};A.data("swipe-transition",e);c.stopPropagation()}).on("touchmove.fndtn.orbit",function(c){c.touches||(c=c.originalEvent);if(!(1<c.touches.length||c.scale&&1!==c.scale)){var e=A.data("swipe-transition");"undefined"===typeof e&&(e={});e.delta_x=c.touches[0].pageX-e.start_page_x;"undefined"===typeof e.is_scrolling&&(e.is_scrolling=!!(e.is_scrolling||Math.abs(e.delta_x)<
Math.abs(c.touches[0].pageY-e.start_page_y)));e.is_scrolling||e.active||(c.preventDefault(),c=0>e.delta_x?L+1:L-1,e.active=!0,m._goto(c))}}).on("touchend.fndtn.orbit",function(c){A.data("swipe-transition",{});c.stopPropagation()});A.on("mouseenter.fndtn.orbit",function(c){f.timer&&f.pause_on_hover&&m.stop_timer()}).on("mouseleave.fndtn.orbit",function(c){f.timer&&f.resume_on_mouseout&&P.start()});p(G).on("click","[data-orbit-link]",m.link_custom);p(u).on("load resize",m.compute_dimensions);Foundation.utils.image_loaded(this.slides().children("img"),
m.compute_dimensions);Foundation.utils.image_loaded(this.slides().children("img"),function(){A.prev("."+f.preloader_class).css("display","none");m.update_slide_number(0);m.update_active_link(0);e.trigger("ready.fndtn.orbit")})};m.init()},c=function(c,e,f){var h=this,n=e.timer_speed,p=c.find("."+e.timer_progress_class),u,L,E=-1;this.update_progress=function(c){var e=p.clone();e.attr("style","");e.css("width",c+"%");p.replaceWith(e);p=e};this.restart=function(){clearTimeout(L);c.addClass(e.timer_paused_class);
E=-1;h.update_progress(0)};this.start=function(){if(!c.hasClass(e.timer_paused_class))return!0;E=-1===E?n:E;c.removeClass(e.timer_paused_class);u=(new Date).getTime();p.animate({width:"100%"},E,"linear");L=setTimeout(function(){h.restart();f()},E);c.trigger("timer-started.fndtn.orbit")};this.stop=function(){if(c.hasClass(e.timer_paused_class))return!0;clearTimeout(L);c.addClass(e.timer_paused_class);var f=(new Date).getTime();E-=f-u;h.update_progress(100-E/n*100);c.trigger("timer-stopped.fndtn.orbit")}},
n=function(c,e){var f=c.animation_speed,h=1===p("html[dir=rtl]").length?"marginRight":"marginLeft",n={};n[h]="0%";this.next=function(c,e,p){c.animate({marginLeft:"-100%"},f);e.animate(n,f,function(){c.css(h,"100%");p()})};this.prev=function(c,e,p){c.animate({marginLeft:"100%"},f);e.css(h,"-100%");e.animate(n,f,function(){c.css(h,"100%");p()})}},h=function(c,e){var f=c.animation_speed;p("html[dir=rtl]");this.next=function(c,e,h){e.css({margin:"0%",opacity:"0.01"});e.animate({opacity:"1"},f,"linear",
function(){c.css("margin","100%");h()})};this.prev=function(c,e,h){e.css({margin:"0%",opacity:"0.01"});e.animate({opacity:"1"},f,"linear",function(){c.css("margin","100%");h()})}};Foundation.libs=Foundation.libs||{};Foundation.libs.orbit={name:"orbit",version:"5.4.7",settings:{animation:"slide",timer_speed:1E4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",
stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",
bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:e,after_slide_change:e},init:function(c,e,f){this.bindings(e,f)},events:function(c){var e=new f(this.S(c),this.S(c).data("orbit-init"));this.S(c).data(this.name+"-instance",e)},reflow:function(){var c=this;c.S(c.scope).is("[data-orbit]")?c.S(c.scope).data(c.name+"-instance").compute_dimensions():c.S("[data-orbit]",c.scope).each(function(e,f){var h=c.S(f);c.data_options(h);h.data(c.name+"-instance").compute_dimensions()})}}})(jQuery,
window,window.document);
(function(p,u,G,H){function e(e){var c=/fade/i.test(e);e=/pop/i.test(e);return{animate:c||e,pop:e,fade:c}}Foundation.libs.reveal={name:"reveal",version:"5.4.7",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:p(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},
close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,c,n){p.extend(!0,this.settings,c,n);this.bindings(c,n)},events:function(e){var c=this,n=c.S;n(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(e){e.preventDefault();if(!c.locked){e=n(this);var f=e.data(c.data_attr("reveal-ajax"));c.locked=!0;"undefined"===typeof f?c.open.call(c,e):(f=!0===f?e.attr("href"):f,c.open.call(c,e,{url:f}))}});n(G).on("click.fndtn.reveal",
this.close_targets(),function(e){e.preventDefault();if(!c.locked){var f=n("["+c.attr_name()+"].open").data(c.attr_name(!0)+"-init")||c.settings,p=n(e.target)[0]===n("."+f.bg_class)[0];if(p)if(f.close_on_background_click)e.stopPropagation();else return;c.locked=!0;c.close.call(c,p?n("["+c.attr_name()+"].open"):n(this).closest("["+c.attr_name()+"]"))}});if(0<n("["+c.attr_name()+"]",this.scope).length)n(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",
this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video);else n(this.scope).on("open.fndtn.reveal","["+c.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+c.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+c.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+c.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+c.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal",
"["+c.attr_name()+"]",this.close_video);return!0},key_up_on:function(e){var c=this;c.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(e){var f=c.S("["+c.attr_name()+"].open"),p=f.data(c.attr_name(!0)+"-init")||c.settings;p&&27===e.which&&p.close_on_esc&&!c.locked&&c.close.call(c,f)});return!0},key_up_off:function(e){this.S("body").off("keyup.fndtn.reveal");return!0},open:function(e,c){var n=this,h;e?"undefined"!==typeof e.selector?h=n.S("#"+e.data(n.data_attr("reveal-id"))).first():
(h=n.S(this.scope),c=e):h=n.S(this.scope);var t=h.data(n.attr_name(!0)+"-init"),t=t||this.settings;if(h.hasClass("open")&&e.attr("data-reveal-id")==h.attr("id"))return n.close(h);if(!h.hasClass("open")){var x=n.S("["+n.attr_name()+"].open");"undefined"===typeof h.data("css-top")&&h.data("css-top",parseInt(h.css("top"),10)).data("offset",this.cache_offset(h));this.key_up_on(h);h.trigger("open").trigger("open.fndtn.reveal");1>x.length&&this.toggle_bg(h,!0);"string"===typeof c&&(c={url:c});if("undefined"!==
typeof c&&c.url){var m="undefined"!==typeof c.success?c.success:null;p.extend(c,{success:function(c,e,f){p.isFunction(m)&&m(c,e,f);h.html(c);n.S(h).foundation("section","reflow");n.S(h).children().foundation();0<x.length&&n.hide(x,t.css.close);n.show(h,t.css.open)}});p.ajax(c)}else 0<x.length&&this.hide(x,t.css.close),this.show(h,t.css.open)}n.S(u).trigger("resize")},close:function(e){e=e&&e.length?e:this.S(this.scope);var c=this.S("["+this.attr_name()+"].open"),n=e.data(this.attr_name(!0)+"-init")||
this.settings;0<c.length&&(this.locked=!0,this.key_up_off(e),e.trigger("close").trigger("close.fndtn.reveal"),this.toggle_bg(e,!1),this.hide(c,n.css.close,n))},close_targets:function(){var e="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?e+", ."+this.settings.bg_class:e},toggle_bg:function(e,c){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=p("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var n=0<this.settings.bg.filter(":visible").length;
c!=n&&((c==H?n:!c)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(f,c){if(c){var n=f.data(this.attr_name(!0)+"-init")||this.settings,h=n.root_element;if(0===f.parent(h).length){var t=f.wrap('<div style="display: none;" />').parent();f.on("closed.fndtn.reveal.wrapped",function(){f.detach().appendTo(t);f.unwrap().unbind("closed.fndtn.reveal.wrapped")});f.detach().appendTo(h)}h=e(n.animation);h.animate||(this.locked=!1);if(h.pop){c.top=p(u).scrollTop()-f.data("offset")+"px";
var x={top:p(u).scrollTop()+f.data("css-top")+"px",opacity:1};return setTimeout(function(){return f.css(c).animate(x,n.animation_speed,"linear",function(){this.locked=!1;f.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),n.animation_speed/2)}return h.fade?(c.top=p(u).scrollTop()+f.data("css-top")+"px",x={opacity:1},setTimeout(function(){return f.css(c).animate(x,n.animation_speed,"linear",function(){this.locked=!1;f.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),
n.animation_speed/2)):f.css(c).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}n=this.settings;if(e(n.animation).fade)return f.fadeIn(n.animation_speed/2);this.locked=!1;return f.show()},hide:function(f,c){if(c){var n=f.data(this.attr_name(!0)+"-init"),n=n||this.settings,h=e(n.animation);h.animate||(this.locked=!1);if(h.pop){var t={top:-p(u).scrollTop()-f.data("offset")+"px",opacity:0};return setTimeout(function(){return f.animate(t,n.animation_speed,"linear",
function(){this.locked=!1;f.css(c).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),n.animation_speed/2)}return h.fade?(t={opacity:0},setTimeout(function(){return f.animate(t,n.animation_speed,"linear",function(){this.locked=!1;f.css(c).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),n.animation_speed/2)):f.hide().css(c).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal")}n=this.settings;return e(n.animation).fade?
f.fadeOut(n.animation_speed/2):f.hide()},close_video:function(e){e=p(".flex-video",e.target);var c=p("iframe",e);0<c.length&&(c.attr("data-src",c[0].src),c.attr("src",c.attr("src")),e.hide())},open_video:function(e){e=p(".flex-video",e.target);var c=e.find("iframe");if(0<c.length){if("string"===typeof c.attr("data-src"))c[0].src=c.attr("data-src");else{var n=c[0].src;c[0].src=H;c[0].src=n}e.show()}},data_attr:function(e){return 0<this.namespace.length?this.namespace+"-"+e:e},cache_offset:function(e){var c=
e.show().height()+parseInt(e.css("top"),10);e.hide();return c},off:function(){p(this.scope).off(".fndtn.reveal")},reflow:function(){}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.slider={name:"slider",version:"5.4.7",settings:{start:0,end:100,step:1,initial:null,display_selector:"",vertical:!1,on_change:function(){}},cache:{},init:function(e,f,c){Foundation.inherit(this,"throttle");this.bindings(f,c);this.reflow()},events:function(){var e=this;p(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+e.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(f){e.cache.active||
(f.preventDefault(),e.set_active_slider(p(f.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(f){if(e.cache.active)if(f.preventDefault(),p.data(e.cache.active[0],"settings").vertical){var c=0;f.pageY||(c=u.scrollY);e.calculate_position(e.cache.active,(f.pageY||f.originalEvent.clientY||f.originalEvent.touches[0].clientY||f.currentPoint.y)+c)}else e.calculate_position(e.cache.active,f.pageX||f.originalEvent.clientX||f.originalEvent.touches[0].clientX||
f.currentPoint.x)}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(f){e.remove_active_slider()}).on("change.fndtn.slider",function(f){e.settings.on_change()});e.S(u).on("resize.fndtn.slider",e.throttle(function(f){e.reflow()},300))},set_active_slider:function(e){this.cache.active=e},remove_active_slider:function(){this.cache.active=null},calculate_position:function(e,f){var c=this,n=p.data(e[0],"settings");p.data(e[0],"handle_l");p.data(e[0],"handle_o");var h=p.data(e[0],
"bar_l"),t=p.data(e[0],"bar_o");requestAnimationFrame(function(){var p;p=Foundation.rtl&&!n.vertical?c.limit_to((t+h-f)/h,0,1):c.limit_to((f-t)/h,0,1);p=n.vertical?1-p:p;p=c.normalized_value(p,n.start,n.end,n.step);c.set_ui(e,p)})},set_ui:function(e,f){var c=p.data(e[0],"settings"),n=p.data(e[0],"handle_l"),h=p.data(e[0],"bar_l"),t=this.normalized_percentage(f,c.start,c.end),x=t*(h-n)-1,t=100*t;Foundation.rtl&&!c.vertical&&(x=-x);x=c.vertical?-x+h-n+1:x;this.set_translate(e,x,c.vertical);c.vertical?
e.siblings(".range-slider-active-segment").css("height",t+"%"):e.siblings(".range-slider-active-segment").css("width",t+"%");e.parent().attr(this.attr_name(),f).trigger("change").trigger("change.fndtn.slider");e.parent().children("input[type=hidden]").val(f);e[0].hasAttribute("aria-valuemin")||e.attr({"aria-valuemin":c.start,"aria-valuemax":c.end});e.attr("aria-valuenow",f);""!=c.display_selector&&p(c.display_selector).each(function(){this.hasOwnProperty("value")?p(this).val(f):p(this).text(f)})},
normalized_percentage:function(e,f,c){return Math.min(1,(e-f)/(c-f))},normalized_value:function(e,f,c,n){e*=c-f;return(e-e%n)/n*n+(e%n>=.5*n?n:0)+f},set_translate:function(e,f,c){c?p(e).css("-webkit-transform","translateY("+f+"px)").css("-moz-transform","translateY("+f+"px)").css("-ms-transform","translateY("+f+"px)").css("-o-transform","translateY("+f+"px)").css("transform","translateY("+f+"px)"):p(e).css("-webkit-transform","translateX("+f+"px)").css("-moz-transform","translateX("+f+"px)").css("-ms-transform",
"translateX("+f+"px)").css("-o-transform","translateX("+f+"px)").css("transform","translateX("+f+"px)")},limit_to:function(e,f,c){return Math.min(Math.max(e,f),c)},initialize_settings:function(e){var f=p.extend({},this.settings,this.data_options(p(e).parent()));f.vertical?(p.data(e,"bar_o",p(e).parent().offset().top),p.data(e,"bar_l",p(e).parent().outerHeight()),p.data(e,"handle_o",p(e).offset().top),p.data(e,"handle_l",p(e).outerHeight())):(p.data(e,"bar_o",p(e).parent().offset().left),p.data(e,
"bar_l",p(e).parent().outerWidth()),p.data(e,"handle_o",p(e).offset().left),p.data(e,"handle_l",p(e).outerWidth()));p.data(e,"bar",p(e).parent());p.data(e,"settings",f)},set_initial_position:function(e){var f=p.data(e.children(".range-slider-handle")[0],"settings"),f=f.initial?f.initial:Math.floor(.5*(f.end-f.start)/f.step)*f.step+f.start;e=e.children(".range-slider-handle");this.set_ui(e,f)},set_value:function(e){var f=this;p("["+f.attr_name()+"]",this.scope).each(function(){p(this).attr(f.attr_name(),
e)});p(this.scope).attr(f.attr_name())&&p(this.scope).attr(f.attr_name(),e);f.reflow()},reflow:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var f=p(this).children(".range-slider-handle")[0],c=p(this).attr(e.attr_name());e.initialize_settings(f);c?e.set_ui(p(f),parseFloat(c)):e.set_initial_position(p(this))})}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.tab={name:"tab",version:"5.4.7",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(e,f,c){var n=this;e=this.S;this.bindings(f,c);this.handle_location_hash_change();e("["+this.attr_name()+"] > .active > a",this.scope).each(function(){n.default_tab_hashes.push(this.hash)})},events:function(){var e=this,f=this.S,c=function(c){if(!f(this).closest("["+e.attr_name()+"]").data(e.attr_name(!0)+
"-init").is_hover||Modernizr.touch)c.preventDefault(),c.stopPropagation(),e.toggle_active_tab(f(this).parent())};f(this.scope).off(".tab").on("focus.fndtn.tab","["+this.attr_name()+"] > * > a",c).on("click.fndtn.tab","["+this.attr_name()+"] > * > a",c).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(c){f(this).closest("["+e.attr_name()+"]").data(e.attr_name(!0)+"-init").is_hover&&e.toggle_active_tab(f(this).parent())});f(u).on("hashchange.fndtn.tab",function(c){c.preventDefault();
e.handle_location_hash_change()})},handle_location_hash_change:function(){var e=this,f=this.S;f("["+this.attr_name()+"]",this.scope).each(function(){var c=f(this).data(e.attr_name(!0)+"-init");if(c.deep_linking)if(c=c.scroll_to_content?e.scope.location.hash:e.scope.location.hash.replace("fndtn-",""),""!=c){var n=f(c);n.hasClass("content")&&n.parent().hasClass("tabs-content")?e.toggle_active_tab(p("["+e.attr_name()+"] > * > a[href="+c+"]").parent()):(n=n.closest(".content").attr("id"),n!=H&&e.toggle_active_tab(p("["+
e.attr_name()+"] > * > a[href=#"+n+"]").parent(),c))}else for(c=0;c<e.default_tab_hashes.length;c++)e.toggle_active_tab(p("["+e.attr_name()+"] > * > a[href="+e.default_tab_hashes[c]+"]").parent())})},toggle_active_tab:function(e,f){var c=this.S,n=e.closest("["+this.attr_name()+"]"),h=e.find("a"),t="#"+e.children("a").first().attr("href").split("#")[1],x=c(t),m=e.siblings(),A=n.data(this.attr_name(!0)+"-init");c(this).data(this.data_attr("tab-content"))&&(t="#"+c(this).data(this.data_attr("tab-content")).split("#")[1],
x=c(t));A.deep_linking&&(A.scroll_to_content?(u.location.hash=f||t,f==H||f==t?e.parent()[0].scrollIntoView():c(t)[0].scrollIntoView()):u.location.hash=f!=H?"fndtn-"+f.replace("#",""):"fndtn-"+t.replace("#",""));e.addClass(A.active_class).triggerHandler("opened");h.attr({"aria-selected":"true",tabindex:0});m.removeClass(A.active_class);m.find("a").attr({"aria-selected":"false",tabindex:-1});x.siblings().removeClass(A.active_class).attr({"aria-hidden":"true",tabindex:-1});x.addClass(A.active_class).attr("aria-hidden",
"false").removeAttr("tabindex");A.callback(e);x.triggerHandler("toggled",[e]);n.triggerHandler("toggled",[x]);h.off("keydown").on("keydown",function(c){var e=p(this),f=p(this).parents("li").prev().children('[role="tab"]'),h=p(this).parents("li").next().children('[role="tab"]');switch(c.keyCode){case 37:c=f;break;case 39:c=h;break;default:c=!1}c.length&&(e.attr({tabindex:"-1","aria-selected":null}),c.attr({tabindex:"0","aria-selected":!0}).focus());p('[role="tabpanel"]').attr("aria-hidden","true");
p("#"+p(G.activeElement).attr("href").substring(1)).attr("aria-hidden",null)})},data_attr:function(e){return 0<this.namespace.length?this.namespace+"-"+e:e},off:function(){},reflow:function(){}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.tooltip={name:"tooltip",version:"5.4.7",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(e,f){return'<span data-selector="'+e+'" id="'+e+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+f+'<span class="nub"></span></span>'}},cache:{},init:function(e,f,c){Foundation.inherit(this,"random_str");
this.bindings(f,c)},should_show:function(e,f){var c=p.extend({},this.settings,this.data_options(e));return"all"===c.show_on||this.small()&&"small"===c.show_on||this.medium()&&"medium"===c.show_on||this.large()&&"large"===c.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(e){var f=this,c=f.S;f.create(this.S(e));p(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",
"["+this.attr_name()+"]",function(e){var h=c(this),t=p.extend({},f.settings,f.data_options(h));if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&c(e.target).is("a")||/mouse/i.test(e.type)&&f.ie_touch(e))return!1;h.hasClass("open")?(Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&e.preventDefault(),f.hide(h)):t.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)||(!t.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&(e.preventDefault(),
c(t.tooltip_class+".open").hide()),/enter|over/i.test(e.type)?this.timer=setTimeout(function(){f.showTip(h)}.bind(this),f.settings.hover_delay):"mouseout"===e.type||"mouseleave"===e.type?(clearTimeout(this.timer),f.hide(h)):f.showTip(h))}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(c){if(/mouse/i.test(c.type)&&f.ie_touch(c))return!1;if("touch"!=p(this).data("tooltip-open-event-type")||"mouseleave"!=c.type)"mouse"==p(this).data("tooltip-open-event-type")&&
/MSPointerDown|touchstart/i.test(c.type)?f.convert_to_touch(p(this)):f.hide(p(this))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(e){f.hide(c(this))})},ie_touch:function(e){return!1},showTip:function(e){var f=this.getTip(e);if(this.should_show(e,f))return this.show(e)},getTip:function(e){var f=this.selector(e);e=p.extend({},this.settings,this.data_options(e));var c=null;f&&(c=this.S('span[data-selector="'+f+'"]'+e.tooltip_class));return"object"===typeof c?c:!1},selector:function(e){var f=
e.attr("id"),c=e.attr(this.attr_name())||e.attr("data-selector");(f&&1>f.length||!f)&&"string"!=typeof c&&(c=this.random_str(6),e.attr("data-selector",c).attr("aria-describedby",c));return f&&0<f.length?f:c},create:function(e){var f=this,c=p.extend({},this.settings,this.data_options(e)),n=this.settings.tip_template;"string"===typeof c.tip_template&&u.hasOwnProperty(c.tip_template)&&(n=u[c.tip_template]);var n=p(n(this.selector(e),p("<div></div>").html(e.attr("title")).html())),h=this.inheritable_classes(e);
n.addClass(h).appendTo(c.append_to);Modernizr.touch&&(n.append('<span class="tap-to-close">'+c.touch_close_text+"</span>"),n.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(c){f.hide(e)}));e.removeAttr("title").attr("title","")},reposition:function(e,f,c){var n,h,t;f.css("visibility","hidden").show();n=e.data("width");h=f.children(".nub");t=h.outerHeight();h.outerHeight();this.small()?f.css({width:"100%"}):f.css({width:n?n:"auto"});n=function(c,e,f,h,n,p){return c.css({top:e?e:
"auto",bottom:h?h:"auto",left:n?n:"auto",right:f?f:"auto"}).end()};n(f,e.offset().top+e.outerHeight()+10,"auto","auto",e.offset().left);if(this.small())n(f,e.offset().top+e.outerHeight()+10,"auto","auto",12.5,p(this.scope).width()),f.addClass("tip-override"),n(h,-t,"auto","auto",e.offset().left);else{var x=e.offset().left;Foundation.rtl&&(h.addClass("rtl"),x=e.offset().left+e.outerWidth()-f.outerWidth());n(f,e.offset().top+e.outerHeight()+10,"auto","auto",x);f.removeClass("tip-override");c&&-1<c.indexOf("tip-top")?
(Foundation.rtl&&h.addClass("rtl"),n(f,e.offset().top-f.outerHeight(),"auto","auto",x).removeClass("tip-override")):c&&-1<c.indexOf("tip-left")?(n(f,e.offset().top+e.outerHeight()/2-f.outerHeight()/2,"auto","auto",e.offset().left-f.outerWidth()-t).removeClass("tip-override"),h.removeClass("rtl")):c&&-1<c.indexOf("tip-right")&&(n(f,e.offset().top+e.outerHeight()/2-f.outerHeight()/2,"auto","auto",e.offset().left+e.outerWidth()+t).removeClass("tip-override"),h.removeClass("rtl"))}f.css("visibility",
"visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(e){var f=p.extend({},this.settings,this.data_options(e)),c="tip-top tip-left tip-bottom tip-right radius round".split(" ").concat(f.additional_inheritable_classes);e=(e=e.attr("class"))?p.map(e.split(" "),function(e,f){if(-1!==p.inArray(e,c))return e}).join(" "):"";return p.trim(e)},convert_to_touch:function(e){var f=this,
c=f.getTip(e),n=p.extend({},f.settings,f.data_options(e));0===c.find(".tap-to-close").length&&(c.append('<span class="tap-to-close">'+n.touch_close_text+"</span>"),c.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(c){f.hide(e)}));e.data("tooltip-open-event-type","touch")},show:function(e){var f=this.getTip(e);"touch"==e.data("tooltip-open-event-type")&&this.convert_to_touch(e);this.reposition(e,f,e.attr("class"));e.addClass("open");
f.fadeIn(150)},hide:function(e){var f=this.getTip(e);f.fadeOut(150,function(){f.find(".tap-to-close").remove();f.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose");e.removeClass("open")})},off:function(){var e=this;this.S(this.scope).off(".fndtn.tooltip");this.S(this.settings.tooltip_class).each(function(f){p("["+e.attr_name()+"]").eq(f).attr("title",p(this).text())}).remove()},reflow:function(){}}})(jQuery,window,window.document);
(function(p,u,G,H){Foundation.libs.topbar={name:"topbar",version:"5.4.7",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(e,f,c){Foundation.inherit(this,"add_custom_rule register_media throttle");var n=this;n.register_media("topbar","foundation-mq-topbar");this.bindings(f,c);n.S("["+this.attr_name()+"]",this.scope).each(function(){var c=p(this),e=c.data(n.attr_name(!0)+"-init");n.S("section, .top-bar-section",
this);c.data("index",0);var f=c.parent();f.hasClass("fixed")||n.is_sticky(c,f,e)?(n.settings.sticky_class=e.sticky_class,n.settings.sticky_topbar=c,c.data("height",f.outerHeight()),c.data("stickyoffset",f.offset().top)):c.data("height",c.outerHeight());e.assembled||n.assemble(c);e.is_hover?n.S(".has-dropdown",c).addClass("not-click"):n.S(".has-dropdown",c).removeClass("not-click");n.add_custom_rule(".f-topbar-fixed { padding-top: "+c.data("height")+"px }");f.hasClass("fixed")&&n.S("body").addClass("f-topbar-fixed")})},
is_sticky:function(e,f,c){return(e=f.hasClass(c.sticky_class))&&"all"===c.sticky_on?!0:e&&this.small()&&"small"===c.sticky_on?matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:e&&this.medium()&&"medium"===c.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:e&&this.large()&&"large"===
c.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&matchMedia(Foundation.media_queries.large).matches:!1},toggle:function(e){e=e?this.S(e).closest("["+this.attr_name()+"]"):this.S("["+this.attr_name()+"]");var f=e.data(this.attr_name(!0)+"-init"),c=this.S("section, .top-bar-section",e);this.breakpoint()&&(this.rtl?(c.css({right:"0%"}),p(">.name",c).css({right:"100%"})):(c.css({left:"0%"}),p(">.name",c).css({left:"100%"})),this.S("li.moved",
c).removeClass("moved"),e.data("index",0),e.toggleClass("expanded").css("height",""));f.scrolltop?e.hasClass("expanded")?e.parent().hasClass("fixed")&&(f.scrolltop?(e.parent().removeClass("fixed"),e.addClass("fixed"),this.S("body").removeClass("f-topbar-fixed"),u.scrollTo(0,0)):e.parent().removeClass("expanded")):e.hasClass("fixed")&&(e.parent().addClass("fixed"),e.removeClass("fixed"),this.S("body").addClass("f-topbar-fixed")):(this.is_sticky(e,e.parent(),f)&&e.parent().addClass("fixed"),e.parent().hasClass("fixed")&&
(e.hasClass("expanded")?(e.addClass("fixed"),e.parent().addClass("expanded"),this.S("body").addClass("f-topbar-fixed")):(e.removeClass("fixed"),e.parent().removeClass("expanded"),this.update_sticky_positioning())))},timer:null,events:function(e){var f=this,c=this.S;c(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(c){c.preventDefault();f.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',
function(c){c=p(this).closest("li");!f.breakpoint()||c.hasClass("back")||c.hasClass("has-dropdown")||f.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(e){var h=c(this),t=c(e.target),u=h.closest("["+f.attr_name()+"]").data(f.attr_name(!0)+"-init");t.data("revealId")?f.toggle():f.breakpoint()||u.is_hover&&!Modernizr.touch||(e.stopImmediatePropagation(),h.hasClass("hover")?(h.removeClass("hover").find("li").removeClass("hover"),h.parents("li.hover").removeClass("hover")):
(h.addClass("hover"),p(h).siblings().removeClass("hover"),"A"===t[0].nodeName&&t.parent().hasClass("has-dropdown")&&e.preventDefault()))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(e){if(f.breakpoint()){e.preventDefault();e=c(this);var h=e.closest("["+f.attr_name()+"]"),p=h.find("section, .top-bar-section");e.next(".dropdown").outerHeight();var u=e.closest("li");h.data("index",h.data("index")+1);u.addClass("moved");f.rtl?(p.css({right:-(100*h.data("index"))+"%"}),p.find(">.name").css({right:100*
h.data("index")+"%"})):(p.css({left:-(100*h.data("index"))+"%"}),p.find(">.name").css({left:100*h.data("index")+"%"}));h.css("height",e.siblings("ul").outerHeight(!0)+h.data("height"))}});c(u).off(".topbar").on("resize.fndtn.topbar",f.throttle(function(){f.resize.call(f)},50)).trigger("resize").trigger("resize.fndtn.topbar").load(function(){c(this).trigger("resize.fndtn.topbar")});c("body").off(".topbar").on("click.fndtn.topbar",function(e){0<c(e.target).closest("li").closest("li.hover").length||
c("["+f.attr_name()+"] li.hover").removeClass("hover")});c(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(e){e.preventDefault();var h=c(this);e=h.closest("["+f.attr_name()+"]");var p=e.find("section, .top-bar-section");e.data(f.attr_name(!0)+"-init");var u=h.closest("li.moved"),h=u.parent();e.data("index",e.data("index")-1);f.rtl?(p.css({right:-(100*e.data("index"))+"%"}),p.find(">.name").css({right:100*e.data("index")+"%"})):(p.css({left:-(100*e.data("index"))+
"%"}),p.find(">.name").css({left:100*e.data("index")+"%"}));0===e.data("index")?e.css("height",""):e.css("height",h.outerHeight(!0)+e.data("height"));setTimeout(function(){u.removeClass("moved")},300)});c(this.scope).find(".dropdown a").focus(function(){p(this).parents(".has-dropdown").addClass("hover")}).blur(function(){p(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var f=e.S(this),c=f.data(e.attr_name(!0)+"-init"),
n=f.parent("."+e.settings.sticky_class);if(!e.breakpoint()){var h=f.hasClass("expanded");f.css("height","").removeClass("expanded").find("li").removeClass("hover");h&&e.toggle(f)}e.is_sticky(f,n,c)&&(n.hasClass("fixed")?(n.removeClass("fixed"),c=n.offset().top,e.S(G.body).hasClass("f-topbar-fixed")&&(c-=f.data("height")),f.data("stickyoffset",c),n.addClass("fixed")):(c=n.offset().top,f.data("stickyoffset",c)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},
medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(e){var f=this,c=e.data(this.attr_name(!0)+"-init"),n=f.S("section, .top-bar-section",e);n.detach();f.S(".has-dropdown>a",n).each(function(){var e=f.S(this),n=e.siblings(".dropdown"),u=e.attr("href");n.find(".title.back").length||(u=1==c.mobile_show_parent_link&&u?p('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link show-for-small"><a class="parent-link js-generated" href="'+
u+'">'+e.html()+"</a></li>"):p('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),1==c.custom_back_text?p("h5>a",u).html(c.back_text):p("h5>a",u).html("&laquo; "+e.html()),n.prepend(u))});n.appendTo(e);this.sticky();this.assembled(e)},assembled:function(e){e.data(this.attr_name(!0),p.extend({},e.data(this.attr_name(!0)),{assembled:!0}))},height:function(e){var f=0,c=this;p("> li",e).each(function(){f+=c.S(this).outerHeight(!0)});return f},sticky:function(){var e=this;
this.S(u).on("scroll",function(){e.update_sticky_positioning()})},update_sticky_positioning:function(){var e="."+this.settings.sticky_class,f=this.S(u);if(this.settings.sticky_topbar&&this.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var c=this.settings.sticky_topbar.data("stickyoffset");this.S(e).hasClass("expanded")||(f.scrollTop()>c?this.S(e).hasClass("fixed")||(this.S(e).addClass("fixed"),this.S("body").addClass("f-topbar-fixed")):f.scrollTop()<=c&&
this.S(e).hasClass("fixed")&&(this.S(e).removeClass("fixed"),this.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar");this.S(u).off(".fndtn.topbar")},reflow:function(){}}})(jQuery,window,window.document);
!function(){function p(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function u(a){return null===a?NaN:+a}function G(a){return!isNaN(a)}function H(a){return{left:function(b,d,c,e){3>arguments.length&&(c=0);4>arguments.length&&(e=b.length);for(;c<e;){var g=c+e>>>1;0>a(b[g],d)?c=g+1:e=g}return c},right:function(b,d,c,e){3>arguments.length&&(c=0);4>arguments.length&&(e=b.length);for(;c<e;){var g=c+e>>>1;0<a(b[g],d)?e=g:c=g+1}return c}}}function e(a){return a.length}function f(a,b){for(var d in b)Object.defineProperty(a.prototype,
d,{value:b[d],enumerable:!1})}function c(){this._=Object.create(null)}function n(a){return"__proto__"===(a+="")||"\x00"===a[0]?"\x00"+a:a}function h(a){return"\x00"===(a+="")[0]?a.slice(1):a}function t(a){return n(a)in this._}function x(a){return(a=n(a))in this._&&delete this._[a]}function m(){var a=[],b;for(b in this._)a.push(h(b));return a}function A(){var a=0,b;for(b in this._)++a;return a}function O(){for(var a in this._)return!1;return!0}function N(){this._=Object.create(null)}function J(a,b,
d){return function(){var c=d.apply(b,arguments);return c===b?a:c}}function L(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var d=0,c=Cf.length;d<c;++d){var e=Cf[d]+b;if(e in a)return e}}function E(){}function P(){}function I(a){function b(){for(var c=d,F=-1,e=c.length,g;++F<e;)(g=c[F].on)&&g.apply(this,arguments);return a}var d=[],e=new c;b.on=function(b,c){var F=e.get(b),g;if(2>arguments.length)return F&&F.on;F&&(F.on=null,d=d.slice(0,g=d.indexOf(F)).concat(d.slice(g+1)),e.remove(b));
c&&d.push(e.set(b,{on:c}));return a};return b}function R(){s.event.preventDefault()}function qa(){for(var a=s.event,b;b=a.sourceEvent;)a=b;return a}function Z(a){for(var b=new P,d=0,c=arguments.length;++d<c;)b[arguments[d]]=I(b);b.of=function(d,c){return function(e){try{var g=e.sourceEvent=s.event;e.target=a;s.event=e;b[e.type].apply(d,c)}finally{s.event=g}}};return b}function b(a){od(a,ea);return a}function a(a){return"function"===typeof a?a:function(){return ne(a,this)}}function d(a){return"function"===
typeof a?a:function(){return oe(a,this)}}function g(a,b){function d(){this.removeAttribute(a)}function c(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function g(){this.setAttributeNS(a.space,a.local,b)}function f(){var d=b.apply(this,arguments);null==d?this.removeAttribute(a):this.setAttribute(a,d)}function l(){var d=b.apply(this,arguments);null==d?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,d)}a=s.ns.qualify(a);return null==b?a.local?
c:d:"function"===typeof b?a.local?l:f:a.local?g:e}function l(a){return a.trim().replace(/\s+/g," ")}function q(a){return new RegExp("(?:^|\\s+)"+s.requote(a)+"(?:\\s+|$)","g")}function r(a,b){function d(){for(var c=-1;++c<e;)a[c](this,b)}function c(){for(var d=-1,g=b.apply(this,arguments);++d<e;)a[d](this,g)}a=(a+"").trim().split(/^|\s+/).map(y);var e=a.length;return"function"===typeof b?c:d}function y(a){var b=q(a);return function(d,c){if(e=d.classList)return c?e.add(a):e.remove(a);var e=d.getAttribute("class")||
"";c?(b.lastIndex=0,b.test(e)||d.setAttribute("class",l(e+" "+a))):d.setAttribute("class",l(e.replace(b," ")))}}function D(a,b,d){function c(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,d)}function g(){var c=b.apply(this,arguments);null==c?this.style.removeProperty(a):this.style.setProperty(a,c,d)}return null==b?c:"function"===typeof b?g:e}function C(a,b){function d(){delete this[a]}function c(){this[a]=b}function e(){var d=b.apply(this,arguments);null==d?delete this[a]:
this[a]=d}return null==b?d:"function"===typeof b?e:c}function w(a){return"function"===typeof a?a:(a=s.ns.qualify(a)).local?function(){return this.ownerDocument.createElementNS(a.space,a.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,a)}}function z(a){return function(){return Df(this,a)}}function ba(a){arguments.length||(a=p);return function(b,d){return b&&d?a(b.__data__,d.__data__):!b-!d}}function aa(a,b){for(var d=0,c=a.length;d<c;d++)for(var e=a[d],g=0,f=e.length,
l;g<f;g++)(l=e[g])&&b(l,g,d);return a}function ua(a){od(a,pb);return a}function ya(a){var b,d;return function(c,e,g){c=a[g].update;var f=c.length;g!=d&&(d=g,b=0);for(e>=b&&(b=e+1);!(e=c[b])&&++b<f;);return e}}function V(){var a=this.__transition__;a&&++a.active}function Qa(a,b,d){function c(){var b=this[f];b&&(this.removeEventListener(a,b,b.$),delete this[f])}function e(){var g=ma(b,Db(arguments));c.call(this);this.addEventListener(a,this[f]=g,g.$=d);g._=b}function g(){var b=new RegExp("^__on([^.]+)"+
s.requote(a)+"$"),d,c;for(c in this)if(d=c.match(b)){var F=this[c];this.removeEventListener(d[1],F,F.$);delete this[c]}}var f="__on"+a,l=a.indexOf("."),ma=wb;0<l&&(a=a.slice(0,l));var h=pe.get(a);h&&(a=h,ma=da);return l?b?e:c:b?E:g}function wb(a,b){return function(d){var c=s.event;s.event=d;b[0]=this.__data__;try{a.apply(this,b)}finally{s.event=c}}}function da(a,b){var d=wb(a,b);return function(a){var b=a.relatedTarget;b&&(b===this||b.compareDocumentPosition(this)&8)||d.call(this,a)}}function ab(){var a=
".dragsuppress-"+ ++lh,b="click"+a,d=s.select(Ka).on("touchmove"+a,R).on("dragstart"+a,R).on("selectstart"+a,R);if(Oc){var c=qb.style,e=c[Oc];c[Oc]="none"}return function(g){d.on(a,null);Oc&&(c[Oc]=e);if(g){var f=function(){d.on(b,null)};d.on(b,function(){R();f()},!0);setTimeout(f,0)}}}function xb(a,b){b.changedTouches&&(b=b.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var c=d.createSVGPoint();if(0>qe&&(Ka.scrollX||Ka.scrollY)){var d=s.select("body").append("svg").style({position:"absolute",
top:0,left:0,margin:0,padding:0,border:"none"},"important"),e=d[0][0].getScreenCTM();qe=!(e.f||e.e);d.remove()}qe?(c.x=b.pageX,c.y=b.pageY):(c.x=b.clientX,c.y=b.clientY);c=c.matrixTransform(a.getScreenCTM().inverse());return[c.x,c.y]}d=a.getBoundingClientRect();return[b.clientX-d.left-a.clientLeft,b.clientY-d.top-a.clientTop]}function Mb(){return s.event.changedTouches[0].identifier}function Y(){return s.event.target}function X(){return Ka}function k(a,b,d){return(b[0]-a[0])*(d[1]-a[1])-(b[1]-a[1])*
(d[0]-a[0])}function ga(a){return 1<a?0:-1>a?T:Math.acos(a)}function W(a){return 1<a?Da:-1>a?-Da:Math.asin(a)}function kb(a){return((a=Math.exp(a))+1/a)/2}function yb(a){return(a=Math.sin(a/2))*a}function ja(){}function la(a,b,d){return this instanceof la?void(this.h=+a,this.s=+b,this.l=+d):2>arguments.length?a instanceof la?new la(a.h,a.s,a.l):Uc(""+a,$b,la):new la(a,b,d)}function zb(a,b,d){function c(a){360<a?a-=360:0>a&&(a+=360);return 60>a?e+(g-e)*a/60:180>a?g:240>a?e+(g-e)*(240-a)/60:e}var e,
g;a=isNaN(a)?0:0>(a%=360)?a+360:a;b=isNaN(b)?0:0>b?0:1<b?1:b;d=0>d?0:1<d?1:d;g=.5>=d?d*(1+b):d+b-d*b;e=2*d-g;return new ka(Math.round(255*c(a+120)),Math.round(255*c(a)),Math.round(255*c(a-120)))}function wa(a,b,d){return this instanceof wa?void(this.h=+a,this.c=+b,this.l=+d):2>arguments.length?a instanceof wa?new wa(a.h,a.c,a.l):a instanceof Aa?gc(a.l,a.a,a.b):gc((a=Wa((a=s.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new wa(a,b,d)}function Ra(a,b,d){isNaN(a)&&(a=0);isNaN(b)&&(b=0);return new Aa(d,Math.cos(a*=
S)*b,Math.sin(a)*b)}function Aa(a,b,d){return this instanceof Aa?void(this.l=+a,this.a=+b,this.b=+d):2>arguments.length?a instanceof Aa?new Aa(a.l,a.a,a.b):a instanceof wa?Ra(a.h,a.c,a.l):Wa((a=ka(a)).r,a.g,a.b):new Aa(a,b,d)}function bd(a,b,d){a=(a+16)/116;d=a-d/200;b=Ga(a+b/500)*Ef;a=Ga(a)*Ff;d=Ga(d)*Gf;return new ka(Ab(3.2404542*b-1.5371385*a-.4985314*d),Ab(-.969266*b+1.8760108*a+.041556*d),Ab(.0556434*b-.2040259*a+1.0572252*d))}function gc(a,b,d){return 0<a?new wa(Math.atan2(d,b)*pa,Math.sqrt(b*
b+d*d),a):new wa(NaN,NaN,a)}function Ga(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function Zb(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Ab(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function ka(a,b,d){return this instanceof ka?void(this.r=~~a,this.g=~~b,this.b=~~d):2>arguments.length?a instanceof ka?new ka(a.r,a.g,a.b):Uc(""+a,ka,zb):new ka(a,b,d)}function Q(a){return new ka(a>>16,a>>8&255,a&255)+""}function oa(a){return 16>a?"0"+Math.max(0,a).toString(16):
Math.min(255,a).toString(16)}function Uc(a,b,d){var c=0,e=0,g=0,f,l;if(f=/([a-z]+)\((.*)\)/i.exec(a))switch(l=f[2].split(","),f[1]){case "hsl":return d(parseFloat(l[0]),parseFloat(l[1])/100,parseFloat(l[2])/100);case "rgb":return b(Pa(l[0]),Pa(l[1]),Pa(l[2]))}if(d=qd.get(a))return b(d.r,d.g,d.b);null==a||"#"!==a.charAt(0)||isNaN(d=parseInt(a.slice(1),16))||(4===a.length?(c=(d&3840)>>4,c|=c>>4,e=d&240,e|=e>>4,g=d&15,g|=g<<4):7===a.length&&(c=(d&16711680)>>16,e=(d&65280)>>8,g=d&255));return b(c,e,g)}
function $b(a,b,d){var c=Math.min(a/=255,b/=255,d/=255),e=Math.max(a,b,d),g=e-c,f=(e+c)/2;g?(c=.5>f?g/(e+c):g/(2-e-c),a=60*(a==e?(b-d)/g+(b<d?6:0):b==e?(d-a)/g+2:(a-b)/g+4)):(a=NaN,c=0<f&&1>f?0:a);return new la(a,c,f)}function Wa(a,b,d){a=Oa(a);b=Oa(b);d=Oa(d);var c=Zb((.4124564*a+.3575761*b+.1804375*d)/Ef),e=Zb((.2126729*a+.7151522*b+.072175*d)/Ff);a=Zb((.0193339*a+.119192*b+.9503041*d)/Gf);return Aa(116*e-16,500*(c-e),200*(e-a))}function Oa(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,
2.4)}function Pa(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function ca(a){return"function"===typeof a?a:function(){return a}}function ta(a){return a}function Fc(a){return function(b,d,c){2===arguments.length&&"function"===typeof d&&(c=d,d=null);return Ob(b,d,a,c)}}function Ob(a,b,d,c){function e(){var a=ma.status,b,v;if(v=!a)v=(v=ma.responseType)&&"text"!==v?ma.response:ma.responseText;if(v||200<=a&&300>a||304===a){try{b=d.call(g,ma)}catch(c){f.error.call(g,c);return}f.load.call(g,
b)}else f.error.call(g,ma)}var g={},f=s.dispatch("beforesend","progress","load","error"),l={},ma=new XMLHttpRequest,h=null;!Ka.XDomainRequest||"withCredentials"in ma||!/^(http(s)?:)?\/\//.test(a)||(ma=new XDomainRequest);"onload"in ma?ma.onload=ma.onerror=e:ma.onreadystatechange=function(){3<ma.readyState&&e()};ma.onprogress=function(a){var b=s.event;s.event=a;try{f.progress.call(g,ma)}finally{s.event=b}};g.header=function(a,b){a=(a+"").toLowerCase();if(2>arguments.length)return l[a];null==b?delete l[a]:
l[a]=b+"";return g};g.mimeType=function(a){if(!arguments.length)return b;b=null==a?null:a+"";return g};g.responseType=function(a){if(!arguments.length)return h;h=a;return g};g.response=function(a){d=a;return g};["get","post"].forEach(function(a){g[a]=function(){return g.send.apply(g,[a].concat(Db(arguments)))}});g.send=function(d,c,e){2===arguments.length&&"function"===typeof c&&(e=c,c=null);ma.open(d,a,!0);null==b||"accept"in l||(l.accept=b+",*/*");if(ma.setRequestHeader)for(var M in l)ma.setRequestHeader(M,
l[M]);null!=b&&ma.overrideMimeType&&ma.overrideMimeType(b);null!=h&&(ma.responseType=h);if(null!=e)g.on("error",e).on("load",function(a){e(null,a)});f.beforesend.call(g,ma);ma.send(null==c?null:c);return g};g.abort=function(){ma.abort();return g};s.rebind(g,f,"on");return null==c?g:g.get(cd(c))}function cd(a){return 1===a.length?function(b,d){a(null==b?d:null)}:a}function hc(){var a=Gc(),a=dd()-a;24<a?(isFinite(a)&&(clearTimeout(rd),rd=setTimeout(hc,a)),sd=0):(sd=1,Hf(hc))}function Gc(){var a=Date.now();
for(rb=td;rb;)a>=rb.t&&(rb.f=rb.c(a-rb.t)),rb=rb.n;return a}function dd(){for(var a,b=td,d=Infinity;b;)b.f?b=a?a.n=b.n:td=b.n:(b.t<d&&(d=b.t),b=(a=b).n);ud=a;return d}function Hc(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function ge(a){var b=a.decimal,d=a.thousands,c=a.grouping,e=a.currency,g=c&&d?function(a,b){for(var v=a.length,e=[],g=0,F=c[0],f=0;0<v&&0<F;){f+F+1>b&&(F=Math.max(1,b-f));e.push(a.substring(v-=F,v+F));if((f+=F+1)>b)break;F=c[g=(g+1)%c.length]}return e.reverse().join(d)}:
ta;return function(a){a=If.exec(a);var d=a[1]||" ",v=a[2]||">",c=a[3]||"-",M=a[4]||"",f=a[5],za=+a[6],l=a[7],h=a[8],q=a[9],k=1,r="",m="",n=!1,p=!0;h&&(h=+h.substring(1));if(f||"0"===d&&"="===v)f=d="0",v="=";switch(q){case "n":l=!0;q="g";break;case "%":k=100;m="%";q="f";break;case "p":k=100;m="%";q="r";break;case "b":case "o":case "x":case "X":"#"===M&&(r="0"+q.toLowerCase());case "c":p=!1;case "d":n=!0;h=0;break;case "s":k=-1,q="r"}"$"===M&&(r=e[0],m=e[1]);"r"!=q||h||(q="g");if(null!=h)if("g"==q)h=
Math.max(1,Math.min(21,h));else if("e"==q||"f"==q)h=Math.max(0,Math.min(20,h));var q=mh.get(q)||ed,y=f&&l;return function(a){var e=m;if(n&&a%1)return"";var M=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===c?"":c;0>k?(e=s.formatPrefix(a,h),a=e.scale(a),e=e.symbol+m):a*=k;a=q(a,h);var ia=a.lastIndexOf("."),Ea;0>ia?(ia=p?a.lastIndexOf("e"):-1,0>ia?(Ea=a,a=""):(Ea=a.substring(0,ia),a=a.substring(ia))):(Ea=a.substring(0,ia),a=b+a.substring(ia+1));!f&&l&&(Ea=g(Ea,Infinity));var ia=r.length+Ea.length+a.length+(y?0:
M.length),Sa=ia<za?Array(ia=za-ia+1).join(d):"";y&&(Ea=g(Sa+Ea,Sa.length?za-a.length:Infinity));M+=r;a=Ea+a;return("<"===v?M+a+Sa:">"===v?Sa+M+a:"^"===v?Sa.substring(0,ia>>=1)+M+a+Sa.substring(ia):M+(y?a:Sa+a))+e}}}function ed(a){return a+""}function $a(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function lb(a,b,d){function c(b){var d=a(b),e=g(d,1);return b-d<e-b?d:e}function e(d){b(d=a(new Fa(d-1)),1);return d}function g(a,d){b(a=new Fa(+a),d);return a}function f(a,
v,c){a=e(a);var g=[];if(1<c)for(;a<v;)d(a)%c||g.push(new Date(+a)),b(a,1);else for(;a<v;)g.push(new Date(+a)),b(a,1);return g}a.floor=a;a.round=c;a.ceil=e;a.offset=g;a.range=f;var l=a.utc=Ba(a);l.floor=l;l.round=Ba(c);l.ceil=Ba(e);l.offset=Ba(g);l.range=function(a,b,d){try{Fa=$a;var v=new $a;v._=a;return f(v,b,d)}finally{Fa=Date}};return a}function Ba(a){return function(b,d){try{Fa=$a;var c=new $a;c._=b;return a(c,d)._}finally{Fa=Date}}}function ac(a){function b(a){function v(b){for(var d=[],e=-1,
g=0,F,M;++e<c;)if(37===a.charCodeAt(e)){d.push(a.slice(g,e));null!=(F=Jf[g=a.charAt(++e)])&&(g=a.charAt(++e));if(M=C[g])g=M(b,null==F?"e"===g?" ":"0":F);d.push(g);g=e+1}d.push(a.slice(g,e));return d.join("")}var c=a.length;v.parse=function(b){var v={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(v,a,b,0)!=b.length)return null;"p"in v&&(v.H=v.H%12+12*v.p);b=null!=v.Z&&Fa!==$a;var c=new (b?$a:Fa);"j"in v?c.setFullYear(v.y,0,v.j):"w"in v&&("W"in v||"U"in v)?(c.setFullYear(v.y,0,1),c.setFullYear(v.y,0,"W"in
v?(v.w+6)%7+7*v.W-(c.getDay()+5)%7:v.w+7*v.U-(c.getDay()+6)%7)):c.setFullYear(v.y,v.m,v.d);c.setHours(v.H+(v.Z/100|0),v.M+v.Z%100,v.S,v.L);return b?c._:c};v.toString=function(){return a};return v}function d(a,b,v,c){for(var e,g=0,F=b.length,M=v.length;g<F;){if(c>=M)return-1;e=b.charCodeAt(g++);if(37===e){if(e=b.charAt(g++),e=z[e in Jf?b.charAt(g++):e],!e||0>(c=e(a,v,c)))return-1}else if(e!=v.charCodeAt(c++))return-1}return c}var c=a.dateTime,e=a.date,g=a.time,f=a.periods,l=a.days,h=a.shortDays,q=
a.months,k=a.shortMonths;b.utc=function(a){function d(a){try{Fa=$a;var b=new Fa;b._=a;return v(b)}finally{Fa=Date}}var v=b(a);d.parse=function(a){try{Fa=$a;var b=v.parse(a);return b&&b._}finally{Fa=Date}};d.toString=v.toString;return d};b.multi=b.utc.multi=Pb;var r=s.map(),m=Jb(l),n=vb(l),p=Jb(h),y=vb(h),D=Jb(q),Ma=vb(q),w=Jb(k),Ia=vb(k);f.forEach(function(a,b){r.set(a.toLowerCase(),b)});var C={a:function(a){return h[a.getDay()]},A:function(a){return l[a.getDay()]},b:function(a){return k[a.getMonth()]},
B:function(a){return q[a.getMonth()]},c:b(c),d:function(a,b){return xa(a.getDate(),b,2)},e:function(a,b){return xa(a.getDate(),b,2)},H:function(a,b){return xa(a.getHours(),b,2)},I:function(a,b){return xa(a.getHours()%12||12,b,2)},j:function(a,b){return xa(1+K.dayOfYear(a),b,3)},L:function(a,b){return xa(a.getMilliseconds(),b,3)},m:function(a,b){return xa(a.getMonth()+1,b,2)},M:function(a,b){return xa(a.getMinutes(),b,2)},p:function(a){return f[+(12<=a.getHours())]},S:function(a,b){return xa(a.getSeconds(),
b,2)},U:function(a,b){return xa(K.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return xa(K.mondayOfYear(a),b,2)},x:b(e),X:b(g),y:function(a,b){return xa(a.getFullYear()%100,b,2)},Y:function(a,b){return xa(a.getFullYear()%1E4,b,4)},Z:Kb,"%":function(){return"%"}},z={a:function(a,b,d){p.lastIndex=0;return(b=p.exec(b.slice(d)))?(a.w=y.get(b[0].toLowerCase()),d+b[0].length):-1},A:function(a,b,d){m.lastIndex=0;return(b=m.exec(b.slice(d)))?(a.w=n.get(b[0].toLowerCase()),d+b[0].length):
-1},b:function(a,b,d){w.lastIndex=0;return(b=w.exec(b.slice(d)))?(a.m=Ia.get(b[0].toLowerCase()),d+b[0].length):-1},B:function(a,b,d){D.lastIndex=0;return(b=D.exec(b.slice(d)))?(a.m=Ma.get(b[0].toLowerCase()),d+b[0].length):-1},c:function(a,b,v){return d(a,C.c.toString(),b,v)},d:jb,e:jb,H:gd,I:gd,j:ic,L:cc,m:Wc,M:hd,p:function(a,b,d){b=r.get(b.slice(d,d+=2).toLowerCase());return null==b?-1:(a.p=b,d)},S:ke,U:he,w:bc,W:Ud,x:function(a,b,v){return d(a,C.x.toString(),b,v)},X:function(a,b,v){return d(a,
C.X.toString(),b,v)},y:je,Y:ie,Z:fd,"%":id};return b}function xa(a,b,d){var c=0>a?"-":"";a=(c?-a:a)+"";var e=a.length;return c+(e<d?Array(d-e+1).join(b)+a:a)}function Jb(a){return new RegExp("^(?:"+a.map(s.requote).join("|")+")","i")}function vb(a){for(var b=new c,d=-1,e=a.length;++d<e;)b.set(a[d].toLowerCase(),d);return b}function bc(a,b,d){sa.lastIndex=0;return(b=sa.exec(b.slice(d,d+1)))?(a.w=+b[0],d+b[0].length):-1}function he(a,b,d){sa.lastIndex=0;return(b=sa.exec(b.slice(d)))?(a.U=+b[0],d+b[0].length):
-1}function Ud(a,b,d){sa.lastIndex=0;return(b=sa.exec(b.slice(d)))?(a.W=+b[0],d+b[0].length):-1}function ie(a,b,d){sa.lastIndex=0;return(b=sa.exec(b.slice(d,d+4)))?(a.y=+b[0],d+b[0].length):-1}function je(a,b,d){sa.lastIndex=0;if(b=sa.exec(b.slice(d,d+2))){var c=+b[0];a=(a.y=c+(68<c?1900:2E3),d+b[0].length)}else a=-1;return a}function fd(a,b,d){return/^[+-]\d{4}$/.test(b=b.slice(d,d+5))?(a.Z=-b,d+5):-1}function Wc(a,b,d){sa.lastIndex=0;return(b=sa.exec(b.slice(d,d+2)))?(a.m=b[0]-1,d+b[0].length):
-1}function jb(a,b,d){sa.lastIndex=0;return(b=sa.exec(b.slice(d,d+2)))?(a.d=+b[0],d+b[0].length):-1}function ic(a,b,d){sa.lastIndex=0;return(b=sa.exec(b.slice(d,d+3)))?(a.j=+b[0],d+b[0].length):-1}function gd(a,b,d){sa.lastIndex=0;return(b=sa.exec(b.slice(d,d+2)))?(a.H=+b[0],d+b[0].length):-1}function hd(a,b,d){sa.lastIndex=0;return(b=sa.exec(b.slice(d,d+2)))?(a.M=+b[0],d+b[0].length):-1}function ke(a,b,d){sa.lastIndex=0;return(b=sa.exec(b.slice(d,d+2)))?(a.S=+b[0],d+b[0].length):-1}function cc(a,
b,d){sa.lastIndex=0;return(b=sa.exec(b.slice(d,d+3)))?(a.L=+b[0],d+b[0].length):-1}function Kb(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var d=U(b)/60|0,b=U(b)%60;return a+xa(d,"0",2)+xa(b,"0",2)}function id(a,b,d){Kf.lastIndex=0;return(a=Kf.exec(b.slice(d,d+1)))?d+a[0].length:-1}function Pb(a){for(var b=a.length,d=-1;++d<b;)a[d][0]=this(a[d][0]);return function(b){for(var d=0,c=a[d];!c[1](b);)c=a[++d];return c[0](b)}}function Ic(){}function jc(a,b,d){var c=d.s=a+b,e=c-a;d.t=a-(c-e)+(b-e)}function kc(a,
b){if(a&&Lf.hasOwnProperty(a.type))Lf[a.type](a,b)}function Qb(a,b,d){var c=-1;d=a.length-d;var e;for(b.lineStart();++c<d;)e=a[c],b.point(e[0],e[1],e[2]);b.lineEnd()}function lc(a,b){var d=-1,c=a.length;for(b.polygonStart();++d<c;)Qb(a[d],b,1);b.polygonEnd()}function mb(){function a(b,d){b*=S;d=d*S/2+T/4;var v=b-c,F=0<=v?1:-1,f=F*v,v=Math.cos(d),M=Math.sin(d),l=g*M,h=e*v+l*Math.cos(f),F=l*F*Math.sin(f);Ub.add(Math.atan2(F,h));c=b;e=v;g=M}var b,d,c,e,g;Ta.point=function(f,l){Ta.point=a;c=(b=f)*S;e=
Math.cos(l=(d=l)*S/2+T/4);g=Math.sin(l)};Ta.lineEnd=function(){a(b,d)}}function Ha(a){var b=a[0];a=a[1];var d=Math.cos(a);return[d*Math.cos(b),d*Math.sin(b),Math.sin(a)]}function mc(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function nb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Jc(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function nc(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function oc(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function Rb(a){return[Math.atan2(a[1],
a[0]),W(a[2])]}function Sb(a,b){return 1E-6>U(a[0]-b[0])&&1E-6>U(a[1]-b[1])}function Lb(a,b){a*=S;var d=Math.cos(b*=S);Bb(d*Math.cos(a),d*Math.sin(a),Math.sin(b))}function Bb(a,b,d){++Pc;sb+=(a-sb)/Pc;tb+=(b-tb)/Pc;gb+=(d-gb)/Pc}function le(){function a(v,e){v*=S;var g=Math.cos(e*=S),f=g*Math.cos(v),g=g*Math.sin(v),l=Math.sin(e),h=Math.atan2(Math.sqrt((h=d*l-c*g)*h+(h=c*f-b*l)*h+(h=b*g-d*f)*h),b*f+d*g+c*l);sc+=h;Xa+=h*(b+(b=f));Ya+=h*(d+(d=g));Na+=h*(c+(c=l));Bb(b,d,c)}var b,d,c;cb.point=function(e,
g){e*=S;var f=Math.cos(g*=S);b=f*Math.cos(e);d=f*Math.sin(e);c=Math.sin(g);cb.point=a;Bb(b,d,c)}}function jd(){cb.point=Lb}function Vd(){function a(b,d){b*=S;var v=Math.cos(d*=S),F=v*Math.cos(b),v=v*Math.sin(b),f=Math.sin(d),M=e*f-g*v,l=g*F-c*f,h=c*v-e*F,q=Math.sqrt(M*M+l*l+h*h),k=c*F+e*v+g*f,r=q&&-ga(k)/q,q=Math.atan2(q,k);Eb+=r*M;Fb+=r*l;hb+=r*h;sc+=q;Xa+=q*(c+(c=F));Ya+=q*(e+(e=v));Na+=q*(g+(g=f));Bb(c,e,g)}var b,d,c,e,g;cb.point=function(f,l){b=f;d=l;cb.point=a;f*=S;var h=Math.cos(l*=S);c=h*Math.cos(f);
e=h*Math.sin(f);g=Math.sin(l);Bb(c,e,g)};cb.lineEnd=function(){a(b,d);cb.lineEnd=jd;cb.point=Lb}}function ob(){return!0}function kd(a,b,d,c,e){var g=[],f=[];a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,d=a[0],c=a[b];if(Sb(d,c)){e.lineStart();for(c=0;c<b;++c)e.point((d=a[c])[0],d[1]);e.lineEnd()}else b=new pc(d,a,null,!0),d=new pc(d,null,b,!1),b.o=d,g.push(b),f.push(d),b=new pc(c,a,null,!1),d=new pc(c,null,b,!0),b.o=d,g.push(b),f.push(d)}});f.sort(b);ld(g);ld(f);if(g.length){a=0;b=d;for(d=
f.length;a<d;++a)f[a].e=b=!b;b=g[0];for(var l,h;;){for(var q=b,k=!0;q.v;)if((q=q.n)===b)return;l=q.z;e.lineStart();do{q.v=q.o.v=!0;if(q.e){if(k)for(a=0,d=l.length;a<d;++a)e.point((h=l[a])[0],h[1]);else c(q.x,q.n.x,1,e);q=q.n}else{if(k)for(l=q.p.z,a=l.length-1;0<=a;--a)e.point((h=l[a])[0],h[1]);else c(q.x,q.p.x,-1,e);q=q.p}q=q.o;l=q.z;k=!k}while(!q.v);e.lineEnd()}}}function ld(a){if(b=a.length){for(var b,d=0,c=a[0],e;++d<b;)c.n=e=a[d],e.p=c,c=e;c.n=e=a[0];e.p=c}}function pc(a,b,d,c){this.x=a;this.z=
b;this.o=d;this.e=c;this.v=!1;this.n=this.p=null}function Tb(a,b,d,c){return function(e,g){function f(b,d){var c=e(b,d);a(b=c[0],d=c[1])&&g.point(b,d)}function l(a,b){var d=e(a,b);n.point(d[0],d[1])}function h(){y.point=l;n.lineStart()}function q(){y.point=f;n.lineEnd()}function k(a,b){z.push([a,b]);var d=e(a,b);w.point(d[0],d[1])}function r(){w.lineStart();z=[]}function m(){k(z[0][0],z[0][1]);w.lineEnd();var a=w.clean(),b=Ma.buffer(),d=b.length;z.pop();C.push(z);z=null;if(d)if(a&1){var a=b[0],d=
a.length-1,b=-1,c;if(0<d){Ia||(g.polygonStart(),Ia=!0);for(g.lineStart();++b<d;)g.point((c=a[b])[0],c[1]);g.lineEnd()}}else 1<d&&a&2&&b.push(b.pop().concat(b.shift())),D.push(b.filter(me))}var n=b(g),p=e.invert(c[0],c[1]),y={point:f,lineStart:h,lineEnd:q,polygonStart:function(){y.point=k;y.lineStart=r;y.lineEnd=m;D=[];C=[]},polygonEnd:function(){y.point=f;y.lineStart=h;y.lineEnd=q;D=s.merge(D);var a,b=p;a=C;var c=b[0],v=b[1],e=[Math.sin(c),-Math.cos(c),0],F=0,za=0;Ub.reset();for(var l=0,ia=a.length;l<
ia;++l){var Ja=a[l],k=Ja.length;if(k)for(var r=Ja[0],m=r[0],b=r[1]/2+T/4,n=Math.sin(b),Sa=Math.cos(b),pd=1;;){pd===k&&(pd=0);var b=Ja[pd],qc=b[0],Ma=b[1]/2+T/4,w=Math.sin(Ma),Ma=Math.cos(Ma),rc=qc-m,z=0<=rc?1:-1,re=z*rc,t=re>T,n=n*w;Ub.add(Math.atan2(n*z*Math.sin(re),Sa*Ma+n*Math.cos(re)));F+=t?rc+z*Ua:rc;t^m>=c^qc>=c&&(r=nb(Ha(r),Ha(b)),oc(r),m=nb(e,r),oc(m),m=(t^0<=rc?-1:1)*W(m[2]),v>m||v===m&&(r[0]||r[1]))&&(za+=t^0<=rc?1:-1);if(!pd++)break;m=qc;n=w;Sa=Ma;r=b}}a=(-1E-6>F||1E-6>F&&0>Ub)^za&1;D.length?
(Ia||(g.polygonStart(),Ia=!0),kd(D,md,a,d,g)):a&&(Ia||(g.polygonStart(),Ia=!0),g.lineStart(),d(null,null,1,g),g.lineEnd());Ia&&(g.polygonEnd(),Ia=!1);D=C=null},sphere:function(){g.polygonStart();g.lineStart();d(null,null,1,g);g.lineEnd();g.polygonEnd()}},D,Ma=Cb(),w=b(Ma),Ia=!1,C,z;return y}}function me(a){return 1<a.length}function Cb(){var a=[],b;return{lineStart:function(){a.push(b=[])},point:function(a,d){b.push([a,d])},lineEnd:E,buffer:function(){var d=a;a=[];b=null;return d},rejoin:function(){1<
a.length&&a.push(a.pop().concat(a.shift()))}}}function md(a,b){return(0>(a=a.x)[0]?a[1]-Da-1E-6:Da-a[1])-(0>(b=b.x)[0]?b[1]-Da-1E-6:Da-b[1])}function Kc(a){function b(a,d){return Math.cos(a)*Math.cos(d)>e}function d(a,b,c){var v=Ha(a),g=Ha(b),F=[1,0,0],g=nb(v,g),f=mc(g,g),v=g[0],M=f-v*v;if(!M)return!c&&a;f=e*f/M;M=-e*v/M;v=nb(F,g);F=nc(F,f);g=nc(g,M);Jc(F,g);g=mc(F,v);f=mc(v,v);M=g*g-f*(mc(F,F)-1);if(!(0>M)){var za=Math.sqrt(M),M=nc(v,(-g-za)/f);Jc(M,F);M=Rb(M);if(!c)return M;c=a[0];var l=b[0];a=
a[1];b=b[1];var ha;l<c&&(ha=c,c=l,l=ha);var h=l-c,q=1E-6>U(h-T);!q&&b<a&&(ha=a,a=b,b=ha);if(q||1E-6>h?q?0<a+b^M[1]<(1E-6>U(M[0]-c)?a:b):a<=M[1]&&M[1]<=b:h>T^(c<=M[0]&&M[0]<=l))return b=nc(v,(-g+za)/f),Jc(b,F),[M,Rb(b)]}}function c(b,d){var e=g?a:T-a,F=0;b<-e?F|=1:b>e&&(F|=2);d<-e?F|=4:d>e&&(F|=8);return F}var e=Math.cos(a),g=0<e,f=1E-6<U(e),l=ce(a,6*S);return Tb(b,function(a){var v,e,l,ia,h;return{lineStart:function(){ia=l=!1;h=1},point:function(q,Ja){var k=[q,Ja],r,m=b(q,Ja),n=g?m?0:c(q,Ja):m?c(q+
(0>q?T:-T),Ja):0;!v&&(ia=l=m)&&a.lineStart();m!==l&&(r=d(v,k),Sb(v,r)||Sb(k,r))&&(k[0]+=1E-6,k[1]+=1E-6,m=b(k[0],k[1]));if(m!==l)h=0,m?(a.lineStart(),r=d(k,v),a.point(r[0],r[1])):(r=d(v,k),a.point(r[0],r[1]),a.lineEnd()),v=r;else if(f&&v&&g^m){var p;n&e||!(p=d(k,v,!0))||(h=0,g?(a.lineStart(),a.point(p[0][0],p[0][1]),a.point(p[1][0],p[1][1]),a.lineEnd()):(a.point(p[1][0],p[1][1]),a.lineEnd(),a.lineStart(),a.point(p[0][0],p[0][1])))}!m||v&&Sb(v,k)||a.point(k[0],k[1]);v=k;l=m;e=n},lineEnd:function(){l&&
a.lineEnd();v=null},clean:function(){return h|(ia&&l)<<1}}},l,g?[0,-a]:[-T,a-T])}function Lc(a,b,d,c){return function(e){var g=e.a,f=e.b,l=g.x,g=g.y,h=0,q=1,k=f.x-l,f=f.y-g,r;r=a-l;if(k||!(0<r)){r/=k;if(0>k){if(r<h)return;r<q&&(q=r)}else if(0<k){if(r>q)return;r>h&&(h=r)}r=d-l;if(k||!(0>r)){r/=k;if(0>k){if(r>q)return;r>h&&(h=r)}else if(0<k){if(r<h)return;r<q&&(q=r)}r=b-g;if(f||!(0<r)){r/=f;if(0>f){if(r<h)return;r<q&&(q=r)}else if(0<f){if(r>q)return;r>h&&(h=r)}r=c-g;if(f||!(0>r)){r/=f;if(0>f){if(r>
q)return;r>h&&(h=r)}else if(0<f){if(r<h)return;r<q&&(q=r)}0<h&&(e.a={x:l+h*k,y:g+h*f});1>q&&(e.b={x:l+q*k,y:g+q*f});return e}}}}}}function Mc(a,b,d,c){function e(c,g){return 1E-6>U(c[0]-a)?0<g?0:3:1E-6>U(c[0]-d)?0<g?2:1:1E-6>U(c[1]-b)?0<g?1:0:0<g?3:2}function g(a,b){return f(a.x,b.x)}function f(a,b){var d=e(a,1),c=e(b,1);return d!==c?d-c:0===d?b[1]-a[1]:1===d?a[0]-b[0]:2===d?a[1]-b[1]:b[0]-a[0]}return function(l){function h(g,l,ha,q){var k=0,Ja=0;if(null==g||(k=e(g,ha))!==(Ja=e(l,ha))||0>f(g,l)^0<
ha){do q.point(0===k||3===k?a:d,1<k?c:b);while((k=(k+ha+4)%4)!==Ja)}else q.point(l[0],l[1])}function q(e,g){a<=e&&e<=d&&b<=g&&g<=c&&l.point(e,g)}function r(e,g){e=Math.max(-1E9,Math.min(1E9,e));g=Math.max(-1E9,Math.min(1E9,g));var f=a<=e&&e<=d&&b<=g&&g<=c;D&&w.push([e,g]);if(se)C=e,Ia=g,z=f,se=!1,f&&(l.lineStart(),l.point(e,g));else if(f&&u)l.point(e,g);else{var ia={a:{x:t,y:bb},b:{x:e,y:g}};p(ia)?(u||(l.lineStart(),l.point(ia.a.x,ia.a.y)),l.point(ia.b.x,ia.b.y),f||l.lineEnd(),vd=!1):f&&(l.lineStart(),
l.point(e,g),vd=!1)}t=e;bb=g;u=f}var m=l,n=Cb(),p=Lc(a,b,d,c),y,D,w,Ma={point:q,lineStart:function(){Ma.point=r;D&&D.push(w=[]);se=!0;u=!1;t=bb=NaN},lineEnd:function(){y&&(r(C,Ia),z&&u&&n.rejoin(),y.push(n.buffer()));Ma.point=q;u&&l.lineEnd()},polygonStart:function(){l=n;y=[];D=[];vd=!0},polygonEnd:function(){l=m;y=s.merge(y);var b;b=[a,c];for(var d=0,e=D.length,F=b[1],f=0;f<e;++f)for(var M=1,ia=D[f],q=ia.length,Ea=ia[0],r;M<q;++M)r=ia[M],Ea[1]<=F?r[1]>F&&0<k(Ea,r,b)&&++d:r[1]<=F&&0>k(Ea,r,b)&&--d,
Ea=r;b=0!==d;d=vd&&b;e=y.length;if(d||e)l.polygonStart(),d&&(l.lineStart(),h(null,null,1,l),l.lineEnd()),e&&kd(y,g,b,h,l),l.polygonEnd();y=D=w=null}},C,Ia,z,t,bb,u,se,vd;return Ma}}function nd(a,b){function d(c,e){return c=a(c,e),b(c[0],c[1])}a.invert&&b.invert&&(d.invert=function(d,c){return d=b.invert(d,c),d&&a.invert(d[0],d[1])});return d}function Nc(a){var b=0,d=T/3,c=$d(a);a=c(b,d);a.parallels=function(a){return arguments.length?c(b=a[0]*T/180,d=a[1]*T/180):[b/T*180,d/T*180]};return a}function B(a,
b){function d(a,b){var c=Math.sqrt(g-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),f-c*Math.cos(a)]}var c=Math.sin(a),e=(c+Math.sin(b))/2,g=1+c*(2*e-c),f=Math.sqrt(g)/e;d.invert=function(a,b){var d=f-b;return[Math.atan2(a,d)/e,W((g-(a*a+d*d)*e*e)/(2*e))]};return d}function na(){function a(b,d){wd+=e*b-c*d;c=b;e=d}var b,d,c,e;Gb.point=function(g,f){Gb.point=a;b=c=g;d=e=f};Gb.lineEnd=function(){a(b,d)}}function ra(){function a(b,d){f.push("M",b,",",d,g)}function b(a,c){f.push("M",a,",",c);l.point=d}function d(a,
b){f.push("L",a,",",b)}function c(){l.point=a}function e(){f.push("Z")}var g=fa(4.5),f=[],l={point:a,lineStart:function(){l.point=b},lineEnd:c,polygonStart:function(){l.lineEnd=e},polygonEnd:function(){l.lineEnd=c;l.point=a},pointRadius:function(a){g=fa(a);return l},result:function(){if(f.length){var a=f.join("");f=[];return a}}};return l}function fa(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function La(a,b){sb+=a;tb+=b;++gb}function Vc(){function a(c,v){var e=
c-b,g=v-d,e=Math.sqrt(e*e+g*g);Xa+=e*(b+c)/2;Ya+=e*(d+v)/2;Na+=e;La(b=c,d=v)}var b,d;db.point=function(c,e){db.point=a;La(b=c,d=e)}}function Ue(){db.point=La}function Og(){function a(b,d){var v=b-c,g=d-e,v=Math.sqrt(v*v+g*g);Xa+=v*(c+b)/2;Ya+=v*(e+d)/2;Na+=v;v=e*b-c*d;Eb+=v*(c+b);Fb+=v*(e+d);hb+=3*v;La(c=b,e=d)}var b,d,c,e;db.point=function(g,f){db.point=a;La(b=c=g,d=e=f)};db.lineEnd=function(){a(b,d)}}function Pg(a){function b(d,c){a.moveTo(d,c);a.arc(d,c,f,0,Ua)}function d(b,e){a.moveTo(b,e);l.point=
c}function c(b,d){a.lineTo(b,d)}function e(){l.point=b}function g(){a.closePath()}var f=4.5,l={point:b,lineStart:function(){l.point=d},lineEnd:e,polygonStart:function(){l.lineEnd=g},polygonEnd:function(){l.lineEnd=e;l.point=b},pointRadius:function(a){f=a;return l},result:E};return l}function Ve(a){function b(a){return(l?c:d)(a)}function d(b){return Xe(b,function(d,c){d=a(d,c);b.point(d[0],d[1])})}function c(b){function d(c,e){c=a(c,e);b.point(c[0],c[1])}function g(){p=NaN;C.point=F;b.lineStart()}
function F(d,c){var g=Ha([d,c]),f=a(d,c);e(p,y,n,s,D,w,p=f[0],y=f[1],n=d,s=g[0],D=g[1],w=g[2],l,b);b.point(p,y)}function f(){C.point=d;b.lineEnd()}function M(){g();C.point=za;C.lineEnd=h}function za(a,b){F(ha=a,b);q=p;k=y;Ea=s;r=D;m=w;C.point=F}function h(){e(p,y,n,s,D,w,q,k,ha,Ea,r,m,l,b);C.lineEnd=f;f()}var ha,q,k,Ea,r,m,n,p,y,s,D,w,C={point:d,lineStart:g,lineEnd:f,polygonStart:function(){b.polygonStart();C.lineStart=M},polygonEnd:function(){b.polygonEnd();C.lineStart=g}};return C}function e(b,
d,c,F,M,l,za,h,q,k,Ja,r,m,n){var p=za-b,y=h-d,s=p*p+y*y;if(s>4*g&&m--){var D=F+k,w=M+Ja,C=l+r,z=Math.sqrt(D*D+w*w+C*C),t=Math.asin(C/=z),u=1E-6>U(U(C)-1)||1E-6>U(c-q)?(c+q)/2:Math.atan2(w,D),x=a(u,t),t=x[0],x=x[1],ba=t-b,B=x-d,aa=y*ba-p*B;if(aa*aa/s>g||.3<U((p*ba+y*B)/s-.5)||F*k+M*Ja+l*r<f)e(b,d,c,F,M,l,t,x,u,D/=z,w/=z,C,m,n),n.point(t,x),e(t,x,u,D,w,C,za,h,q,k,Ja,r,m,n)}}var g=.5,f=Math.cos(30*S),l=16;b.precision=function(a){if(!arguments.length)return Math.sqrt(g);l=0<(g=a*a)&&16;return b};return b}
function Qg(a){var b=Ve(function(b,d){return a([b*pa,d*pa])});return function(a){return kf(b(a))}}function We(a){this.stream=a}function Xe(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function fb(a){return $d(function(){return a})()}function $d(a){function b(a){a=l(a[0]*S,a[1]*S);return[a[0]*q+w,C-a[1]*q]}function d(a){return(a=l.invert((a[0]-w)/
q,(C-a[1])/q))&&[a[0]*pa,a[1]*pa]}function c(){l=nd(f=be(p,y,D),g);var a=g(m,n);w=k-a[0]*q;C=r+a[1]*q;return e()}function e(){u&&(u.valid=!1,u=null);return b}var g,f,l,h=Ve(function(a,b){a=g(a,b);return[a[0]*q+w,C-a[1]*q]}),q=150,k=480,r=250,m=0,n=0,p=0,y=0,D=0,w,C,Ia=Mf,z=ta,t=null,bb=null,u;b.stream=function(a){u&&(u.valid=!1);u=kf(Ia(f,h(z(a))));u.valid=!0;return u};b.clipAngle=function(a){if(!arguments.length)return t;Ia=null==a?(t=a,Mf):Kc((t=+a)*S);return e()};b.clipExtent=function(a){if(!arguments.length)return bb;
z=(bb=a)?Mc(a[0][0],a[0][1],a[1][0],a[1][1]):ta;return e()};b.scale=function(a){if(!arguments.length)return q;q=+a;return c()};b.translate=function(a){if(!arguments.length)return[k,r];k=+a[0];r=+a[1];return c()};b.center=function(a){if(!arguments.length)return[m*pa,n*pa];m=a[0]%360*S;n=a[1]%360*S;return c()};b.rotate=function(a){if(!arguments.length)return[p*pa,y*pa,D*pa];p=a[0]%360*S;y=a[1]%360*S;D=2<a.length?a[2]%360*S:0;return c()};s.rebind(b,h,"precision");return function(){g=a.apply(this,arguments);
b.invert=g.invert&&d;return c()}}function kf(a){return Xe(a,function(b,d){a.point(b*S,d*S)})}function zc(a,b){return[a,b]}function rf(a,b){return[a>T?a-Ua:a<-T?a+Ua:a,b]}function be(a,b,d){return a?b||d?nd(ef(a),gf(b,d)):ef(a):b||d?gf(b,d):rf}function sf(a){return function(b,d){return b+=a,[b>T?b-Ua:b<-T?b+Ua:b,d]}}function ef(a){var b=sf(a);b.invert=sf(-a);return b}function gf(a,b){function d(a,b){var v=Math.cos(b),F=Math.cos(a)*v,v=Math.sin(a)*v,M=Math.sin(b),l=M*c+F*e;return[Math.atan2(v*g-l*f,
F*c-M*e),W(l*g+v*f)]}var c=Math.cos(a),e=Math.sin(a),g=Math.cos(b),f=Math.sin(b);d.invert=function(a,b){var d=Math.cos(b),v=Math.cos(a)*d,d=Math.sin(a)*d,F=Math.sin(b),M=F*g-d*f;return[Math.atan2(d*g+F*f,v*c+M*e),W(M*c-v*e)]};return d}function ce(a,b){var d=Math.cos(a),c=Math.sin(a);return function(e,g,f,l){var h=f*b;if(null!=e){if(e=tf(d,e),g=tf(d,g),0<f?e<g:e>g)e+=f*Ua}else e=a+f*Ua,g=a-.5*h;for(var q;0<f?e>g:e<g;e-=h)l.point((q=Rb([d,-c*Math.cos(e),-c*Math.sin(e)]))[0],q[1])}}function tf(a,b){var d=
Ha(b);d[0]-=a;oc(d);var c=ga(-d[1]);return((0>-d[2]?-c:c)+2*Math.PI-1E-6)%(2*Math.PI)}function ff(a,b,d){var c=s.range(a,b-1E-6,d).concat(b);return function(a){return c.map(function(b){return[a,b]})}}function uf(a,b,d){var c=s.range(a,b-1E-6,d).concat(b);return function(a){return c.map(function(b){return[b,a]})}}function Zd(a){return a.source}function ae(a){return a.target}function eh(a,b,d,c){var e=Math.cos(b),g=Math.sin(b),f=Math.cos(c),l=Math.sin(c),h=e*Math.cos(a),q=e*Math.sin(a),k=f*Math.cos(d),
r=f*Math.sin(d),m=2*Math.asin(Math.sqrt(yb(c-b)+e*f*yb(d-a))),n=1/Math.sin(m);d=m?function(a){var b=Math.sin(a*=m)*n,d=Math.sin(m-a)*n;a=d*h+b*k;var c=d*q+b*r,b=d*g+b*l;return[Math.atan2(c,a)*pa,Math.atan2(b,Math.sqrt(a*a+c*c))*pa]}:function(){return[a*pa,b*pa]};d.distance=m;return d}function Ac(a,b){function d(b,c){var e=Math.cos(b),g=Math.cos(c),e=a(e*g);return[e*g*Math.sin(b),e*Math.sin(c)]}d.invert=function(a,d){var c=Math.sqrt(a*a+d*d),v=b(c),e=Math.sin(v),v=Math.cos(v);return[Math.atan2(a*e,
c*v),Math.asin(c&&d*e/c)]};return d}function af(a,b){function d(a,b){0<g?b<-Da+1E-6&&(b=-Da+1E-6):b>Da-1E-6&&(b=Da-1E-6);var c=g/Math.pow(Math.tan(T/4+b/2),e);return[c*Math.sin(e*a),g-c*Math.cos(e*a)]}var c=Math.cos(a),e=a===b?Math.sin(a):Math.log(c/Math.cos(b))/Math.log(Math.tan(T/4+b/2)/Math.tan(T/4+a/2)),g=c*Math.pow(Math.tan(T/4+a/2),e)/e;if(!e)return Zc;d.invert=function(a,b){var d=g-b,c=(0<e?1:0>e?-1:0)*Math.sqrt(a*a+d*d);return[Math.atan2(a,d)/e,2*Math.atan(Math.pow(g/c,1/e))-Da]};return d}
function $e(a,b){function d(a,b){var c=g-b;return[c*Math.sin(e*a),g-c*Math.cos(e*a)]}var c=Math.cos(a),e=a===b?Math.sin(a):(c-Math.cos(b))/(b-a),g=c/e+a;if(1E-6>U(e))return zc;d.invert=function(a,b){var d=g-b;return[Math.atan2(a,d)/e,g-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+d*d)]};return d}function Zc(a,b){return[a,Math.log(Math.tan(T/4+b/2))]}function bf(a){var b=fb(a),d=b.scale,c=b.translate,e=b.clipExtent,g;b.scale=function(){var a=d.apply(b,arguments);return a===b?g?b.clipExtent(null):b:a};b.translate=
function(){var a=c.apply(b,arguments);return a===b?g?b.clipExtent(null):b:a};b.clipExtent=function(a){var v=e.apply(b,arguments);if(v===b){if(g=null==a){var f=T*d(),l=c();e([[l[0]-f,l[1]-f],[l[0]+f,l[1]+f]])}}else g&&(v=null);return v};return b.clipExtent(null)}function Xd(a,b){return[Math.log(Math.tan(T/4+b/2)),-a]}function ec(a){return a[0]}function Bc(a){return a[1]}function df(a){for(var b=a.length,d=[0,1],c=2,e=2;e<b;e++){for(;1<c&&0>=k(a[d[c-2]],a[d[c-1]],a[e]);)--c;d[c++]=e}return d.slice(0,
c)}function Wg(a,b){return a[0]-b[0]||a[1]-b[1]}function Wd(a,b,d){return(d[0]-b[0])*(a[1]-b[1])<(d[1]-b[1])*(a[0]-b[0])}function jf(a,b,d,c){var e=a[0],g=d[0],f=b[0]-e,l=c[0]-g;a=a[1];d=d[1];b=b[1]-a;c=c[1]-d;g=(l*(a-d)-c*(e-g))/(c*f-l*b);return[e+g*f,a+g*b]}function hf(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function fh(){ad(this);this.edge=this.site=this.circle=null}function vf(a){var b=Nf.pop()||new fh;b.site=a;return b}function de(a){dc(a);tc.remove(a);Nf.push(a);ad(a)}function wf(a,
b){var d=a.site,c=d.x,e=d.y,g=e-b;if(!g)return c;var f=a.P;if(!f)return-Infinity;var d=f.site,f=d.x,d=d.y,l=d-b;if(!l)return f;var h=f-c,q=1/g-1/l,k=h/l;return q?(-k+Math.sqrt(k*k-2*q*(h*h/(-2*l)-d+l/2+e-g/2)))/q+c:(c+f)/2}function xf(a){this.site=a;this.edges=[]}function yf(a,b){return b.angle-a.angle}function dh(){ad(this);this.x=this.y=this.arc=this.site=this.cy=null}function fc(a){var b=a.P,d=a.N;if(b&&d){var c=b.site,b=a.site,e=d.site;if(c!==e){var d=b.x,g=b.y,f=c.x-d,l=c.y-g,c=e.x-d,e=e.y-g,
h=2*(f*e-l*c);if(!(-1E-12<=h)){var q=f*f+l*l,k=c*c+e*e,l=(e*q-l*k)/h,f=(f*k-c*q)/h,e=f+g,g=Of.pop()||new dh;g.arc=a;g.site=b;g.x=l+d;g.y=e+Math.sqrt(l*l+f*f);g.cy=e;a.circle=g;a=null;for(b=Qc._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x)if(b.L)b=b.L;else{a=b.P;break}else if(b.R)b=b.R;else{a=b;break}Qc.insert(a,g);a||(te=g)}}}}function dc(a){var b=a.circle;b&&(b.P||(te=b.N),Qc.remove(b),Of.push(b),ad(b),a.circle=null)}function gh(a,b){var d=a.b;if(d)return!0;var c=a.a,d=b[0][0],e=b[1][0],g=b[0][1],f=b[1][1],
l=a.l,h=a.r,q=l.x,l=l.y,k=h.x,h=h.y,r=(q+k)/2,m;if(h===l){if(r<d||r>=e)return;if(q>k){if(!c)c={x:r,y:g};else if(c.y>=f)return;d={x:r,y:f}}else{if(!c)c={x:r,y:f};else if(c.y<g)return;d={x:r,y:g}}}else if(m=(q-k)/(h-l),r=(l+h)/2-m*r,-1>m||1<m)if(q>k){if(!c)c={x:(g-r)/m,y:g};else if(c.y>=f)return;d={x:(f-r)/m,y:f}}else{if(!c)c={x:(f-r)/m,y:f};else if(c.y<g)return;d={x:(g-r)/m,y:g}}else if(l<h){if(!c)c={x:d,y:m*d+r};else if(c.x>=e)return;d={x:e,y:m*e+r}}else{if(!c)c={x:e,y:m*e+r};else if(c.x<d)return;
d={x:d,y:m*d+r}}a.a=c;a.b=d;return!0}function qf(a,b){this.l=a;this.r=b;this.a=this.b=null}function Cc(a,b,d,c){var e=new qf(a,b);uc.push(e);d&&$c(e,a,b,d);c&&$c(e,b,a,c);Vb[a.i].edges.push(new Yc(e,a,b));Vb[b.i].edges.push(new Yc(e,b,a));return e}function hh(a,b,d){a=new qf(a,null);a.a=b;a.b=d;uc.push(a);return a}function $c(a,b,d,c){a.a||a.b?a.l===d?a.b=c:a.a=c:(a.a=c,a.l=b,a.r=d)}function Yc(a,b,d){var c=a.a,e=a.b;this.edge=a;this.site=b;this.angle=d?Math.atan2(d.y-b.y,d.x-b.x):a.l===b?Math.atan2(e.x-
c.x,c.y-e.y):Math.atan2(c.x-e.x,e.y-c.y)}function ee(){this._=null}function ad(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Dc(a,b){var d=b.R,c=b.U;c?c.L===b?c.L=d:c.R=d:a._=d;d.U=c;b.U=d;b.R=d.L;b.R&&(b.R.U=b);d.L=b}function Ec(a,b){var d=b.L,c=b.U;c?c.L===b?c.L=d:c.R=d:a._=d;d.U=c;b.U=d;b.L=d.R;b.L&&(b.L.U=b);d.R=b}function zf(a){for(;a.L;)a=a.L;return a}function fe(a,b){var d=a.sort(ih).pop(),c,e,g;uc=[];Vb=Array(a.length);tc=new ee;for(Qc=new ee;;)if(g=te,d&&(!g||d.y<g.y||d.y===g.y&&d.x<g.x)){if(d.x!==
c||d.y!==e){Vb[d.i]=new xf(d);c=d;for(var f=c.x,l=c.y,h=g=e=void 0,q=void 0,k=tc._;k;)if(h=wf(k,l)-f,1E-6<h)k=k.L;else{var r=k,q=l,m=r.N;m?q=wf(m,q):(r=r.site,q=r.y===q?r.x:Infinity);q=f-q;if(1E-6<q){if(!k.R){e=k;break}k=k.R}else{-1E-6<h?(e=k.P,g=k):-1E-6<q?(e=k,g=k.N):e=g=k;break}}f=vf(c);tc.insert(e,f);if(e||g)if(e===g)dc(e),g=vf(e.site),tc.insert(f,g),f.edge=g.edge=Cc(e.site,f.site),fc(e),fc(g);else if(g){dc(e);dc(g);var l=e.site,k=l.x,q=l.y,r=c.x-k,m=c.y-q,h=g.site,n=h.x-k,p=h.y-q,y=2*(r*p-m*
n),s=r*r+m*m,D=n*n+p*p,k={x:(p*s-m*D)/y+k,y:(r*D-n*s)/y+q};$c(g.edge,l,h,k);f.edge=Cc(l,c,null,k);g.edge=Cc(c,h,null,k);fc(e);fc(g)}else f.edge=Cc(e.site,f.site);c=d.x;e=d.y}d=a.pop()}else if(g){h=g.arc;g=h.circle;l=g.x;k=g.cy;g={x:l,y:k};r=h.P;q=h.N;f=[h];de(h);for(h=r;h.circle&&1E-6>U(l-h.circle.x)&&1E-6>U(k-h.circle.cy);)r=h.P,f.unshift(h),de(h),h=r;f.unshift(h);dc(h);for(r=q;r.circle&&1E-6>U(l-r.circle.x)&&1E-6>U(k-r.circle.cy);)q=r.N,f.push(r),de(r),r=q;f.push(r);dc(r);l=f.length;k=void 0;for(k=
1;k<l;++k)r=f[k],h=f[k-1],$c(r.edge,h.site,r.site,g);h=f[0];r=f[l-1];r.edge=Cc(h.site,r.site,null,g);fc(h);fc(r)}else break;if(b){d=uc;c=Lc(b[0][0],b[0][1],b[1][0],b[1][1]);for(e=d.length;e--;)if(g=d[e],!gh(g,b)||!c(g)||1E-6>U(g.a.x-g.b.x)&&1E-6>U(g.a.y-g.b.y))g.a=g.b=null,d.splice(e,1);d=b[0][0];c=b[1][0];e=b[0][1];g=b[1][1];k=Vb;for(q=k.length;q--;)if((r=k[q])&&r.prepare())for(n=r.edges,p=n.length,m=0;m<p;)if(y=n[m].end(),l=y.x,h=y.y,s=n[++m%p].start(),f=s.x,s=s.y,1E-6<U(l-f)||1E-6<U(h-s))n.splice(m,
0,new Yc(hh(r.site,y,1E-6>U(l-d)&&1E-6<g-h?{x:d,y:1E-6>U(f-d)?s:g}:1E-6>U(h-g)&&1E-6<c-l?{x:1E-6>U(s-g)?f:c,y:g}:1E-6>U(l-c)&&1E-6<h-e?{x:c,y:1E-6>U(f-c)?s:e}:1E-6>U(h-e)&&1E-6<l-d?{x:1E-6>U(s-e)?f:d,y:e}:null),r.site,null)),++p}d={cells:Vb,edges:uc};tc=Qc=uc=Vb=null;return d}function ih(a,b){return b.y-a.y||b.x-a.x}function jh(a){return a.x}function kh(a){return a.y}function cf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function yc(a,b,d,c,e,g){if(!a(b,d,c,e,g)){var f=.5*(d+e),l=.5*(c+g);
b=b.nodes;b[0]&&yc(a,b[0],d,c,f,l);b[1]&&yc(a,b[1],f,c,e,l);b[2]&&yc(a,b[2],d,l,f,g);b[3]&&yc(a,b[3],f,l,e,g)}}function Yd(a,b){a=s.rgb(a);b=s.rgb(b);var d=a.r,c=a.g,e=a.b,g=b.r-d,f=b.g-c,l=b.b-e;return function(a){return"#"+oa(Math.round(d+g*a))+oa(Math.round(c+f*a))+oa(Math.round(e+l*a))}}function Af(a,b){var d={},c={},e;for(e in a)e in b?d[e]=Nb(a[e],b[e]):c[e]=a[e];for(e in b)e in a||(c[e]=b[e]);return function(a){for(e in d)c[e]=d[e](a);return c}}function Ca(a,b){a=+a;b=+b;return function(d){return a*
(1-d)+b*d}}function Bf(a,b){var d=ue.lastIndex=ve.lastIndex=0,c,e,g,f=-1,l=[],h=[];a+="";for(b+="";(c=ue.exec(a))&&(e=ve.exec(b));)(g=e.index)>d&&(g=b.slice(d,g),l[f]?l[f]+=g:l[++f]=g),(c=c[0])===(e=e[0])?l[f]?l[f]+=e:l[++f]=e:(l[++f]=null,h.push({i:f,x:Ca(c,e)})),d=ve.lastIndex;d<b.length&&(g=b.slice(d),l[f]?l[f]+=g:l[++f]=g);return 2>l.length?h[0]?(b=h[0].x,function(a){return b(a)+""}):function(){return b}:(b=h.length,function(a){for(var d=0,c;d<b;++d)l[(c=h[d]).i]=c.x(a);return l.join("")})}function Nb(a,
b){for(var d=s.interpolators.length,c;0<=--d&&!(c=s.interpolators[d](a,b)););return c}function Xc(a,b){var d=[],c=[],e=a.length,g=b.length,f=Math.min(a.length,b.length),l;for(l=0;l<f;++l)d.push(Nb(a[l],b[l]));for(;l<e;++l)c[l]=a[l];for(;l<g;++l)c[l]=b[l];return function(a){for(l=0;l<f;++l)c[l]=d[l](a);return c}}function Rg(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function Ye(a){return function(b){return 1-a(1-b)}}function Ze(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function Sg(a){return a*
a}function Tg(a){return a*a*a}function Ug(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,d=b*a;return 4*(.5>a?d:3*(a-b)+d-.75)}function Vg(a){return 1-Math.cos(a*Da)}function Xg(a){return Math.pow(2,10*(a-1))}function Yg(a){return 1-Math.sqrt(1-a*a)}function Zg(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function lf(a,b){b-=a;return function(d){return Math.round(a+b*d)}}function mf(a){var b=[a.a,a.b],d=
[a.c,a.d],c=nf(b),e=b[0]*d[0]+b[1]*d[1],g=-e;d[0]+=g*b[0];d[1]+=g*b[1];g=nf(d)||0;b[0]*d[1]<d[0]*b[1]&&(b[0]*=-1,b[1]*=-1,c*=-1,e*=-1);this.rotate=(c?Math.atan2(b[1],b[0]):Math.atan2(-d[0],d[1]))*pa;this.translate=[a.e,a.f];this.scale=[c,g];this.skew=g?Math.atan2(e,g)*pa:0}function nf(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function of(a,b){var d=[],c=[],e,g=s.transform(a),f=s.transform(b),l=g.translate,h=f.translate,q=g.rotate,k=f.rotate,r=g.skew,m=f.skew,g=g.scale,
f=f.scale;l[0]!=h[0]||l[1]!=h[1]?(d.push("translate(",null,",",null,")"),c.push({i:1,x:Ca(l[0],h[0])},{i:3,x:Ca(l[1],h[1])})):h[0]||h[1]?d.push("translate("+h+")"):d.push("");q!=k?(180<q-k?k+=360:180<k-q&&(q+=360),c.push({i:d.push(d.pop()+"rotate(",null,")")-2,x:Ca(q,k)})):k&&d.push(d.pop()+"rotate("+k+")");r!=m?c.push({i:d.push(d.pop()+"skewX(",null,")")-2,x:Ca(r,m)}):m&&d.push(d.pop()+"skewX("+m+")");g[0]!=f[0]||g[1]!=f[1]?(e=d.push(d.pop()+"scale(",null,",",null,")"),c.push({i:e-4,x:Ca(g[0],f[0])},
{i:e-2,x:Ca(g[1],f[1])})):1==f[0]&&1==f[1]||d.push(d.pop()+"scale("+f+")");e=c.length;return function(a){for(var b=-1,g;++b<e;)d[(g=c[b]).i]=g.x(a);return d.join("")}}function $g(a,b){b=(b-=a=+a)||1/b;return function(d){return(d-a)/b}}function ah(a,b){b=(b-=a=+a)||1/b;return function(d){return Math.max(0,Math.min(1,(d-a)/b))}}function bh(a){var b=a.source;a=a.target;var d;var c=a;if(b===c)d=b;else{d=pf(b);for(var c=pf(c),e=d.pop(),g=c.pop(),f=null;e===g;)f=e,e=d.pop(),g=c.pop();d=f}for(c=[b];b!==
d;)b=b.parent,c.push(b);for(b=c.length;a!==d;)c.splice(b,0,a),a=a.parent;return c}function pf(a){for(var b=[],d=a.parent;null!=d;)b.push(a),a=d,d=d.parent;b.push(a);return b}function ch(a){a.fixed|=2}function nh(a){a.fixed&=-7}function oh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function ph(a){a.fixed&=-5}function Pf(a,b,d){var c=0,e=0;a.charge=0;if(!a.leaf)for(var g=a.nodes,f=g.length,l=-1,h;++l<f;)h=g[l],null!=h&&(Pf(h,b,d),a.charge+=h.charge,c+=h.charge*h.cx,e+=h.charge*h.cy);a.point&&(a.leaf||(a.point.x+=
Math.random()-.5,a.point.y+=Math.random()-.5),b*=d[a.point.index],a.charge+=a.pointCharge=b,c+=b*a.point.x,e+=b*a.point.y);a.cx=c/a.charge;a.cy=e/a.charge}function Rc(a,b){s.rebind(a,b,"sort","children","value");a.nodes=a;a.links=qh;return a}function Sc(a,b){for(var d=[a];null!=(a=d.pop());)if(b(a),(e=a.children)&&(c=e.length))for(var c,e;0<=--c;)d.push(e[c])}function ib(a,b){for(var d=[a],c=[];null!=(a=d.pop());)if(c.push(a),(f=a.children)&&(g=f.length))for(var e=-1,g,f;++e<g;)d.push(f[e]);for(;null!=
(a=c.pop());)b(a)}function rh(a){return a.children}function sh(a){return a.value}function th(a,b){return b.value-a.value}function qh(a){return s.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function uh(a){return a.x}function vh(a){return a.y}function wh(a,b,d){a.y0=b;a.y=d}function we(a){return s.range(a.length)}function xe(a){var b=-1;a=a[0].length;for(var d=[];++b<a;)d[b]=0;return d}function xh(a){for(var b=1,d=0,c=a[0][1],e,g=a.length;b<g;++b)(e=
a[b][1])>c&&(d=b,c=e);return d}function yh(a){return a.reduce(zh,0)}function zh(a,b){return a+b[1]}function Ah(a,b){return Qf(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Qf(a,b){for(var d=-1,c=+a[0],e=(a[1]-c)/b,g=[];++d<=b;)g[d]=e*d+c;return g}function Bh(a){return[s.min(a),s.max(a)]}function Ch(a,b){return a.value-b.value}function ye(a,b){var d=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=d;d._pack_prev=b}function Rf(a,b){a._pack_next=b;b._pack_prev=a}function Sf(a,b){var d=
b.x-a.x,c=b.y-a.y,e=a.r+b.r;return.999*e*e>d*d+c*c}function Tf(a){function b(a){c=Math.min(a.x-a.r,c);e=Math.max(a.x+a.r,e);g=Math.min(a.y-a.r,g);f=Math.max(a.y+a.r,f)}if((d=a.children)&&(n=d.length)){var d,c=Infinity,e=-Infinity,g=Infinity,f=-Infinity,l,h,q,k,r,m,n;d.forEach(Dh);l=d[0];l.x=-l.r;l.y=0;b(l);if(1<n&&(h=d[1],h.x=h.r,h.y=0,b(h),2<n))for(q=d[2],Uf(l,h,q),b(q),ye(l,q),l._pack_prev=q,ye(q,h),h=l._pack_next,k=3;k<n;k++){Uf(l,h,q=d[k]);var p=0,y=1,s=1;for(r=h._pack_next;r!==h;r=r._pack_next,
y++)if(Sf(r,q)){p=1;break}if(1==p)for(m=l._pack_prev;m!==r._pack_prev&&!Sf(m,q);m=m._pack_prev,s++);p?(y<s||y==s&&h.r<l.r?Rf(l,h=r):Rf(l=m,h),k--):(ye(l,q),h=q,b(q))}l=(c+e)/2;h=(g+f)/2;for(k=r=0;k<n;k++)q=d[k],q.x-=l,q.y-=h,r=Math.max(r,q.r+Math.sqrt(q.x*q.x+q.y*q.y));a.r=r;d.forEach(Eh)}}function Dh(a){a._pack_next=a._pack_prev=a}function Eh(a){delete a._pack_next;delete a._pack_prev}function Vf(a,b,d,c){var e=a.children;a.x=b+=c*a.x;a.y=d+=c*a.y;a.r*=c;if(e){a=-1;for(var g=e.length;++a<g;)Vf(e[a],
b,d,c)}}function Uf(a,b,d){var c=a.r+d.r,e=b.x-a.x,g=b.y-a.y;if(c&&(e||g)){var f=b.r+d.r,l=e*e+g*g,f=f*f,c=c*c;b=.5+(c-f)/(2*l);f=Math.sqrt(Math.max(0,2*f*(c+l)-(c-=l)*c-f*f))/(2*l);d.x=a.x+b*e+f*g;d.y=a.y+b*g-f*e}else d.x=a.x+c,d.y=a.y}function Wf(a,b){return a.parent==b.parent?1:2}function ze(a){var b=a.children;return b.length?b[0]:a.t}function Ae(a){var b=a.children,d;return(d=b.length)?b[d-1]:a.t}function Fh(a){return 1+s.max(a,function(a){return a.y})}function Gh(a){return a.reduce(function(a,
b){return a+b.x},0)/a.length}function Xf(a){var b=a.children;return b&&b.length?Xf(b[0]):a}function Yf(a){var b=a.children,d;return b&&(d=b.length)?Yf(b[d-1]):a}function Be(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Zf(a,b){var d=a.x+b[3],c=a.y+b[0],e=a.dx-b[1]-b[3],g=a.dy-b[0]-b[2];0>e&&(d+=e/2,e=0);0>g&&(c+=g/2,g=0);return{x:d,y:c,dx:e,dy:g}}function vc(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function xd(a){return a.rangeExtent?a.rangeExtent():vc(a.range())}function Hh(a,b,d,c){var e=
d(a[0],a[1]),g=c(b[0],b[1]);return function(a){return g(e(a))}}function yd(a,b){var d=0,c=a.length-1,e=a[d],g=a[c],f;g<e&&(f=d,d=c,c=f,f=e,e=g,g=f);a[d]=b.floor(e);a[c]=b.ceil(g);return a}function $f(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Ih}function Jh(a,b,d,c){var e=[],g=[],f=0,l=Math.min(a.length,b.length)-1;a[l]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++f<=l;)e.push(d(a[f-1],a[f])),g.push(c(b[f-1],b[f]));return function(b){var d=
s.bisect(a,b,1,l)-1;return g[d](e[d](b))}}function ag(a,b,d,c){function e(){var h=2<Math.min(a.length,b.length)?Jh:Hh,q=c?ah:$g;f=h(a,b,q,d);l=h(b,a,q,Nb);return g}function g(a){return f(a)}var f,l;g.invert=function(a){return l(a)};g.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return e()};g.range=function(a){if(!arguments.length)return b;b=a;return e()};g.rangeRound=function(a){return g.range(a).interpolate(lf)};g.clamp=function(a){if(!arguments.length)return c;c=a;return e()};
g.interpolate=function(a){if(!arguments.length)return d;d=a;return e()};g.ticks=function(b){return s.range.apply(s,Hb(a,b))};g.tickFormat=function(b,d){return Ce(a,b,d)};g.nice=function(b){yd(a,$f(Hb(a,b)[2]));return e()};g.copy=function(){return ag(a,b,d,c)};return e()}function De(a,b){return s.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Hb(a,b){null==b&&(b=10);var d=vc(a),c=d[1]-d[0],e=Math.pow(10,Math.floor(Math.log(c/b)/Math.LN10)),c=b/c*e;.15>=c?e*=10:.35>=c?e*=5:.75>=c&&
(e*=2);d[0]=Math.ceil(d[0]/e)*e;d[1]=Math.floor(d[1]/e)*e+.5*e;d[2]=e;return d}function Ce(a,b,d){a=Hb(a,b);if(d){b=If.exec(d);b.shift();if("s"===b[8]){var c=s.formatPrefix(Math.max(U(a[0]),U(a[1])));b[7]||(b[7]="."+zd(c.scale(a[2])));b[8]="f";d=s.format(b.join(""));return function(a){return d(c.scale(a))+c.symbol}}b[7]||(b[7]="."+Kh(b[8],a));d=b.join("")}else d=",."+zd(a[2])+"f";return s.format(d)}function zd(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Kh(a,b){var d=zd(b[2]);return a in
Lh?Math.abs(d-zd(Math.max(U(b[0]),U(b[1]))))+ +("e"!==a):d-2*("%"===a)}function bg(a,b,d,c){function e(a){return(d?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function g(a){return d?Math.pow(b,a):-Math.pow(b,-a)}function f(b){return a(e(b))}f.invert=function(b){return g(a.invert(b))};f.domain=function(b){if(!arguments.length)return c;d=0<=b[0];a.domain((c=b.map(Number)).map(e));return f};f.base=function(d){if(!arguments.length)return b;b=+d;a.domain(c.map(e));return f};f.nice=function(){var b=
yd(c.map(e),d?Math:Mh);a.domain(b);c=b.map(g);return f};f.ticks=function(){var a=vc(c),v=[],f=a[0],a=a[1],l=Math.floor(e(f)),h=Math.ceil(e(a)),q=b%1?2:b;if(isFinite(h-l)){if(d){for(;l<h;l++)for(var k=1;k<q;k++)v.push(g(l)*k);v.push(g(l))}else for(v.push(g(l));l++<h;)for(k=q-1;0<k;k--)v.push(g(l)*k);for(l=0;v[l]<f;l++);for(h=v.length;v[h-1]>a;h--);v=v.slice(l,h)}return v};f.tickFormat=function(a,b){if(!arguments.length)return cg;2>arguments.length?b=cg:"function"!==typeof b&&(b=s.format(b));var c=
Math.max(.1,a/f.ticks().length),v=d?(l=1E-12,Math.ceil):(l=-1E-12,Math.floor),l;return function(a){return a/g(v(e(a)+l))<=c?b(a):""}};f.copy=function(){return bg(a.copy(),b,d,c)};return De(f,a)}function dg(a,b,d){function c(b){return a(e(b))}var e=Ad(b),g=Ad(1/b);c.invert=function(b){return g(a.invert(b))};c.domain=function(b){if(!arguments.length)return d;a.domain((d=b.map(Number)).map(e));return c};c.ticks=function(a){return s.range.apply(s,Hb(d,a))};c.tickFormat=function(a,b){return Ce(d,a,b)};
c.nice=function(a){return c.domain(yd(d,$f(Hb(d,a)[2])))};c.exponent=function(f){if(!arguments.length)return b;e=Ad(b=f);g=Ad(1/b);a.domain(d.map(e));return c};c.copy=function(){return dg(a.copy(),b,d)};return De(c,a)}function Ad(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function eg(a,b){function d(c){return f[((g.get(c)||("range"===b.t?g.set(c,a.push(c)):NaN))-1)%f.length]}function e(b,d){return s.range(a.length).map(function(a){return b+d*a})}var g,f,l;d.domain=function(e){if(!arguments.length)return a;
a=[];g=new c;for(var f=-1,l=e.length,h;++f<l;)g.has(h=e[f])||g.set(h,a.push(h));return d[b.t].apply(d,b.a)};d.range=function(a){if(!arguments.length)return f;f=a;l=0;b={t:"range",a:arguments};return d};d.rangePoints=function(c,g){2>arguments.length&&(g=0);var h=c[0],q=c[1],k=(q-h)/(Math.max(1,a.length-1)+g);f=e(2>a.length?(h+q)/2:h+k*g/2,k);l=0;b={t:"rangePoints",a:arguments};return d};d.rangeBands=function(c,g,h){2>arguments.length&&(g=0);3>arguments.length&&(h=g);var q=c[1]<c[0],k=c[q-0],r=(c[1-
q]-k)/(a.length-g+2*h);f=e(k+r*h,r);q&&f.reverse();l=r*(1-g);b={t:"rangeBands",a:arguments};return d};d.rangeRoundBands=function(c,g,h){2>arguments.length&&(g=0);3>arguments.length&&(h=g);var q=c[1]<c[0],k=c[q-0],r=c[1-q],m=Math.floor((r-k)/(a.length-g+2*h));f=e(k+Math.round((r-k-(a.length-g)*m)/2),m);q&&f.reverse();l=Math.round(m*(1-g));b={t:"rangeRoundBands",a:arguments};return d};d.rangeBand=function(){return l};d.rangeExtent=function(){return vc(b.a[0])};d.copy=function(){return eg(a,b)};return d.domain(a)}
function fg(a,b){function d(){var g=0,f=b.length;for(e=[];++g<f;)e[g-1]=s.quantile(a,g/f);return c}function c(a){if(!isNaN(a=+a))return b[s.bisect(e,a)]}var e;c.domain=function(b){if(!arguments.length)return a;a=b.map(u).filter(G).sort(p);return d()};c.range=function(a){if(!arguments.length)return b;b=a;return d()};c.quantiles=function(){return e};c.invertExtent=function(d){d=b.indexOf(d);return 0>d?[NaN,NaN]:[0<d?e[d-1]:a[0],d<e.length?e[d]:a[a.length-1]]};c.copy=function(){return fg(a,b)};return d()}
function gg(a,b,d){function c(b){return d[Math.max(0,Math.min(f,Math.floor(g*(b-a))))]}function e(){g=d.length/(b-a);f=d.length-1;return c}var g,f;c.domain=function(d){if(!arguments.length)return[a,b];a=+d[0];b=+d[d.length-1];return e()};c.range=function(a){if(!arguments.length)return d;d=a;return e()};c.invertExtent=function(b){b=d.indexOf(b);b=0>b?NaN:b/g+a;return[b,b+1/g]};c.copy=function(){return gg(a,b,d)};return e()}function hg(a,b){function d(c){if(c<=c)return b[s.bisect(a,c)]}d.domain=function(b){if(!arguments.length)return a;
a=b;return d};d.range=function(a){if(!arguments.length)return b;b=a;return d};d.invertExtent=function(d){d=b.indexOf(d);return[a[d-1],a[d]]};d.copy=function(){return hg(a,b)};return d}function ig(a){function b(a){return+a}b.invert=b;b.domain=b.range=function(d){if(!arguments.length)return a;a=d.map(b);return b};b.ticks=function(b){return s.range.apply(s,Hb(a,b))};b.tickFormat=function(b,d){return Ce(a,b,d)};b.copy=function(){return ig(a)};return b}function Nh(a){return a.innerRadius}function Oh(a){return a.outerRadius}
function jg(a){return a.startAngle}function kg(a){return a.endAngle}function lg(a){function b(f){function h(){q.push("M",g(a(F),l))}for(var q=[],F=[],k=-1,r=f.length,m,n=ca(d),p=ca(c);++k<r;)e.call(this,m=f[k],k)?F.push([+n.call(this,m,k),+p.call(this,m,k)]):F.length&&(h(),F=[]);F.length&&h();return q.length?q.join(""):null}var d=ec,c=Bc,e=ob,g=Va,f=g.key,l=.7;b.x=function(a){if(!arguments.length)return d;d=a;return b};b.y=function(a){if(!arguments.length)return c;c=a;return b};b.defined=function(a){if(!arguments.length)return e;
e=a;return b};b.interpolate=function(a){if(!arguments.length)return f;f="function"===typeof a?g=a:(g=Ee.get(a)||Va).key;return b};b.tension=function(a){if(!arguments.length)return l;l=a;return b};return b}function Va(a){return a.join("L")}function Fe(a){for(var b=0,d=a.length,c=a[0],e=[c[0],",",c[1]];++b<d;)e.push("V",(c=a[b])[1],"H",c[0]);return e.join("")}function Ge(a){for(var b=0,d=a.length,c=a[0],e=[c[0],",",c[1]];++b<d;)e.push("H",(c=a[b])[0],"V",c[1]);return e.join("")}function Bd(a,b){if(1>
b.length||a.length!=b.length&&a.length!=b.length+2)return Va(a);var d=a.length!=b.length,c="",e=a[0],g=a[1],f=b[0],l=f,h=1;d&&(c+="Q"+(g[0]-2*f[0]/3)+","+(g[1]-2*f[1]/3)+","+g[0]+","+g[1],e=a[1],h=2);if(1<b.length)for(l=b[1],g=a[h],h++,c+="C"+(e[0]+f[0])+","+(e[1]+f[1])+","+(g[0]-l[0])+","+(g[1]-l[1])+","+g[0]+","+g[1],e=2;e<b.length;e++,h++)g=a[h],l=b[e],c+="S"+(g[0]-l[0])+","+(g[1]-l[1])+","+g[0]+","+g[1];d&&(d=a[h],c+="Q"+(g[0]+2*l[0]/3)+","+(g[1]+2*l[1]/3)+","+d[0]+","+d[1]);return c}function He(a,
b){for(var d=[],c=(1-b)/2,e,g=a[0],f=a[1],l=1,h=a.length;++l<h;)e=g,g=f,f=a[l],d.push([c*(f[0]-e[0]),c*(f[1]-e[1])]);return d}function mg(a){if(3>a.length)return Va(a);var b=1,d=a.length,c=a[0],e=c[0],g=c[1],f=[e,e,e,(c=a[1])[0]],l=[g,g,g,c[1]],e=[e,",",g,"L",Za(Ib,f),",",Za(Ib,l)];for(a.push(a[d-1]);++b<=d;)c=a[b],f.shift(),f.push(c[0]),l.shift(),l.push(c[1]),Ie(e,f,l);a.pop();e.push("L",c);return e.join("")}function Za(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Ie(a,b,d){a.push("C",
Za(ng,b),",",Za(ng,d),",",Za(og,b),",",Za(og,d),",",Za(Ib,b),",",Za(Ib,d))}function Je(a,b){return(b[1]-a[1])/(b[0]-a[0])}function pg(a){for(var b,d=-1,c=a.length,e,g;++d<c;)b=a[d],e=b[0],g=b[1]+Wb,b[0]=e*Math.cos(g),b[1]=e*Math.sin(g);return a}function qg(a){function b(h){function F(){m.push("M",l(a(p),r),k,q(a(n.reverse()),r),"Z")}for(var m=[],n=[],p=[],y=-1,ma=h.length,s,D=ca(d),w=ca(e),C=d===c?function(){return t}:ca(c),z=e===g?function(){return u}:ca(g),t,u;++y<ma;)f.call(this,s=h[y],y)?(n.push([t=
+D.call(this,s,y),u=+w.call(this,s,y)]),p.push([+C.call(this,s,y),+z.call(this,s,y)])):n.length&&(F(),n=[],p=[]);n.length&&F();return m.length?m.join(""):null}var d=ec,c=ec,e=0,g=Bc,f=ob,l=Va,h=l.key,q=l,k="L",r=.7;b.x=function(a){if(!arguments.length)return c;d=c=a;return b};b.x0=function(a){if(!arguments.length)return d;d=a;return b};b.x1=function(a){if(!arguments.length)return c;c=a;return b};b.y=function(a){if(!arguments.length)return g;e=g=a;return b};b.y0=function(a){if(!arguments.length)return e;
e=a;return b};b.y1=function(a){if(!arguments.length)return g;g=a;return b};b.defined=function(a){if(!arguments.length)return f;f=a;return b};b.interpolate=function(a){if(!arguments.length)return h;h="function"===typeof a?l=a:(l=Ee.get(a)||Va).key;q=l.reverse||l;k=l.closed?"M":"L";return b};b.tension=function(a){if(!arguments.length)return r;r=a;return b};return b}function Ph(a){return a.radius}function rg(a){return[a.x,a.y]}function Qh(a){return function(){var b=a.apply(this,arguments),d=b[0],b=b[1]+
Wb;return[d*Math.cos(b),d*Math.sin(b)]}}function Rh(){return 64}function Sh(){return"circle"}function sg(a){a=Math.sqrt(a/T);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function Tc(a,b){od(a,va);a.id=b;return a}function Ke(a,b,d,c){var e=a.id;return aa(a,"function"===typeof d?function(a,g,f){a.__transition__[e].tween.set(b,c(d.call(a,a.__data__,g,f)))}:(d=c(d),function(a){a.__transition__[e].tween.set(b,d)}))}function Th(a){null==a&&(a="");return function(){this.textContent=
a}}function Cd(a,b,d,e){var g=a.__transition__||(a.__transition__={active:0,count:0}),f=g[d];if(!f){var l=e.time,f=g[d]={tween:new c,time:l,ease:e.ease,delay:e.delay,duration:e.duration};++g.count;s.timer(function(c){function e(c){if(g.active>d)return q();g.active=d;f.event&&f.event.start.call(a,k,b);f.tween.forEach(function(d,c){(c=c.call(a,k,b))&&p.push(c)});s.timer(function(){n.c=h(c||1)?ob:h;return 1},0,l)}function h(c){if(g.active!==d)return q();c/=za;for(var e=r(c),l=p.length;0<l;)p[--l].call(a,
e);if(1<=c)return f.event&&f.event.end.call(a,k,b),q()}function q(){--g.count?delete g[d]:delete a.__transition__;return 1}var k=a.__data__,r=f.ease,m=f.delay,za=f.duration,n=rb,p=[];n.t=m+l;if(m<=c)return e(c-m);n.c=e},0,l)}}function Uh(a,b,d){a.attr("transform",function(a){var c=b(a);return"translate("+(isFinite(c)?c:d(a))+",0)"})}function Vh(a,b,d){a.attr("transform",function(a){var c=b(a);return"translate(0,"+(isFinite(c)?c:d(a))+")"})}function Le(a){return a.toISOString()}function Me(a,b,d){function c(b){return a(b)}
function e(a,d){var c=(a[1]-a[0])/d,g=s.bisect(Dd,c);return g==Dd.length?[b.year,Hb(a.map(function(a){return a/31536E6}),d)[2]]:g?b[c/Dd[g-1]<Dd[g]/c?g-1:g]:[Wh,Hb(a,d)[2]]}c.invert=function(b){return Xb(a.invert(b))};c.domain=function(b){if(!arguments.length)return a.domain().map(Xb);a.domain(b);return c};c.nice=function(a,b){function d(c){return!isNaN(c)&&!a.range(c,Xb(+c+1),b).length}var g=c.domain(),f=vc(g);if(f=null==a?e(f,10):"number"===typeof a&&e(f,a))a=f[0],b=f[1];return c.domain(yd(g,1<
b?{floor:function(b){for(;d(b=a.floor(b));)b=Xb(b-1);return b},ceil:function(b){for(;d(b=a.ceil(b));)b=Xb(+b+1);return b}}:a))};c.ticks=function(a,b){var d=vc(c.domain()),g=null==a?e(d,10):"number"===typeof a?e(d,a):!a.range&&[{range:a},b];g&&(a=g[0],b=g[1]);return a.range(d[0],Xb(+d[1]+1),1>b?1:b)};c.tickFormat=function(){return d};c.copy=function(){return Me(a.copy(),b,d)};return De(c,a)}function Xb(a){return new Date(a)}function Xh(a){return JSON.parse(a.responseText)}function Yh(a){var b=eb.createRange();
b.selectNode(eb.body);return b.createContextualFragment(a.responseText)}var s={version:"3.4.13"};Date.now||(Date.now=function(){return+new Date});var tg=[].slice,Db=function(a){return tg.call(a)},eb=document,qb=eb.documentElement,Ka=window;try{Db(qb.childNodes)[0].nodeType}catch(xi){Db=function(a){for(var b=a.length,d=Array(b);b--;)d[b]=a[b];return d}}try{eb.createElement("div").style.setProperty("opacity",0,"")}catch(yi){var Ed=Ka.Element.prototype,Zh=Ed.setAttribute,$h=Ed.setAttributeNS,ug=Ka.CSSStyleDeclaration.prototype,
ai=ug.setProperty;Ed.setAttribute=function(a,b){Zh.call(this,a,b+"")};Ed.setAttributeNS=function(a,b,d){$h.call(this,a,b,d+"")};ug.setProperty=function(a,b,d){ai.call(this,a,b+"",d)}}s.ascending=p;s.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};s.min=function(a,b){var d=-1,c=a.length,e,g;if(1===arguments.length){for(;++d<c&&!(null!=(e=a[d])&&e<=e);)e=void 0;for(;++d<c;)null!=(g=a[d])&&e>g&&(e=g)}else{for(;++d<c&&!(null!=(e=b.call(a,a[d],d))&&e<=e);)e=void 0;for(;++d<c;)null!=(g=b.call(a,
a[d],d))&&e>g&&(e=g)}return e};s.max=function(a,b){var d=-1,c=a.length,e,g;if(1===arguments.length){for(;++d<c&&!(null!=(e=a[d])&&e<=e);)e=void 0;for(;++d<c;)null!=(g=a[d])&&g>e&&(e=g)}else{for(;++d<c&&!(null!=(e=b.call(a,a[d],d))&&e<=e);)e=void 0;for(;++d<c;)null!=(g=b.call(a,a[d],d))&&g>e&&(e=g)}return e};s.extent=function(a,b){var d=-1,c=a.length,e,g,f;if(1===arguments.length){for(;++d<c&&!(null!=(e=f=a[d])&&e<=e);)e=f=void 0;for(;++d<c;)null!=(g=a[d])&&(e>g&&(e=g),f<g&&(f=g))}else{for(;++d<c&&
!(null!=(e=f=b.call(a,a[d],d))&&e<=e);)e=void 0;for(;++d<c;)null!=(g=b.call(a,a[d],d))&&(e>g&&(e=g),f<g&&(f=g))}return[e,f]};s.sum=function(a,b){var d=0,c=a.length,e,g=-1;if(1===arguments.length)for(;++g<c;)G(e=+a[g])&&(d+=e);else for(;++g<c;)G(e=+b.call(a,a[g],g))&&(d+=e);return d};s.mean=function(a,b){var d=0,c=a.length,e,g=-1,f=c;if(1===arguments.length)for(;++g<c;)G(e=u(a[g]))?d+=e:--f;else for(;++g<c;)G(e=u(b.call(a,a[g],g)))?d+=e:--f;return f?d/f:void 0};s.quantile=function(a,b){var d=(a.length-
1)*b+1,c=Math.floor(d),e=+a[c-1];return(d-=c)?e+d*(a[c]-e):e};s.median=function(a,b){var d=[],c=a.length,e,g=-1;if(1===arguments.length)for(;++g<c;)G(e=u(a[g]))&&d.push(e);else for(;++g<c;)G(e=u(b.call(a,a[g],g)))&&d.push(e);return d.length?s.quantile(d.sort(p),.5):void 0};var vg=H(p);s.bisectLeft=vg.left;s.bisect=s.bisectRight=vg.right;s.bisector=function(a){return H(1===a.length?function(b,d){return p(a(b),d)}:a)};s.shuffle=function(a){for(var b=a.length,d,c;b;)c=Math.random()*b--|0,d=a[b],a[b]=
a[c],a[c]=d;return a};s.permute=function(a,b){for(var d=b.length,c=Array(d);d--;)c[d]=a[b[d]];return c};s.pairs=function(a){for(var b=0,d=a.length-1,c=a[0],e=Array(0>d?0:d);b<d;)e[b]=[c,c=a[++b]];return e};s.zip=function(){if(!(g=arguments.length))return[];for(var a=-1,b=s.min(arguments,e),d=Array(b);++a<b;)for(var c=-1,g,f=d[a]=Array(g);++c<g;)f[c]=arguments[c][a];return d};s.transpose=function(a){return s.zip.apply(s,a)};s.keys=function(a){var b=[],d;for(d in a)b.push(d);return b};s.values=function(a){var b=
[],d;for(d in a)b.push(a[d]);return b};s.entries=function(a){var b=[],d;for(d in a)b.push({key:d,value:a[d]});return b};s.merge=function(a){var b=a.length,d;d=-1;for(var c=0,e,g;++d<b;)c+=a[d].length;for(e=Array(c);0<=--b;)for(g=a[b],d=g.length;0<=--d;)e[--c]=g[d];return e};var U=Math.abs;s.range=function(a,b,d){3>arguments.length&&(d=1,2>arguments.length&&(b=a,a=0));if(Infinity===(b-a)/d)throw Error("infinite range");var c=[],e;e=U(d);for(var g=1;e*g%1;)g*=10;e=g;var g=-1,f;a*=e;b*=e;d*=e;if(0>d)for(;(f=
a+d*++g)>b;)c.push(f/e);else for(;(f=a+d*++g)<b;)c.push(f/e);return c};s.map=function(a){var b=new c;if(a instanceof c)a.forEach(function(a,d){b.set(a,d)});else for(var d in a)b.set(d,a[d]);return b};f(c,{has:t,get:function(a){return this._[n(a)]},set:function(a,b){return this._[n(a)]=b},remove:x,keys:m,values:function(){var a=[],b;for(b in this._)a.push(this._[b]);return a},entries:function(){var a=[],b;for(b in this._)a.push({key:h(b),value:this._[b]});return a},size:A,empty:O,forEach:function(a){for(var b in this._)a.call(this,
h(b),this._[b])}});s.nest=function(){function a(b,g,h){if(h>=e.length)return l?l.call(d,g):f?g.sort(f):g;for(var q=-1,k=g.length,r=e[h++],F,m,n=new c,p;++q<k;)(p=n.get(F=r(m=g[q])))?p.push(m):n.set(F,[m]);b?(m=b(),g=function(d,c){m.set(d,a(b,c,h))}):(m={},g=function(d,c){m[d]=a(b,c,h)});n.forEach(g);return m}function b(a,d){if(d>=e.length)return a;var c=[],f=g[d++];a.forEach(function(a,e){c.push({key:a,values:b(e,d)})});return f?c.sort(function(a,b){return f(a.key,b.key)}):c}var d={},e=[],g=[],f,
l;d.map=function(b,d){return a(d,b,0)};d.entries=function(d){return b(a(s.map,d,0),0)};d.key=function(a){e.push(a);return d};d.sortKeys=function(a){g[e.length-1]=a;return d};d.sortValues=function(a){f=a;return d};d.rollup=function(a){l=a;return d};return d};s.set=function(a){var b=new N;if(a)for(var d=0,c=a.length;d<c;++d)b.add(a[d]);return b};f(N,{has:t,add:function(a){this._[n(a+="")]=!0;return a},remove:x,values:m,size:A,empty:O,forEach:function(a){for(var b in this._)a.call(this,h(b))}});s.behavior=
{};s.rebind=function(a,b){for(var d=1,c=arguments.length,e;++d<c;)a[e=arguments[d]]=J(a,b,b[e]);return a};var Cf="webkit ms moz Moz o O".split(" ");s.dispatch=function(){for(var a=new P,b=-1,d=arguments.length;++b<d;)a[arguments[b]]=I(a);return a};P.prototype.on=function(a,b){var d=a.indexOf("."),c="";0<=d&&(c=a.slice(d+1),a=a.slice(0,d));if(a)return 2>arguments.length?this[a].on(c):this[a].on(c,b);if(2===arguments.length){if(null==b)for(a in this)if(this.hasOwnProperty(a))this[a].on(c,null);return this}};
s.event=null;s.requote=function(a){return a.replace(bi,"\\$&")};var bi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,od={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var d in b)a[d]=b[d]},ne=function(a,b){return b.querySelector(a)},oe=function(a,b){return b.querySelectorAll(a)},ci=qb.matches||qb[L(qb,"matchesSelector")],Df=function(a,b){return ci.call(a,b)};"function"===typeof Sizzle&&(ne=function(a,b){return Sizzle(a,b)[0]||null},oe=Sizzle,Df=Sizzle.matchesSelector);s.selection=function(){return wg};
var ea=s.selection.prototype=[];ea.select=function(d){var c=[],e,g,f,l;d=a(d);for(var h=-1,q=this.length;++h<q;){c.push(e=[]);e.parentNode=(f=this[h]).parentNode;for(var k=-1,r=f.length;++k<r;)(l=f[k])?(e.push(g=d.call(l,l.__data__,k,h)),g&&"__data__"in l&&(g.__data__=l.__data__)):e.push(null)}return b(c)};ea.selectAll=function(a){var c=[],e,g;a=d(a);for(var f=-1,l=this.length;++f<l;)for(var h=this[f],q=-1,k=h.length;++q<k;)if(g=h[q])c.push(e=Db(a.call(g,g.__data__,q,f))),e.parentNode=g;return b(c)};
var Ne={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};s.ns={prefix:Ne,qualify:function(a){var b=a.indexOf(":"),d=a;0<=b&&(d=a.slice(0,b),a=a.slice(b+1));return Ne.hasOwnProperty(d)?{space:Ne[d],local:a}:a}};ea.attr=function(a,b){if(2>arguments.length){if("string"===typeof a){var d=this.node();a=s.ns.qualify(a);return a.local?d.getAttributeNS(a.space,a.local):
d.getAttribute(a)}for(b in a)this.each(g(b,a[b]));return this}return this.each(g(a,b))};ea.classed=function(a,b){if(2>arguments.length){if("string"===typeof a){var d=this.node(),c=(a=(a+"").trim().split(/^|\s+/)).length,e=-1;if(b=d.classList)for(;++e<c;){if(!b.contains(a[e]))return!1}else for(b=d.getAttribute("class");++e<c;)if(!q(a[e]).test(b))return!1;return!0}for(b in a)this.each(r(b,a[b]));return this}return this.each(r(a,b))};ea.style=function(a,b,d){var c=arguments.length;if(3>c){if("string"!==
typeof a){2>c&&(b="");for(d in a)this.each(D(d,a[d],b));return this}if(2>c)return Ka.getComputedStyle(this.node(),null).getPropertyValue(a);d=""}return this.each(D(a,b,d))};ea.property=function(a,b){if(2>arguments.length){if("string"===typeof a)return this.node()[a];for(b in a)this.each(C(b,a[b]));return this}return this.each(C(a,b))};ea.text=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=
""}:function(){this.textContent=a}):this.node().textContent};ea.html=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};ea.append=function(a){a=w(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};ea.insert=function(b,d){b=w(b);d=a(d);return this.select(function(){return this.insertBefore(b.apply(this,
arguments),d.apply(this,arguments)||null)})};ea.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})};ea.data=function(a,d){function e(a,b){var g,f=a.length,l=b.length,v=Math.min(f,l),h=Array(l),m=Array(l),M=Array(f),n,p;if(d){var v=new c,za=Array(f),y;for(g=-1;++g<f;)v.has(y=d.call(n=a[g],n.__data__,g))?M[g]=n:v.set(y,n),za[g]=y;for(g=-1;++g<l;)(n=v.get(y=d.call(b,p=b[g],g)))?!0!==n&&(h[g]=n,n.__data__=p):m[g]={__data__:p},v.set(y,!0);for(g=-1;++g<f;)!0!==
v.get(za[g])&&(M[g]=a[g])}else{for(g=-1;++g<v;)n=a[g],p=b[g],n?(n.__data__=p,h[g]=n):m[g]={__data__:p};for(;g<l;++g)m[g]={__data__:b[g]};for(;g<f;++g)M[g]=a[g]}m.update=h;m.parentNode=h.parentNode=M.parentNode=a.parentNode;q.push(m);k.push(h);r.push(M)}var g=-1,f=this.length,l,h;if(!arguments.length){for(a=Array(f=(l=this[0]).length);++g<f;)if(h=l[g])a[g]=h.__data__;return a}var q=ua([]),k=b([]),r=b([]);if("function"===typeof a)for(;++g<f;)e(l=this[g],a.call(l,l.parentNode.__data__,g));else for(;++g<
f;)e(l=this[g],a);k.enter=function(){return q};k.exit=function(){return r};return k};ea.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};ea.filter=function(a){var d=[],c,e,g;"function"!==typeof a&&(a=z(a));for(var f=0,l=this.length;f<l;f++){d.push(c=[]);c.parentNode=(e=this[f]).parentNode;for(var h=0,q=e.length;h<q;h++)(g=e[h])&&a.call(g,g.__data__,h,f)&&c.push(g)}return b(d)};ea.order=function(){for(var a=-1,b=this.length;++a<b;)for(var d=this[a],c=
d.length-1,e=d[c],g;0<=--c;)if(g=d[c])e&&e!==g.nextSibling&&e.parentNode.insertBefore(g,e),e=g;return this};ea.sort=function(a){a=ba.apply(this,arguments);for(var b=-1,d=this.length;++b<d;)this[b].sort(a);return this.order()};ea.each=function(a){return aa(this,function(b,d,c){a.call(b,b.__data__,d,c)})};ea.call=function(a){var b=Db(arguments);a.apply(b[0]=this,b);return this};ea.empty=function(){return!this.node()};ea.node=function(){for(var a=0,b=this.length;a<b;a++)for(var d=this[a],c=0,e=d.length;c<
e;c++){var g=d[c];if(g)return g}return null};ea.size=function(){var a=0;aa(this,function(){++a});return a};var pb=[];s.selection.enter=ua;s.selection.enter.prototype=pb;pb.append=ea.append;pb.empty=ea.empty;pb.node=ea.node;pb.call=ea.call;pb.size=ea.size;pb.select=function(a){for(var d=[],c,e,g,f,l,h=-1,q=this.length;++h<q;){g=(f=this[h]).update;d.push(c=[]);c.parentNode=f.parentNode;for(var k=-1,r=f.length;++k<r;)(l=f[k])?(c.push(g[k]=e=a.call(f.parentNode,l.__data__,k,h)),e.__data__=l.__data__):
c.push(null)}return b(d)};pb.insert=function(a,b){2>arguments.length&&(b=ya(this));return ea.insert.call(this,a,b)};ea.transition=function(){for(var a=Yb||++xg,b=[],d,c,e=Fd||{time:Date.now(),ease:Ug,delay:0,duration:250},g=-1,f=this.length;++g<f;){b.push(d=[]);for(var l=this[g],h=-1,q=l.length;++h<q;)(c=l[h])&&Cd(c,h,a,e),d.push(c)}return Tc(b,a)};ea.interrupt=function(){return this.each(V)};s.select=function(a){a=["string"===typeof a?ne(a,eb):a];a.parentNode=qb;return b([a])};s.selectAll=function(a){a=
Db("string"===typeof a?oe(a,eb):a);a.parentNode=qb;return b([a])};var wg=s.select(qb);ea.on=function(a,b,d){var c=arguments.length;if(3>c){if("string"!==typeof a){2>c&&(b=!1);for(d in a)this.each(Qa(d,a[d],b));return this}if(2>c)return(c=this.node()["__on"+a])&&c._;d=!1}return this.each(Qa(a,b,d))};var pe=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});pe.forEach(function(a){"on"+a in eb&&pe.remove(a)});var Oc="onselectstart"in eb?null:L(qb.style,"userSelect"),lh=0;s.mouse=function(a){return xb(a,
qa())};var qe=/WebKit/.test(Ka.navigator.userAgent)?-1:0;s.touch=function(a,b,d){3>arguments.length&&(d=b,b=qa().changedTouches);if(b)for(var c=0,e=b.length,g;c<e;++c)if((g=b[c]).identifier===d)return xb(a,g)};s.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",g)}function b(a,e,g,f,l){return function(){var b=s.event.target,v=this.parentNode,h=d.of(this,arguments),q=0,k=a(),r=".drag"+(null==k?"":"-"+k),m,F=s.select(g()).on(f+r,function(){var a=e(v,k),b,d;a&&(b=
a[0]-p[0],d=a[1]-p[1],q=q|b|d,p=a,h({type:"drag",x:a[0]+m[0],y:a[1]+m[1],dx:b,dy:d}))}).on(l+r,function(){e(v,k)&&(F.on(f+r,null).on(l+r,null),n(q&&s.event.target===b),h({type:"dragend"}))}),n=ab(),p=e(v,k);c?(m=c.apply(this,arguments),m=[m.x-p[0],m.y-p[1]]):m=[0,0];h({type:"dragstart"})}}var d=Z(a,"drag","dragstart","dragend"),c=null,e=b(E,s.mouse,X,"mousemove","mouseup"),g=b(Mb,s.touch,Y,"touchmove","touchend");a.origin=function(b){if(!arguments.length)return c;c=b;return a};return s.rebind(a,d,
"on")};s.touches=function(a,b){2>arguments.length&&(b=qa().touches);return b?Db(b).map(function(b){var d=xb(a,b);d.identifier=b.identifier;return d}):[]};var T=Math.PI,Ua=2*T,Da=T/2,S=T/180,pa=180/T,Gd=Math.SQRT2;s.interpolateZoom=function(a,b){function d(a){var b=a*p;if(n){a=kb(m);var f,v=Gd*b+m;f=((v=Math.exp(2*v))-1)/(v+1);f*=a;var q=m,v=((q=Math.exp(q))-1/q)/2;f=g/(2*k)*(f-v);return[c+f*l,e+f*h,g*a/kb(Gd*b+m)]}return[c+a*l,e+a*h,g*Math.exp(Gd*b)]}var c=a[0],e=a[1],g=a[2],f=b[2],l=b[0]-c,h=b[1]-
e,q=l*l+h*h,k=Math.sqrt(q),r=(f*f-g*g+4*q)/(4*g*k),q=(f*f-g*g-4*q)/(4*f*k),m=Math.log(Math.sqrt(r*r+1)-r),n=Math.log(Math.sqrt(q*q+1)-q)-m,p=(n||Math.log(f/g))/Gd;d.duration=1E3*p;return d};s.behavior.zoom=function(){function a(b){b.on("mousedown.zoom",h).on(di+".zoom",k).on("dblclick.zoom",r).on("touchstart.zoom",q)}function b(a){return[(a[0]-m.x)/m.k,(a[1]-m.y)/m.k]}function d(a){m.k=Math.max(w[0],Math.min(w[1],a))}function c(a,b){b=[b[0]*m.k+m.x,b[1]*m.k+m.y];m.x+=a[0]-b[0];m.y+=a[1]-b[1]}function e(){bb&&
bb.domain(u.range().map(function(a){return(a-m.x)/m.k}).map(u.invert));ba&&ba.domain(x.range().map(function(a){return(a-m.y)/m.k}).map(x.invert))}function g(a){a({type:"zoomstart"})}function f(a){e();a({type:"zoom",scale:m.k,translate:[m.x,m.y]})}function l(a){a({type:"zoomend"})}function h(){var a=this,d=s.event.target,e=t.of(a,arguments),v=0,q=s.select(Ka).on("mousemove.zoom",function(){v=1;c(s.mouse(a),k);f(e)}).on("mouseup.zoom",function(){q.on("mousemove.zoom",null).on("mouseup.zoom",null);r(v&&
s.event.target===d);l(e)}),k=b(s.mouse(a)),r=ab();V.call(a);g(e)}function q(){function a(){var d=s.touches(r);ia=m.k;d.forEach(function(a){a.identifier in p&&(p[a.identifier]=b(a))});return d}function e(){var b=s.event.target;s.select(b).on(w,v).on(C,k);Sa.push(b);for(var b=s.event.changedTouches,g=0,l=b.length;g<l;++g)p[b[g].identifier]=null;l=a();g=Date.now();1===l.length?(500>g-z&&(b=l[0],l=p[b.identifier],d(2*m.k),c(b,l),R(),f(n)),z=g):1<l.length&&(b=l[0],l=l[1],g=b[0]-l[0],b=b[1]-l[1],y=g*g+
b*b)}function v(){for(var a=s.touches(r),b,e,g,l,h=0,q=a.length;h<q;++h,l=null)if(g=a[h],l=p[g.identifier]){if(e)break;b=g;e=l}if(l){var k=(k=g[0]-b[0])*k+(k=g[1]-b[1])*k,a=y&&Math.sqrt(k/y);b=[(b[0]+g[0])/2,(b[1]+g[1])/2];e=[(e[0]+l[0])/2,(e[1]+l[1])/2];d(a*ia)}z=null;c(b,e);f(n)}function k(){if(s.event.touches.length){for(var b=s.event.changedTouches,d=0,c=b.length;d<c;++d)delete p[b[d].identifier];for(var e in p)return void a()}s.selectAll(Sa).on(D,null);qc.on("mousedown.zoom",h).on("touchstart.zoom",
q);u();l(n)}var r=this,n=t.of(r,arguments),p={},y=0,ia,D=".zoom-"+s.event.changedTouches[0].identifier,w="touchmove"+D,C="touchend"+D,Sa=[],qc=s.select(r),u=ab();V.call(r);e();g(n);qc.on("mousedown.zoom",null).on("touchstart.zoom",e)}function k(){var a=t.of(this,arguments);C?clearTimeout(C):(n=b(p=y||s.mouse(this)),V.call(this),g(a));C=setTimeout(function(){C=null;l(a)},50);R();d(Math.pow(2,.002*Hd())*m.k);c(p,n);f(a)}function r(){var a=t.of(this,arguments),e=s.mouse(this),v=b(e),h=Math.log(m.k)/
Math.LN2;g(a);d(Math.pow(2,s.event.shiftKey?Math.ceil(h)-1:Math.floor(h)+1));c(e,v);f(a);l(a)}var m={x:0,y:0,k:1},n,p,y,D=[960,500],w=yg,C,z,t=Z(a,"zoomstart","zoom","zoomend"),u,bb,x,ba;a.event=function(a){a.each(function(){var a=t.of(this,arguments),b=m;Yb?s.select(this).transition().each("start.zoom",function(){m=this.__chart__||{x:0,y:0,k:1};g(a)}).tween("zoom:zoom",function(){var d=D[0],c=d/2,e=D[1]/2,g=s.interpolateZoom([(c-m.x)/m.k,(e-m.y)/m.k,d/m.k],[(c-b.x)/b.k,(e-b.y)/b.k,d/b.k]);return function(b){b=
g(b);var l=d/b[2];this.__chart__=m={x:c-b[0]*l,y:e-b[1]*l,k:l};f(a)}}).each("end.zoom",function(){l(a)}):(this.__chart__=m,g(a),f(a),l(a))})};a.translate=function(b){if(!arguments.length)return[m.x,m.y];m={x:+b[0],y:+b[1],k:m.k};e();return a};a.scale=function(b){if(!arguments.length)return m.k;m={x:m.x,y:m.y,k:+b};e();return a};a.scaleExtent=function(b){if(!arguments.length)return w;w=null==b?yg:[+b[0],+b[1]];return a};a.center=function(b){if(!arguments.length)return y;y=b&&[+b[0],+b[1]];return a};
a.size=function(b){if(!arguments.length)return D;D=b&&[+b[0],+b[1]];return a};a.x=function(b){if(!arguments.length)return bb;bb=b;u=b.copy();m={x:0,y:0,k:1};return a};a.y=function(b){if(!arguments.length)return ba;ba=b;x=b.copy();m={x:0,y:0,k:1};return a};return s.rebind(a,t,"on")};var yg=[0,Infinity],Hd,di="onwheel"in eb?(Hd=function(){return-s.event.deltaY*(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in eb?(Hd=function(){return s.event.wheelDelta},"mousewheel"):(Hd=function(){return-s.event.detail},
"MozMousePixelScroll");s.color=ja;ja.prototype.toString=function(){return this.rgb()+""};s.hsl=la;var Oe=la.prototype=new ja;Oe.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);return new la(this.h,this.s,this.l/a)};Oe.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return new la(this.h,this.s,a*this.l)};Oe.rgb=function(){return zb(this.h,this.s,this.l)};s.hcl=wa;var Pe=wa.prototype=new ja;Pe.brighter=function(a){return new wa(this.h,this.c,Math.min(100,this.l+Id*(arguments.length?
a:1)))};Pe.darker=function(a){return new wa(this.h,this.c,Math.max(0,this.l-Id*(arguments.length?a:1)))};Pe.rgb=function(){return Ra(this.h,this.c,this.l).rgb()};s.lab=Aa;var Id=18,Ef=.95047,Ff=1,Gf=1.08883,Qe=Aa.prototype=new ja;Qe.brighter=function(a){return new Aa(Math.min(100,this.l+Id*(arguments.length?a:1)),this.a,this.b)};Qe.darker=function(a){return new Aa(Math.max(0,this.l-Id*(arguments.length?a:1)),this.a,this.b)};Qe.rgb=function(){return bd(this.l,this.a,this.b)};s.rgb=ka;var Jd=ka.prototype=
new ja;Jd.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,d=this.g,c=this.b;if(!b&&!d&&!c)return new ka(30,30,30);b&&30>b&&(b=30);d&&30>d&&(d=30);c&&30>c&&(c=30);return new ka(Math.min(255,b/a),Math.min(255,d/a),Math.min(255,c/a))};Jd.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return new ka(a*this.r,a*this.g,a*this.b)};Jd.hsl=function(){return $b(this.r,this.g,this.b)};Jd.toString=function(){return"#"+oa(this.r)+oa(this.g)+oa(this.b)};var qd=s.map({aliceblue:15792383,
antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,
darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,
indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,
magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,
violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});qd.forEach(function(a,b){qd.set(a,new ka(b>>16,b>>8&255,b&255))});s.functor=ca;s.xhr=Fc(ta);s.dsv=function(a,b){function d(a,g,f){3>arguments.length&&(f=g,g=null);var l=Ob(a,b,null==g?c:e(g),f);l.row=function(a){return arguments.length?l.response(null==(g=a)?c:e(a)):g};return l}function c(a){return d.parse(a.responseText)}function e(a){return function(b){return d.parse(b.responseText,a)}}function g(b){return b.map(f).join(a)}
function f(a){return l.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var l=new RegExp('["'+a+"\n]"),h=a.charCodeAt(0);d.parse=function(a,b){var c;return d.parseRows(a,function(a,d){if(c)return c(a,d-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");c=b?function(a,d){return b(e(a),d)}:e})};d.parseRows=function(a,b){function d(){if(l>=f)return e;if(k)return k=!1,c;var b=l;if(34===a.charCodeAt(b)){for(var g=b;g++<f;)if(34===a.charCodeAt(g)){if(34!==
a.charCodeAt(g+1))break;++g}l=g+2;var v=a.charCodeAt(g+1);13===v?(k=!0,10===a.charCodeAt(g+2)&&++l):10===v&&(k=!0);return a.slice(b+1,g).replace(/""/g,'"')}for(;l<f;){v=a.charCodeAt(l++);g=1;if(10===v)k=!0;else if(13===v)k=!0,10===a.charCodeAt(l)&&(++l,++g);else if(v!==h)continue;return a.slice(b,l-g)}return a.slice(b)}for(var c={},e={},g=[],f=a.length,l=0,v=0,q,k;(q=d())!==e;){for(var r=[];q!==c&&q!==e;)r.push(q),q=d();b&&null==(r=b(r,v++))||g.push(r)}return g};d.format=function(b){if(Array.isArray(b[0]))return d.formatRows(b);
var c=new N,e=[];b.forEach(function(a){for(var b in a)c.has(b)||e.push(c.add(b))});return[e.map(f).join(a)].concat(b.map(function(b){return e.map(function(a){return f(b[a])}).join(a)})).join("\n")};d.formatRows=function(a){return a.map(g).join("\n")};return d};s.csv=s.dsv(",","text/csv");s.tsv=s.dsv("\t","text/tab-separated-values");var td,ud,sd,rd,rb,Hf=Ka[L(Ka,"requestAnimationFrame")]||function(a){setTimeout(a,17)};s.timer=function(a,b,d){var c=arguments.length;2>c&&(b=0);3>c&&(d=Date.now());c=
{c:a,t:d+b,f:!1,n:null};ud?ud.n=c:td=c;ud=c;sd||(rd=clearTimeout(rd),sd=1,Hf(hc))};s.timer.flush=function(){Gc();dd()};s.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var ei="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var d=Math.pow(10,3*U(8-b));return{scale:8<b?function(a){return a/d}:function(a){return a*d},symbol:a}});s.formatPrefix=function(a,b){var d=0;a&&(0>a&&(a*=-1),b&&(a=s.round(a,Hc(a,b))),d=1+Math.floor(1E-12+Math.log(a)/Math.LN10),
d=Math.max(-24,Math.min(24,3*Math.floor((d-1)/3))));return ei[8+d/3]};var If=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,mh=s.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=
s.round(a,Hc(a,b))).toFixed(Math.max(0,Math.min(20,Hc(a*(1+1E-15),b))))}}),K=s.time={},Fa=Date;$a.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},
getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ub.setUTCDate.apply(this._,arguments)},setDay:function(){ub.setUTCDay.apply(this._,arguments)},setFullYear:function(){ub.setUTCFullYear.apply(this._,arguments)},setHours:function(){ub.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ub.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ub.setUTCMinutes.apply(this._,arguments)},
setMonth:function(){ub.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ub.setUTCSeconds.apply(this._,arguments)},setTime:function(){ub.setTime.apply(this._,arguments)}};var ub=Date.prototype;K.year=lb(function(a){a=K.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});K.years=K.year.range;K.years.utc=K.year.utc.range;K.day=lb(function(a){var b=new Fa(2E3,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},
function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});K.days=K.day.range;K.days.utc=K.day.utc.range;K.dayOfYear=function(a){var b=K.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,b){b=7-b;var d=K[a]=lb(function(a){(a=K.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var d=K.year(a).getDay();
return Math.floor((K.dayOfYear(a)+(d+b)%7)/7)-(d!==b)});K[a+"s"]=d.range;K[a+"s"].utc=d.utc.range;K[a+"OfYear"]=function(a){var d=K.year(a).getDay();return Math.floor((K.dayOfYear(a)+(d+b)%7)/7)}});K.week=K.sunday;K.weeks=K.sunday.range;K.weeks.utc=K.sunday.utc.range;K.weekOfYear=K.sundayOfYear;var Jf={"-":"",_:" ",0:"0"},sa=/^\s*\d+/,Kf=/^%/;s.locale=function(a){return{numberFormat:ge(a),timeFormat:ac(a)}};var zg=s.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",
date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});s.format=zg.numberFormat;s.geo={};Ic.prototype={s:0,t:0,add:function(a){jc(a,this.t,Kd);jc(Kd.s,this.s,this);this.s?this.t+=Kd.t:this.s=Kd.t},
reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Kd=new Ic;s.geo.stream=function(a,b){if(a&&Ag.hasOwnProperty(a.type))Ag[a.type](a,b);else kc(a,b)};var Ag={Feature:function(a,b){kc(a.geometry,b)},FeatureCollection:function(a,b){for(var d=a.features,c=-1,e=d.length;++c<e;)kc(d[c].geometry,b)}},Lf={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var d=a.coordinates,c=-1,e=d.length;++c<e;)a=d[c],b.point(a[0],
a[1],a[2])},LineString:function(a,b){Qb(a.coordinates,b,0)},MultiLineString:function(a,b){for(var d=a.coordinates,c=-1,e=d.length;++c<e;)Qb(d[c],b,0)},Polygon:function(a,b){lc(a.coordinates,b)},MultiPolygon:function(a,b){for(var d=a.coordinates,c=-1,e=d.length;++c<e;)lc(d[c],b)},GeometryCollection:function(a,b){for(var d=a.geometries,c=-1,e=d.length;++c<e;)kc(d[c],b)}};s.geo.area=function(a){wc=0;s.geo.stream(a,Ta);return wc};var wc,Ub=new Ic,Ta={sphere:function(){wc+=4*T},point:E,lineStart:E,lineEnd:E,
polygonStart:function(){Ub.reset();Ta.lineStart=mb},polygonEnd:function(){var a=2*Ub;wc+=0>a?4*T+a:a;Ta.lineStart=Ta.lineEnd=Ta.point=E}};s.geo.bounds=function(){function a(b,d){z.push(t=[k=b,m=b]);d<r&&(r=d);d>n&&(n=d)}function b(d,c){var e=Ha([d*S,c*S]);if(w){var g=nb(w,e),g=nb([g[1],-g[0],0],g);oc(g);var g=Rb(g),f=d-p,h=0<f?1:-1,q=g[0]*pa*h,f=180<U(f);f^(h*p<q&&q<h*d)?(g=g[1]*pa,g>n&&(n=g)):(q=(q+360)%360-180,f^(h*p<q&&q<h*d))?(g=-g[1]*pa,g<r&&(r=g)):(c<r&&(r=c),c>n&&(n=c));f?d<p?l(k,d)>l(k,m)&&
(m=d):l(d,m)>l(k,m)&&(k=d):m>=k?(d<k&&(k=d),d>m&&(m=d)):d>p?l(k,d)>l(k,m)&&(m=d):l(d,m)>l(k,m)&&(k=d)}else a(d,c);w=e;p=d}function d(){u.point=b}function c(){t[0]=k;t[1]=m;u.point=a;w=null}function e(a,d){if(w){var c=a-p;C+=180<U(c)?c+(0<c?360:-360):c}else y=a,D=d;Ta.point(a,d);b(a,d)}function g(){Ta.lineStart()}function f(){e(y,D);Ta.lineEnd();1E-6<U(C)&&(k=-(m=180));t[0]=k;t[1]=m;w=null}function l(a,b){return 0>(b-=a)?b+360:b}function h(a,b){return a[0]-b[0]}function q(a,b){return b[0]<=b[1]?b[0]<=
a&&a<=b[1]:a<b[0]||b[1]<a}var k,r,m,n,p,y,D,w,C,z,t,u={point:a,lineStart:d,lineEnd:c,polygonStart:function(){u.point=e;u.lineStart=g;u.lineEnd=f;C=0;Ta.polygonStart()},polygonEnd:function(){Ta.polygonEnd();u.point=a;u.lineStart=d;u.lineEnd=c;0>Ub?(k=-(m=180),r=-(n=90)):1E-6<C?n=90:-1E-6>C&&(r=-90);t[0]=k;t[1]=m}};return function(a){n=m=-(k=r=Infinity);z=[];s.geo.stream(a,u);if(a=z.length){z.sort(h);for(var b=1,d=z[0],c,e=[d];b<a;++b)c=z[b],q(c[0],d)||q(c[1],d)?(l(d[0],c[1])>l(d[0],d[1])&&(d[1]=c[1]),
l(c[0],d[1])>l(d[0],d[1])&&(d[0]=c[0])):e.push(d=c);var g=-Infinity,f;a=e.length-1;b=0;for(d=e[a];b<=a;d=c,++b)c=e[b],(f=l(d[1],c[0]))>g&&(g=f,k=c[0],m=d[1])}z=t=null;return Infinity===k||Infinity===r?[[NaN,NaN],[NaN,NaN]]:[[k,r],[m,n]]}}();s.geo.centroid=function(a){Pc=sc=sb=tb=gb=Xa=Ya=Na=Eb=Fb=hb=0;s.geo.stream(a,cb);a=Eb;var b=Fb,d=hb,c=a*a+b*b+d*d;return 1E-12>c&&(a=Xa,b=Ya,d=Na,1E-6>sc&&(a=sb,b=tb,d=gb),c=a*a+b*b+d*d,1E-12>c)?[NaN,NaN]:[Math.atan2(b,a)*pa,W(d/Math.sqrt(c))*pa]};var Pc,sc,sb,
tb,gb,Xa,Ya,Na,Eb,Fb,hb,cb={sphere:E,point:Lb,lineStart:le,lineEnd:jd,polygonStart:function(){cb.lineStart=Vd},polygonEnd:function(){cb.lineStart=le}},Mf=Tb(ob,function(a){var b=NaN,d=NaN,c=NaN,e;return{lineStart:function(){a.lineStart();e=1},point:function(g,f){var l=0<g?T:-T,h=U(g-b);if(1E-6>U(h-T))a.point(b,d=0<(d+f)/2?Da:-Da),a.point(c,d),a.lineEnd(),a.lineStart(),a.point(l,d),a.point(g,d),e=0;else if(c!==l&&h>=T){1E-6>U(b-c)&&(b-=1E-6*c);1E-6>U(g-l)&&(g-=1E-6*l);var h=b,q=d,k=g,r,m,n=Math.sin(h-
k);d=1E-6<U(n)?Math.atan((Math.sin(q)*(m=Math.cos(f))*Math.sin(k)-Math.sin(f)*(r=Math.cos(q))*Math.sin(h))/(r*m*n)):(q+f)/2;a.point(c,d);a.lineEnd();a.lineStart();a.point(l,d);e=0}a.point(b=g,d=f);c=l},lineEnd:function(){a.lineEnd();b=d=NaN},clean:function(){return 2-e}}},function(a,b,d,c){null==a?(d*=Da,c.point(-T,d),c.point(0,d),c.point(T,d),c.point(T,0),c.point(T,-d),c.point(0,-d),c.point(-T,-d),c.point(-T,0),c.point(-T,d)):1E-6<U(a[0]-b[0])?(a=a[0]<b[0]?T:-T,d=d*a/2,c.point(-a,d),c.point(0,d),
c.point(a,d)):c.point(b[0],b[1])},[-T,-T/2]);s.geo.clipExtent=function(){var a,b,d,c,e,g,f={stream:function(a){e&&(e.valid=!1);e=g(a);e.valid=!0;return e},extent:function(l){if(!arguments.length)return[[a,b],[d,c]];g=Mc(a=+l[0][0],b=+l[0][1],d=+l[1][0],c=+l[1][1]);e&&(e.valid=!1,e=null);return f}};return f.extent([[0,0],[960,500]])};(s.geo.conicEqualArea=function(){return Nc(B)}).raw=B;s.geo.albers=function(){return s.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};
s.geo.albersUsa=function(){function a(b){var d=b[0];b=b[1];e=null;(f(d,b),e)||(l(d,b),e)||h(d,b);return e}var b=s.geo.albers(),d=s.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=s.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),e,g={point:function(a,b){e=[a,b]}},f,l,h;a.invert=function(a){var e=b.scale(),g=b.translate(),f=(a[0]-g[0])/e,e=(a[1]-g[1])/e;return(.12<=e&&.234>e&&-.425<=f&&-.214>f?d:.166<=e&&.234>e&&-.214<=f&&-.115>f?c:b).invert(a)};
a.stream=function(a){var e=b.stream(a),g=d.stream(a),f=c.stream(a);return{point:function(a,b){e.point(a,b);g.point(a,b);f.point(a,b)},sphere:function(){e.sphere();g.sphere();f.sphere()},lineStart:function(){e.lineStart();g.lineStart();f.lineStart()},lineEnd:function(){e.lineEnd();g.lineEnd();f.lineEnd()},polygonStart:function(){e.polygonStart();g.polygonStart();f.polygonStart()},polygonEnd:function(){e.polygonEnd();g.polygonEnd();f.polygonEnd()}}};a.precision=function(e){if(!arguments.length)return b.precision();
b.precision(e);d.precision(e);c.precision(e);return a};a.scale=function(e){if(!arguments.length)return b.scale();b.scale(e);d.scale(.35*e);c.scale(e);return a.translate(b.translate())};a.translate=function(e){if(!arguments.length)return b.translate();var q=b.scale(),k=+e[0],r=+e[1];f=b.translate(e).clipExtent([[k-.455*q,r-.238*q],[k+.455*q,r+.238*q]]).stream(g).point;l=d.translate([k-.307*q,r+.201*q]).clipExtent([[k-.425*q+1E-6,r+.12*q+1E-6],[k-.214*q-1E-6,r+.234*q-1E-6]]).stream(g).point;h=c.translate([k-
.205*q,r+.212*q]).clipExtent([[k-.214*q+1E-6,r+.166*q+1E-6],[k-.115*q-1E-6,r+.234*q-1E-6]]).stream(g).point;return a};return a.scale(1070)};var Ld,wd,Gb={point:E,lineStart:E,lineEnd:E,polygonStart:function(){wd=0;Gb.lineStart=na},polygonEnd:function(){Gb.lineStart=Gb.lineEnd=Gb.point=E;Ld+=U(wd/2)}},Md,Nd,Od,Pd,fi={point:function(a,b){a<Md&&(Md=a);a>Od&&(Od=a);b<Nd&&(Nd=b);b>Pd&&(Pd=b)},lineStart:E,lineEnd:E,polygonStart:E,polygonEnd:E},db={point:La,lineStart:Vc,lineEnd:Ue,polygonStart:function(){db.lineStart=
Og},polygonEnd:function(){db.point=La;db.lineStart=Vc;db.lineEnd=Ue}};s.geo.path=function(){function a(b){b&&("function"===typeof d&&f.pointRadius(+d.apply(this,arguments)),l&&l.valid||(l=g(f)),s.geo.stream(b,l));return f.result()}function b(){l=null;return a}var d=4.5,c,e,g,f,l;a.area=function(a){Ld=0;s.geo.stream(a,g(Gb));return Ld};a.centroid=function(a){sb=tb=gb=Xa=Ya=Na=Eb=Fb=hb=0;s.geo.stream(a,g(db));return hb?[Eb/hb,Fb/hb]:Na?[Xa/Na,Ya/Na]:gb?[sb/gb,tb/gb]:[NaN,NaN]};a.bounds=function(a){Od=
Pd=-(Md=Nd=Infinity);s.geo.stream(a,g(fi));return[[Md,Nd],[Od,Pd]]};a.projection=function(a){if(!arguments.length)return c;g=(c=a)?a.stream||Qg(a):ta;return b()};a.context=function(a){if(!arguments.length)return e;f=null==(e=a)?new ra:new Pg(a);"function"!==typeof d&&f.pointRadius(d);return b()};a.pointRadius=function(b){if(!arguments.length)return d;d="function"===typeof b?b:(f.pointRadius(+b),+b);return a};return a.projection(s.geo.albersUsa()).context(null)};s.geo.transform=function(a){return{stream:function(b){b=
new We(b);for(var d in a)b[d]=a[d];return b}}};We.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};s.geo.projection=fb;s.geo.projectionMutator=$d;(s.geo.equirectangular=function(){return fb(zc)}).raw=zc.invert=zc;s.geo.rotation=function(a){function b(d){d=a(d[0]*S,d[1]*
S);return d[0]*=pa,d[1]*=pa,d}a=be(a[0]%360*S,a[1]*S,2<a.length?a[2]*S:0);b.invert=function(b){b=a.invert(b[0]*S,b[1]*S);return b[0]*=pa,b[1]*=pa,b};return b};rf.invert=zc;s.geo.circle=function(){function a(){var d="function"===typeof b?b.apply(this,arguments):b,c=be(-d[0]*S,-d[1]*S,0).invert,g=[];e(null,null,1,{point:function(a,b){g.push(a=c(a,b));a[0]*=pa;a[1]*=pa}});return{type:"Polygon",coordinates:[g]}}var b=[0,0],d,c=6,e;a.origin=function(d){if(!arguments.length)return b;b=d;return a};a.angle=
function(b){if(!arguments.length)return d;e=ce((d=+b)*S,c*S);return a};a.precision=function(b){if(!arguments.length)return c;e=ce(d*S,(c=+b)*S);return a};return a.angle(90)};s.geo.distance=function(a,b){var d=(b[0]-a[0])*S,c=a[1]*S,e=b[1]*S,g=Math.sin(d),d=Math.cos(d),f=Math.sin(c),c=Math.cos(c),l=Math.sin(e),e=Math.cos(e),h;return Math.atan2(Math.sqrt((h=e*g)*h+(h=c*l-f*e*d)*h),f*l+c*e*d)};s.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return s.range(Math.ceil(g/
m)*m,e,m).map(D).concat(s.range(Math.ceil(q/n)*n,h,n).map(w)).concat(s.range(Math.ceil(c/k)*k,d,k).filter(function(a){return 1E-6<U(a%m)}).map(p)).concat(s.range(Math.ceil(l/r)*r,f,r).filter(function(a){return 1E-6<U(a%n)}).map(y))}var d,c,e,g,f,l,h,q,k=10,r=k,m=90,n=360,p,y,D,w,C=2.5;a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[D(g).concat(w(h).slice(1),D(e).reverse().slice(1),w(q).reverse().slice(1))]}};
a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()};a.majorExtent=function(b){if(!arguments.length)return[[g,q],[e,h]];g=+b[0][0];e=+b[1][0];q=+b[0][1];h=+b[1][1];g>e&&(b=g,g=e,e=b);q>h&&(b=q,q=h,h=b);return a.precision(C)};a.minorExtent=function(b){if(!arguments.length)return[[c,l],[d,f]];c=+b[0][0];d=+b[1][0];l=+b[0][1];f=+b[1][1];c>d&&(b=c,c=d,d=b);l>f&&(b=l,l=f,f=b);return a.precision(C)};a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):
a.minorStep()};a.majorStep=function(b){if(!arguments.length)return[m,n];m=+b[0];n=+b[1];return a};a.minorStep=function(b){if(!arguments.length)return[k,r];k=+b[0];r=+b[1];return a};a.precision=function(b){if(!arguments.length)return C;C=+b;p=ff(l,f,90);y=uf(c,d,C);D=ff(q,h,90);w=uf(g,e,C);return a};return a.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,-80.000001],[180,80.000001]])};s.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[d||b.apply(this,
arguments),e||c.apply(this,arguments)]}}var b=Zd,d,c=ae,e;a.distance=function(){return s.geo.distance(d||b.apply(this,arguments),e||c.apply(this,arguments))};a.source=function(c){if(!arguments.length)return b;b=c;d="function"===typeof c?null:c;return a};a.target=function(b){if(!arguments.length)return c;c=b;e="function"===typeof b?null:b;return a};a.precision=function(){return arguments.length?a:0};return a};s.geo.interpolate=function(a,b){return eh(a[0]*S,a[1]*S,b[0]*S,b[1]*S)};s.geo.length=function(a){Qd=
0;s.geo.stream(a,xc);return Qd};var Qd,xc={sphere:E,point:E,lineStart:function(){function a(e,g){var f=Math.sin(g*=S),l=Math.cos(g),h=U((e*=S)-b),q=Math.cos(h);Qd+=Math.atan2(Math.sqrt((h=l*Math.sin(h))*h+(h=c*f-d*l*q)*h),d*f+c*l*q);b=e;d=f;c=l}var b,d,c;xc.point=function(e,g){b=e*S;d=Math.sin(g*=S);c=Math.cos(g);xc.point=a};xc.lineEnd=function(){xc.point=xc.lineEnd=E}},lineEnd:E,polygonStart:E,polygonEnd:E},Bg=Ac(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(s.geo.azimuthalEqualArea=
function(){return fb(Bg)}).raw=Bg;var Cg=Ac(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},ta);(s.geo.azimuthalEquidistant=function(){return fb(Cg)}).raw=Cg;(s.geo.conicConformal=function(){return Nc(af)}).raw=af;(s.geo.conicEquidistant=function(){return Nc($e)}).raw=$e;var Dg=Ac(function(a){return 1/a},Math.atan);(s.geo.gnomonic=function(){return fb(Dg)}).raw=Dg;Zc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Da]};(s.geo.mercator=function(){return bf(Zc)}).raw=Zc;var Eg=Ac(function(){return 1},
Math.asin);(s.geo.orthographic=function(){return fb(Eg)}).raw=Eg;var Fg=Ac(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(s.geo.stereographic=function(){return fb(Fg)}).raw=Fg;Xd.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Da]};(s.geo.transverseMercator=function(){var a=bf(Xd),b=a.center,d=a.rotate;a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])};a.rotate=function(a){return a?d([a[0],a[1],2<a.length?a[2]+90:90]):(a=d(),[a[0],a[1],a[2]-90])};return d([0,
0,90])}).raw=Xd;s.geom={};s.geom.hull=function(a){function b(a){if(3>a.length)return[];var e=ca(d),g=ca(c),f,l=a.length,h=[],q=[];for(f=0;f<l;f++)h.push([+e.call(this,a[f],f),+g.call(this,a[f],f),f]);h.sort(Wg);for(f=0;f<l;f++)q.push([h[f][0],-h[f][1]]);var e=df(h),q=df(q),g=q[0]===e[0],l=q[q.length-1]===e[e.length-1],k=[];for(f=e.length-1;0<=f;--f)k.push(a[h[e[f]][2]]);for(f=+g;f<q.length-l;++f)k.push(a[h[q[f]][2]]);return k}var d=ec,c=Bc;if(arguments.length)return b(a);b.x=function(a){return arguments.length?
(d=a,b):d};b.y=function(a){return arguments.length?(c=a,b):c};return b};s.geom.polygon=function(a){od(a,Rd);return a};var Rd=s.geom.polygon.prototype=[];Rd.area=function(){for(var a=-1,b=this.length,d,c=this[b-1],e=0;++a<b;)d=c,c=this[a],e+=d[1]*c[0]-d[0]*c[1];return.5*e};Rd.centroid=function(a){var b=-1,d=this.length,c=0,e=0,g,f=this[d-1],l;for(arguments.length||(a=-1/(6*this.area()));++b<d;)g=f,f=this[b],l=g[0]*f[1]-f[0]*g[1],c+=(g[0]+f[0])*l,e+=(g[1]+f[1])*l;return[c*a,e*a]};Rd.clip=function(a){for(var b,
d=hf(a),c=-1,e=this.length-hf(this),g,f,l=this[e-1],h,q,k;++c<e;){b=a.slice();a.length=0;h=this[c];q=b[(f=b.length-d)-1];for(g=-1;++g<f;)k=b[g],Wd(k,l,h)?(Wd(q,l,h)||a.push(jf(q,k,l,h)),a.push(k)):Wd(q,l,h)&&a.push(jf(q,k,l,h)),q=k;d&&a.push(a[0]);l=h}return a};var uc,Vb,tc,Nf=[],te,Qc,Of=[];xf.prototype.prepare=function(){for(var a=this.edges,b=a.length,d;b--;)d=a[b].edge,d.b&&d.a||a.splice(b,1);a.sort(yf);return a.length};Yc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:
this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};ee.prototype={insert:function(a,b){var d,c,e;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;d=a}else this._?(a=zf(this._),b.P=null,b.N=a,a.P=a.L=b,d=a):(b.P=b.N=null,this._=b,d=null);b.L=b.R=null;b.U=d;b.C=!0;for(a=b;d&&d.C;)c=d.U,d===c.L?(e=c.R)&&e.C?(d.C=e.C=!1,c.C=!0,a=c):(a===d.R&&(Dc(this,d),a=d,d=a.U),d.C=!1,c.C=!0,Ec(this,c)):(e=c.L)&&e.C?(d.C=e.C=!1,c.C=!0,a=c):(a===d.L&&
(Ec(this,d),a=d,d=a.U),d.C=!1,c.C=!0,Dc(this,c)),d=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b=a.U,d=a.L,c=a.R,e,g;e=d?c?zf(c):d:c;b?b.L===a?b.L=e:b.R=e:this._=e;d&&c?(g=e.C,e.C=a.C,e.L=d,d.U=e,e!==c?(b=e.U,e.U=a.U,a=e.R,b.L=a,e.R=c,c.U=e):(e.U=b,b=e,a=e.R)):(g=a.C,a=e);a&&(a.U=b);if(!g)if(a&&a.C)a.C=!1;else{do{if(a===this._)break;if(a===b.L){if(a=b.R,a.C&&(a.C=!1,b.C=!0,Dc(this,b),a=b.R),a.L&&a.L.C||a.R&&a.R.C){a.R&&a.R.C||(a.L.C=!1,a.C=!0,Ec(this,a),
a=b.R);a.C=b.C;b.C=a.R.C=!1;Dc(this,b);a=this._;break}}else if(a=b.L,a.C&&(a.C=!1,b.C=!0,Ec(this,b),a=b.L),a.L&&a.L.C||a.R&&a.R.C){a.L&&a.L.C||(a.R.C=!1,a.C=!0,Dc(this,a),a=b.L);a.C=b.C;b.C=a.L.C=!1;Ec(this,b);a=this._;break}a.C=!0;a=b;b=b.U}while(!a.C);a&&(a.C=!1)}}};s.geom.voronoi=function(a){function b(a){var c=Array(a.length),e=l[0][0],g=l[0][1],f=l[1][0],h=l[1][1];fe(d(a),l).cells.forEach(function(b,d){var l=b.edges,q=b.site;(c[d]=l.length?l.map(function(a){a=a.start();return[a.x,a.y]}):q.x>=
e&&q.x<=f&&q.y>=g&&q.y<=h?[[e,h],[f,h],[f,g],[e,g]]:[]).point=a[d]});return c}function d(a){return a.map(function(a,b){return{x:1E-6*Math.round(g(a,b)/1E-6),y:1E-6*Math.round(f(a,b)/1E-6),i:b}})}var c=ec,e=Bc,g=c,f=e,l=Sd;if(a)return b(a);b.links=function(a){return fe(d(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})};b.triangles=function(a){var b=[];fe(d(a)).cells.forEach(function(d,c){for(var e=d.site,g=d.edges.sort(yf),f=-1,l=g.length,h,
q=g[l-1].edge,q=q.l===e?q.r:q.l;++f<l;)h=q,q=g[f].edge,q=q.l===e?q.r:q.l,c<h.i&&c<q.i&&0>(e.x-q.x)*(h.y-e.y)-(e.x-h.x)*(q.y-e.y)&&b.push([a[c],a[h.i],a[q.i]])});return b};b.x=function(a){return arguments.length?(g=ca(c=a),b):c};b.y=function(a){return arguments.length?(f=ca(e=a),b):e};b.clipExtent=function(a){if(!arguments.length)return l===Sd?null:l;l=null==a?Sd:a;return b};b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):l===Sd?null:l&&l[1]};return b};var Sd=[[-1E6,-1E6],[1E6,
1E6]];s.geom.delaunay=function(a){return s.geom.voronoi().triangles(a)};s.geom.quadtree=function(a,b,d,c,e){function g(a){function q(a,b,d,c,e,g,f,l){if(!isNaN(d)&&!isNaN(c))if(a.leaf){var h=a.x,r=a.y;if(null!=h){if(!(.01>U(h-d)+U(r-c))){var v=a.point;a.x=a.y=a.point=null;k(a,v,h,r,e,g,f,l)}k(a,b,d,c,e,g,f,l)}else a.x=d,a.y=c,a.point=b}else k(a,b,d,c,e,g,f,l)}function k(a,b,d,c,e,g,f,l){var h=.5*(e+f),r=.5*(g+l),v=d>=h,m=c>=r,n=(m<<1)+v;a.leaf=!1;a=a.nodes[n]||(a.nodes[n]=cf());v?e=h:f=h;m?g=r:l=
r;q(a,b,d,c,e,g,f,l)}var r,v=ca(f),m=ca(l),n,p,y,s,D,w,C,ha;if(null!=b)D=b,w=d,C=c,ha=e;else if(C=ha=-(D=w=Infinity),n=[],p=[],s=a.length,h)for(y=0;y<s;++y)r=a[y],r.x<D&&(D=r.x),r.y<w&&(w=r.y),r.x>C&&(C=r.x),r.y>ha&&(ha=r.y),n.push(r.x),p.push(r.y);else for(y=0;y<s;++y){var z=+v(r=a[y],y);r=+m(r,y);z<D&&(D=z);r<w&&(w=r);z>C&&(C=z);r>ha&&(ha=r);n.push(z);p.push(r)}z=C-D;r=ha-w;z>r?ha=w+z:C=D+r;var t=cf();t.add=function(a){q(t,a,+v(a,++y),+m(a,y),D,w,C,ha)};t.visit=function(a){yc(a,t,D,w,C,ha)};y=-1;
if(null==b){for(;++y<s;)q(t,a[y],n[y],p[y],D,w,C,ha);--y}else a.forEach(t.add);n=p=a=r=null;return t}var f=ec,l=Bc,h;if(h=arguments.length)return f=jh,l=kh,3===h&&(e=d,c=b,d=b=0),g(a);g.x=function(a){return arguments.length?(f=a,g):f};g.y=function(a){return arguments.length?(l=a,g):l};g.extent=function(a){if(!arguments.length)return null==b?null:[[b,d],[c,e]];null==a?b=d=c=e=null:(b=+a[0][0],d=+a[0][1],c=+a[1][0],e=+a[1][1]);return g};g.size=function(a){if(!arguments.length)return null==b?null:[c-
b,e-d];null==a?b=d=c=e=null:(b=d=0,c=+a[0],e=+a[1]);return g};return g};s.interpolateRgb=Yd;s.interpolateObject=Af;s.interpolateNumber=Ca;s.interpolateString=Bf;var ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ve=new RegExp(ue.source,"g");s.interpolate=Nb;s.interpolators=[function(a,b){var d=typeof b;return("string"===d?qd.has(b)||/^(#|rgb\(|hsl\()/.test(b)?Yd:Bf:b instanceof ja?Yd:Array.isArray(b)?Xc:"object"===d&&isNaN(b)?Af:Ca)(a,b)}];s.interpolateArray=Xc;var Gg=function(){return ta},gi=s.map({linear:Gg,
poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return Sg},cubic:function(){return Tg},sin:function(){return Vg},exp:function(){return Xg},circle:function(){return Yg},elastic:function(a,b){var d;2>arguments.length&&(b=.45);arguments.length?d=b/Ua*Math.asin(1/a):(a=1,d=b/4);return function(c){return 1+a*Math.pow(2,-10*c)*Math.sin((c-d)*Ua/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return Zg}}),hi=s.map({"in":ta,out:Ye,
"in-out":Ze,"out-in":function(a){return Ze(Ye(a))}});s.ease=function(a){var b=a.indexOf("-"),d=0<=b?a.slice(0,b):a,b=0<=b?a.slice(b+1):"in",d=gi.get(d)||Gg,b=hi.get(b)||ta;return Rg(b(d.apply(null,tg.call(arguments,1))))};s.interpolateHcl=function(a,b){a=s.hcl(a);b=s.hcl(b);var d=a.h,c=a.c,e=a.l,g=b.h-d,f=b.c-c,l=b.l-e;isNaN(f)&&(f=0,c=isNaN(c)?b.c:c);isNaN(g)?(g=0,d=isNaN(d)?b.h:d):180<g?g-=360:-180>g&&(g+=360);return function(a){return Ra(d+g*a,c+f*a,e+l*a)+""}};s.interpolateHsl=function(a,b){a=
s.hsl(a);b=s.hsl(b);var d=a.h,c=a.s,e=a.l,g=b.h-d,f=b.s-c,l=b.l-e;isNaN(f)&&(f=0,c=isNaN(c)?b.s:c);isNaN(g)?(g=0,d=isNaN(d)?b.h:d):180<g?g-=360:-180>g&&(g+=360);return function(a){return zb(d+g*a,c+f*a,e+l*a)+""}};s.interpolateLab=function(a,b){a=s.lab(a);b=s.lab(b);var d=a.l,c=a.a,e=a.b,g=b.l-d,f=b.a-c,l=b.b-e;return function(a){return bd(d+g*a,c+f*a,e+l*a)+""}};s.interpolateRound=lf;s.transform=function(a){var b=eb.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(a){if(null!=a){b.setAttribute("transform",
a);var d=b.transform.baseVal.consolidate()}return new mf(d?d.matrix:ii)})(a)};mf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ii={a:1,b:0,c:0,d:1,e:0,f:0};s.interpolateTransform=of;s.layout={};s.layout.bundle=function(){return function(a){for(var b=[],d=-1,c=a.length;++d<c;)b.push(bh(a[d]));return b}};s.layout.chord=function(){function a(){var d={},r=[],m=s.range(f),v=[],n,p,y,D,w;c=[];e=[];n=0;for(D=-1;++D<
f;){p=0;for(w=-1;++w<f;)p+=g[D][w];r.push(p);v.push(s.range(f));n+=p}h&&m.sort(function(a,b){return h(r[a],r[b])});q&&v.forEach(function(a,b){a.sort(function(a,d){return q(g[b][a],g[b][d])})});n=(Ua-l*f)/n;p=0;for(D=-1;++D<f;){y=p;for(w=-1;++w<f;){var C=m[D],M=v[C][w],z=g[C][M],t=p,u=p+=z*n;d[C+"-"+M]={index:C,subindex:M,startAngle:t,endAngle:u,value:z}}e[C]={index:C,startAngle:y,endAngle:p,value:(p-y)/n};p+=l}for(D=-1;++D<f;)for(w=D-1;++w<f;)m=d[D+"-"+w],v=d[w+"-"+D],(m.value||v.value)&&c.push(m.value<
v.value?{source:v,target:m}:{source:m,target:v});k&&b()}function b(){c.sort(function(a,b){return k((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var d={},c,e,g,f,l=0,h,q,k;d.matrix=function(a){if(!arguments.length)return g;f=(g=a)&&g.length;c=e=null;return d};d.padding=function(a){if(!arguments.length)return l;l=a;c=e=null;return d};d.sortGroups=function(a){if(!arguments.length)return h;h=a;c=e=null;return d};d.sortSubgroups=function(a){if(!arguments.length)return q;q=a;c=
null;return d};d.sortChords=function(a){if(!arguments.length)return k;k=a;c&&b();return d};d.chords=function(){c||a();return c};d.groups=function(){e||a();return e};return d};s.layout.force=function(){function a(b){return function(a,d,c,e){if(a.point!==b){c=a.cx-b.x;var g=a.cy-b.y;d=e-d;e=c*c+g*g;if(d*d/n<e)return e<r&&(d=a.charge/e,b.px-=c*d,b.py-=g*d),!0;a.point&&e&&e<r&&(d=a.pointCharge/e,b.px-=c*d,b.py-=g*d)}return!a.charge}}function b(a){a.px=s.event.x;a.py=s.event.y;d.resume()}var d={},c=s.dispatch("start",
"tick","end"),e=[1,1],g,f,l=.9,h=ji,q=ki,k=-30,r=li,m=.1,n=.64,p=[],y=[],D,w,C;d.tick=function(){if(.005>(f*=.99))return c.end({type:"end",alpha:f=0}),!0;var b=p.length,d=y.length,g,h,q,r,n,F,ha;for(g=0;g<d;++g)if(h=y[g],q=h.source,r=h.target,F=r.x-q.x,ha=r.y-q.y,n=F*F+ha*ha)n=f*w[g]*((n=Math.sqrt(n))-D[g])/n,F*=n,ha*=n,r.x-=F*(n=q.weight/(r.weight+q.weight)),r.y-=ha*n,q.x+=F*(n=1-n),q.y+=ha*n;if(n=f*m)if(F=e[0]/2,ha=e[1]/2,g=-1,n)for(;++g<b;)h=p[g],h.x+=(F-h.x)*n,h.y+=(ha-h.y)*n;if(k)for(Pf(d=s.geom.quadtree(p),
f,C),g=-1;++g<b;)(h=p[g]).fixed||d.visit(a(h));for(g=-1;++g<b;)h=p[g],h.fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*l,h.y-=(h.py-(h.py=h.y))*l);c.tick({type:"tick",alpha:f})};d.nodes=function(a){if(!arguments.length)return p;p=a;return d};d.links=function(a){if(!arguments.length)return y;y=a;return d};d.size=function(a){if(!arguments.length)return e;e=a;return d};d.linkDistance=function(a){if(!arguments.length)return h;h="function"===typeof a?a:+a;return d};d.distance=d.linkDistance;d.linkStrength=
function(a){if(!arguments.length)return q;q="function"===typeof a?a:+a;return d};d.friction=function(a){if(!arguments.length)return l;l=+a;return d};d.charge=function(a){if(!arguments.length)return k;k="function"===typeof a?a:+a;return d};d.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(r);r=a*a;return d};d.gravity=function(a){if(!arguments.length)return m;m=+a;return d};d.theta=function(a){if(!arguments.length)return Math.sqrt(n);n=a*a;return d};d.alpha=function(a){if(!arguments.length)return f;
a=+a;f?f=0<a?a:0:0<a&&(c.start({type:"start",alpha:f=a}),s.timer(d.tick));return d};d.start=function(){function a(d,e){if(!r){r=Array(c);for(f=0;f<c;++f)r[f]=[];for(f=0;f<l;++f){var g=y[f];r[g.source.index].push(g.target);r[g.target.index].push(g.source)}}for(var g=r[b],f=-1,l=g.length,h;++f<l;)if(!isNaN(h=g[f][d]))return h;return Math.random()*e}var b,c=p.length,g=y.length,f=e[0],l=e[1],r,m;for(b=0;b<c;++b)(m=p[b]).index=b,m.weight=0;for(b=0;b<g;++b)m=y[b],"number"==typeof m.source&&(m.source=p[m.source]),
"number"==typeof m.target&&(m.target=p[m.target]),++m.source.weight,++m.target.weight;for(b=0;b<c;++b)m=p[b],isNaN(m.x)&&(m.x=a("x",f)),isNaN(m.y)&&(m.y=a("y",l)),isNaN(m.px)&&(m.px=m.x),isNaN(m.py)&&(m.py=m.y);D=[];if("function"===typeof h)for(b=0;b<g;++b)D[b]=+h.call(this,y[b],b);else for(b=0;b<g;++b)D[b]=h;w=[];if("function"===typeof q)for(b=0;b<g;++b)w[b]=+q.call(this,y[b],b);else for(b=0;b<g;++b)w[b]=q;C=[];if("function"===typeof k)for(b=0;b<c;++b)C[b]=+k.call(this,p[b],b);else for(b=0;b<c;++b)C[b]=
k;return d.resume()};d.resume=function(){return d.alpha(.1)};d.stop=function(){return d.alpha(0)};d.drag=function(){g||(g=s.behavior.drag().origin(ta).on("dragstart.force",ch).on("drag.force",b).on("dragend.force",nh));if(!arguments.length)return g;this.on("mouseover.force",oh).on("mouseout.force",ph).call(g)};return s.rebind(d,c,"on")};var ji=20,ki=1,li=Infinity;s.layout.hierarchy=function(){function a(e){var g=[e],f=[],l;for(e.depth=0;null!=(l=g.pop());)if(f.push(l),(q=d.call(a,l,l.depth))&&(h=
q.length)){for(var h,q,k;0<=--h;)g.push(k=q[h]),k.parent=l,k.depth=l.depth+1;c&&(l.value=0);l.children=q}else c&&(l.value=+c.call(a,l,l.depth)||0),delete l.children;ib(e,function(a){var d,e;b&&(d=a.children)&&d.sort(b);c&&(e=a.parent)&&(e.value+=a.value)});return f}var b=th,d=rh,c=sh;a.sort=function(d){if(!arguments.length)return b;b=d;return a};a.children=function(b){if(!arguments.length)return d;d=b;return a};a.value=function(b){if(!arguments.length)return c;c=b;return a};a.revalue=function(b){c&&
(Sc(b,function(a){a.children&&(a.value=0)}),ib(b,function(b){var d;b.children||(b.value=+c.call(a,b,b.depth)||0);if(d=b.parent)d.value+=b.value}));return b};return a};s.layout.partition=function(){function a(b,d,c,e){var g=b.children;b.x=d;b.y=b.depth*e;b.dx=c;b.dy=e;if(g&&(l=g.length)){var f=-1,l,h;for(c=b.value?c/b.value:0;++f<l;)a(h=g[f],d,b=h.value*c,e),d+=b}}function b(a){a=a.children;var d=0;if(a&&(e=a.length))for(var c=-1,e;++c<e;)d=Math.max(d,b(a[c]));return 1+d}function d(g,f){var l=c.call(this,
g,f);a(l[0],0,e[0],e[1]/b(l[0]));return l}var c=s.layout.hierarchy(),e=[1,1];d.size=function(a){if(!arguments.length)return e;e=a;return d};return Rc(d,c)};s.layout.pie=function(){function a(g){var f=g.map(function(d,c){return+b.call(a,d,c)}),l=+("function"===typeof c?c.apply(this,arguments):c),h=(("function"===typeof e?e.apply(this,arguments):e)-l)/s.sum(f),q=s.range(g.length);null!=d&&q.sort(d===Hg?function(a,b){return f[b]-f[a]}:function(a,b){return d(g[a],g[b])});var k=[];q.forEach(function(a){var b;
k[a]={data:g[a],value:b=f[a],startAngle:l,endAngle:l+=b*h}});return k}var b=Number,d=Hg,c=0,e=Ua;a.value=function(d){if(!arguments.length)return b;b=d;return a};a.sort=function(b){if(!arguments.length)return d;d=b;return a};a.startAngle=function(b){if(!arguments.length)return c;c=b;return a};a.endAngle=function(b){if(!arguments.length)return e;e=b;return a};return a};var Hg={};s.layout.stack=function(){function a(l,h){if(!(n=l.length))return l;var q=l.map(function(d,c){return b.call(a,d,c)}),k=q.map(function(b){return b.map(function(b,
d){return[g.call(a,b,d),f.call(a,b,d)]})}),r=d.call(a,k,h),q=s.permute(q,r),k=s.permute(k,r),r=c.call(a,k,h),m=q[0].length,n,p,y,D;for(y=0;y<m;++y)for(e.call(a,q[0][y],D=r[y],k[0][y][1]),p=1;p<n;++p)e.call(a,q[p][y],D+=k[p-1][y][1],k[p][y][1]);return l}var b=ta,d=we,c=xe,e=wh,g=uh,f=vh;a.values=function(d){if(!arguments.length)return b;b=d;return a};a.order=function(b){if(!arguments.length)return d;d="function"===typeof b?b:mi.get(b)||we;return a};a.offset=function(b){if(!arguments.length)return c;
c="function"===typeof b?b:ni.get(b)||xe;return a};a.x=function(b){if(!arguments.length)return g;g=b;return a};a.y=function(b){if(!arguments.length)return f;f=b;return a};a.out=function(b){if(!arguments.length)return e;e=b;return a};return a};var mi=s.map({"inside-out":function(a){var b=a.length,d,c=a.map(xh),e=a.map(yh),g=s.range(b).sort(function(a,b){return c[a]-c[b]}),f=0,l=0,h=[],q=[];for(a=0;a<b;++a)d=g[a],f<l?(f+=e[d],h.push(d)):(l+=e[d],q.push(d));return q.reverse().concat(h)},reverse:function(a){return s.range(a.length).reverse()},
"default":we}),ni=s.map({silhouette:function(a){var b=a.length,d=a[0].length,c=[],e=0,g,f,l,h=[];for(f=0;f<d;++f){for(l=g=0;g<b;g++)l+=a[g][f][1];l>e&&(e=l);c.push(l)}for(f=0;f<d;++f)h[f]=(e-c[f])/2;return h},wiggle:function(a){var b=a.length,d=a[0],c=d.length,e,g,f,l,h,q,k,r,m,n=[];n[0]=r=m=0;for(g=1;g<c;++g){for(l=e=0;e<b;++e)l+=a[e][g][1];h=e=0;for(k=d[g][0]-d[g-1][0];e<b;++e){f=0;for(q=(a[e][g][1]-a[e][g-1][1])/(2*k);f<e;++f)q+=(a[f][g][1]-a[f][g-1][1])/k;h+=q*a[e][g][1]}n[g]=r-=l?h/l*k:0;r<m&&
(m=r)}for(g=0;g<c;++g)n[g]-=m;return n},expand:function(a){var b=a.length,d=a[0].length,c=1/b,e,g,f,l=[];for(g=0;g<d;++g){for(f=e=0;e<b;e++)f+=a[e][g][1];if(f)for(e=0;e<b;e++)a[e][g][1]/=f;else for(e=0;e<b;e++)a[e][g][1]=c}for(g=0;g<d;++g)l[g]=0;return l},zero:xe});s.layout.histogram=function(){function a(g,f){var l=[],h=g.map(d,this),q=c.call(this,h,f),k=e.call(this,q,h,f),r;f=-1;for(var m=h.length,n=k.length-1,v=b?1:1/m;++f<n;)r=l[f]=[],r.dx=k[f+1]-(r.x=k[f]),r.y=0;if(0<n)for(f=-1;++f<m;)r=h[f],
r>=q[0]&&r<=q[1]&&(r=l[s.bisect(k,r,1,n)-1],r.y+=v,r.push(g[f]));return l}var b=!0,d=Number,c=Bh,e=Ah;a.value=function(b){if(!arguments.length)return d;d=b;return a};a.range=function(b){if(!arguments.length)return c;c=ca(b);return a};a.bins=function(b){if(!arguments.length)return e;e="number"===typeof b?function(a){return Qf(a,b)}:ca(b);return a};a.frequency=function(d){if(!arguments.length)return b;b=!!d;return a};return a};s.layout.pack=function(){function a(g,f){var l=b.call(this,g,f),h=l[0],q=
c[0],k=c[1],r=null==e?Math.sqrt:"function"===typeof e?e:function(){return e};h.x=h.y=0;ib(h,function(a){a.r=+r(a.value)});ib(h,Tf);if(d){var m=d*(e?1:Math.max(2*h.r/q,2*h.r/k))/2;ib(h,function(a){a.r+=m});ib(h,Tf);ib(h,function(a){a.r-=m})}Vf(h,q/2,k/2,e?1:1/Math.max(2*h.r/q,2*h.r/k));return l}var b=s.layout.hierarchy().sort(Ch),d=0,c=[1,1],e;a.size=function(b){if(!arguments.length)return c;c=b;return a};a.radius=function(b){if(!arguments.length)return e;e=null==b||"function"===typeof b?b:+b;return a};
a.padding=function(b){if(!arguments.length)return d;d=+b;return a};return Rc(a,b)};s.layout.tree=function(){function a(q,k){var r=g.call(this,q,k),m=r[0],n=b(m);ib(n,d);n.parent.m=-n.z;Sc(n,c);if(h)Sc(m,e);else{var v=m,p=m,y=m;Sc(m,function(a){a.x<v.x&&(v=a);a.x>p.x&&(p=a);a.depth>y.depth&&(y=a)});var s=f(v,p)/2-v.x,D=l[0]/(p.x+f(p,v)/2+s),w=l[1]/(y.depth||1);Sc(m,function(a){a.x=(a.x+s)*D;a.y=a.depth*w})}return r}function b(a){a={A:null,children:[a]};for(var d=[a],c;null!=(c=d.pop());)for(var e=
c.children,g,f=0,l=e.length;f<l;++f)d.push((e[f]=g={_:e[f],parent:c,children:(g=e[f].children)&&g.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:f}).a=g);return a.children[0]}function d(a){var b=a.children,c=a.parent.children,e=a.i?c[a.i-1]:null;if(b.length){for(var g=0,l=0,h=a.children,q=h.length,k;0<=--q;)k=h[q],k.z+=g,k.m+=g,g+=k.s+(l+=k.c);b=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+f(a._,e._),a.m=a.z-b):a.z=b}else e&&(a.z=e.z+f(a._,e._));b=a.parent;c=a.parent.A||c[0];if(e){l=g=a;h=g.parent.children[0];
q=g.m;k=l.m;for(var r=e.m,m=h.m,n;e=Ae(e),g=ze(g),e&&g;){h=ze(h);l=Ae(l);l.a=a;n=e.z+r-g.z-q+f(e._,g._);if(0<n){var v=e.a.parent===a.parent?e.a:c,p=a,y=n,s=y/(p.i-v.i);p.c-=s;p.s+=y;v.c+=s;p.z+=y;p.m+=y;q+=n;k+=n}r+=e.m;q+=g.m;m+=h.m;k+=l.m}e&&!Ae(l)&&(l.t=e,l.m+=r-k);g&&!ze(h)&&(h.t=g,h.m+=q-m,c=a)}b.A=c}function c(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=l[0];a.y=a.depth*l[1]}var g=s.layout.hierarchy().sort(null).value(null),f=Wf,l=[1,1],h=null;a.separation=function(b){if(!arguments.length)return f;
f=b;return a};a.size=function(b){if(!arguments.length)return h?null:l;h=null==(l=b)?e:null;return a};a.nodeSize=function(b){if(!arguments.length)return h?l:null;h=null==(l=b)?null:e;return a};return Rc(a,g)};s.layout.cluster=function(){function a(g,f){var l=b.call(this,g,f),h=l[0],q,k=0;ib(h,function(a){var b=a.children;b&&b.length?(a.x=Gh(b),a.y=Fh(b)):(a.x=q?k+=d(a,q):0,a.y=0,q=a)});var r=Xf(h),m=Yf(h),n=r.x-d(r,m)/2,p=m.x+d(m,r)/2;ib(h,e?function(a){a.x=(a.x-h.x)*c[0];a.y=(h.y-a.y)*c[1]}:function(a){a.x=
(a.x-n)/(p-n)*c[0];a.y=(1-(h.y?a.y/h.y:1))*c[1]});return l}var b=s.layout.hierarchy().sort(null).value(null),d=Wf,c=[1,1],e=!1;a.separation=function(b){if(!arguments.length)return d;d=b;return a};a.size=function(b){if(!arguments.length)return e?null:c;e=null==(c=b);return a};a.nodeSize=function(b){if(!arguments.length)return e?c:null;e=null!=(c=b);return a};return Rc(a,b)};s.layout.treemap=function(){function a(b,d){for(var c=-1,e=b.length,g,f;++c<e;)f=(g=b[c]).value*(0>d?0:d),g.area=isNaN(f)||0>=
f?0:f}function b(d){var e=d.children;if(e&&e.length){var g=q(d),f=[],l=e.slice(),h=Infinity,k,r="slice"===m?g.dx:"dice"===m?g.dy:"slice-dice"===m?d.depth&1?g.dy:g.dx:Math.min(g.dx,g.dy);a(l,g.dx*g.dy/d.value);for(f.area=0;0<(d=l.length);){f.push(d=l[d-1]);f.area+=d.area;if(!(d="squarify"!==m)){k=r;d=f.area;for(var p=void 0,y=0,s=Infinity,D=-1,w=f.length;++D<w;)if(p=f[D].area)p<s&&(s=p),p>y&&(y=p);d*=d;k*=k;d=(k=d?Math.max(k*y*n/d,d/(k*s*n)):Infinity)<=h}d?(l.pop(),h=k):(f.area-=f.pop().area,c(f,r,
g,!1),r=Math.min(g.dx,g.dy),f.length=f.area=0,h=Infinity)}f.length&&(c(f,r,g,!0),f.length=f.area=0);e.forEach(b)}}function d(b){var e=b.children;if(e&&e.length){var g=q(b),f=e.slice(),l=[];a(f,g.dx*g.dy/b.value);for(l.area=0;b=f.pop();)l.push(b),l.area+=b.area,null!=b.z&&(c(l,b.z?g.dx:g.dy,g,!f.length),l.length=l.area=0);e.forEach(d)}}function c(a,b,d,e){var g=-1,l=a.length,h=d.x,q=d.y,k=b?f(a.area/b):0,r;if(b==d.dx){if(e||k>d.dy)k=d.dy;for(;++g<l;)r=a[g],r.x=h,r.y=q,r.dy=k,h+=r.dx=Math.min(d.x+d.dx-
h,k?f(r.area/k):0);r.z=!0;r.dx+=d.x+d.dx-h;d.y+=k;d.dy-=k}else{if(e||k>d.dx)k=d.dx;for(;++g<l;)r=a[g],r.x=h,r.y=q,r.dx=k,q+=r.dy=Math.min(d.y+d.dy-q,k?f(r.area/k):0);r.z=!1;r.dy+=d.y+d.dy-q;d.x+=k;d.dx-=k}}function e(c){c=r||g(c);var f=c[0];f.x=0;f.y=0;f.dx=l[0];f.dy=l[1];r&&g.revalue(f);a([f],f.dx*f.dy/f.value);(r?d:b)(f);k&&(r=c);return c}var g=s.layout.hierarchy(),f=Math.round,l=[1,1],h=null,q=Be,k=!1,r,m="squarify",n=.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return l;l=a;return e};
e.padding=function(a){function b(d){var c=a.call(e,d,d.depth);return null==c?Be(d):Zf(d,"number"===typeof c?[c,c,c,c]:c)}function d(b){return Zf(b,a)}if(!arguments.length)return h;var c;q=null==(h=a)?Be:"function"===(c=typeof a)?b:"number"===c?(a=[a,a,a,a],d):d;return e};e.round=function(a){if(!arguments.length)return f!=Number;f=a?Math.round:Number;return e};e.sticky=function(a){if(!arguments.length)return k;k=a;r=null;return e};e.ratio=function(a){if(!arguments.length)return n;n=a;return e};e.mode=
function(a){if(!arguments.length)return m;m=a+"";return e};return Rc(e,g)};s.random={normal:function(a,b){var d=arguments.length;2>d&&(b=1);1>d&&(a=0);return function(){var d,c;do d=2*Math.random()-1,c=2*Math.random()-1,c=d*d+c*c;while(!c||1<c);return a+b*d*Math.sqrt(-2*Math.log(c)/c)}},logNormal:function(){var a=s.random.normal.apply(s,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=s.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=
0,d=0;d<a;d++)b+=Math.random();return b}}};s.scale={};var Ih={floor:ta,ceil:ta};s.scale.linear=function(){return ag([0,1],[0,1],Nb,!1)};var Lh={s:1,g:1,p:1,r:1,e:1};s.scale.log=function(){return bg(s.scale.linear().domain([0,1]),10,!0,[1,10])};var cg=s.format(".0e"),Mh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};s.scale.pow=function(){return dg(s.scale.linear(),1,[0,1])};s.scale.sqrt=function(){return s.scale.pow().exponent(.5)};s.scale.ordinal=function(){return eg([],
{t:"range",a:[[]]})};s.scale.category10=function(){return s.scale.ordinal().range(oi)};s.scale.category20=function(){return s.scale.ordinal().range(pi)};s.scale.category20b=function(){return s.scale.ordinal().range(qi)};s.scale.category20c=function(){return s.scale.ordinal().range(ri)};var oi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Q),pi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,
16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Q),qi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Q),ri=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Q);s.scale.quantile=function(){return fg([],[])};s.scale.quantize=
function(){return gg(0,1,[0,1])};s.scale.threshold=function(){return hg([.5],[0,1])};s.scale.identity=function(){return ig([0,1])};s.svg={};s.svg.arc=function(){function a(){var g=b.apply(this,arguments),f=d.apply(this,arguments),l=c.apply(this,arguments)+Wb,h=e.apply(this,arguments)+Wb,q=(h<l&&(q=l,l=h,h=q),h-l),k=q<T?"0":"1",r=Math.cos(l),l=Math.sin(l),m=Math.cos(h),h=Math.sin(h);return q>=si?g?"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+-f+"A"+f+","+f+" 0 1,1 0,"+f+"M0,"+g+"A"+g+","+g+" 0 1,0 0,"+-g+"A"+g+
","+g+" 0 1,0 0,"+g+"Z":"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+-f+"A"+f+","+f+" 0 1,1 0,"+f+"Z":g?"M"+f*r+","+f*l+"A"+f+","+f+" 0 "+k+",1 "+f*m+","+f*h+"L"+g*m+","+g*h+"A"+g+","+g+" 0 "+k+",0 "+g*r+","+g*l+"Z":"M"+f*r+","+f*l+"A"+f+","+f+" 0 "+k+",1 "+f*m+","+f*h+"L0,0Z"}var b=Nh,d=Oh,c=jg,e=kg;a.innerRadius=function(d){if(!arguments.length)return b;b=ca(d);return a};a.outerRadius=function(b){if(!arguments.length)return d;d=ca(b);return a};a.startAngle=function(b){if(!arguments.length)return c;c=ca(b);return a};
a.endAngle=function(b){if(!arguments.length)return e;e=ca(b);return a};a.centroid=function(){var a=(b.apply(this,arguments)+d.apply(this,arguments))/2,g=(c.apply(this,arguments)+e.apply(this,arguments))/2+Wb;return[Math.cos(g)*a,Math.sin(g)*a]};return a};var Wb=-Da,si=Ua-1E-6;s.svg.line=function(){return lg(ta)};var Ee=s.map({linear:Va,"linear-closed":function(a){return Va(a)+"Z"},step:function(a){for(var b=0,d=a.length,c=a[0],e=[c[0],",",c[1]];++b<d;)e.push("H",(c[0]+(c=a[b])[0])/2,"V",c[1]);1<d&&
e.push("H",c[0]);return e.join("")},"step-before":Fe,"step-after":Ge,basis:mg,"basis-open":function(a){if(4>a.length)return Va(a);for(var b=[],d=-1,c=a.length,e,g=[0],f=[0];3>++d;)e=a[d],g.push(e[0]),f.push(e[1]);b.push(Za(Ib,g)+","+Za(Ib,f));for(--d;++d<c;)e=a[d],g.shift(),g.push(e[0]),f.shift(),f.push(e[1]),Ie(b,g,f);return b.join("")},"basis-closed":function(a){for(var b,d=-1,c=a.length,e=c+4,g,f=[],l=[];4>++d;)g=a[d%c],f.push(g[0]),l.push(g[1]);b=[Za(Ib,f),",",Za(Ib,l)];for(--d;++d<e;)g=a[d%c],
f.shift(),f.push(g[0]),l.shift(),l.push(g[1]),Ie(b,f,l);return b.join("")},bundle:function(a,b){var d=a.length-1;if(d)for(var c=a[0][0],e=a[0][1],g=a[d][0]-c,f=a[d][1]-e,l=-1,h,q;++l<=d;)h=a[l],q=l/d,h[0]=b*h[0]+(1-b)*(c+q*g),h[1]=b*h[1]+(1-b)*(e+q*f);return mg(a)},cardinal:function(a,b){return 3>a.length?Va(a):a[0]+Bd(a,He(a,b))},"cardinal-open":function(a,b){return 4>a.length?Va(a):a[1]+Bd(a.slice(1,a.length-1),He(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Va(a):a[0]+Bd((a.push(a[0]),
a),He([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Va(a);else{var b=a[0],d=[],c,e,g,f;c=0;e=a.length-1;var l=[];g=a[1];for(f=l[0]=Je(a[0],g);++c<e;)l[c]=(f+(f=Je(g,g=a[c+1])))/2;l[c]=f;for(var h=-1,q=a.length-1;++h<q;)c=Je(a[h],a[h+1]),1E-6>U(c)?l[h]=l[h+1]=0:(e=l[h]/c,g=l[h+1]/c,f=e*e+g*g,9<f&&(f=3*c/Math.sqrt(f),l[h]=f*e,l[h+1]=f*g));for(h=-1;++h<=q;)f=(a[Math.min(q,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+l[h]*l[h])),d.push([f||0,l[h]*f||0]);a=b+Bd(a,d)}return a}});Ee.forEach(function(a,
b){b.key=a;b.closed=/-closed$/.test(a)});var ng=[0,2/3,1/3,0],og=[0,1/3,2/3,0],Ib=[0,1/6,2/3,1/6];s.svg.line.radial=function(){var a=lg(pg);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Fe.reverse=Ge;Ge.reverse=Fe;s.svg.area=function(){return qg(ta)};s.svg.area.radial=function(){var a=qg(pg);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};s.svg.chord=function(){function a(g,
f){var l=b(this,c,g,f),h=b(this,e,g,f);return"M"+l.p0+d(l.r,l.p1,l.a1-l.a0)+(l.a0==h.a0&&l.a1==h.a1?"Q 0,0 "+l.p0:"Q 0,0 "+h.p0+d(h.r,h.p1,h.a1-h.a0)+("Q 0,0 "+l.p0))+"Z"}function b(a,d,c,e){var h=d.call(a,c,e);d=g.call(a,h,e);c=f.call(a,h,e)+Wb;a=l.call(a,h,e)+Wb;return{r:d,a0:c,a1:a,p0:[d*Math.cos(c),d*Math.sin(c)],p1:[d*Math.cos(a),d*Math.sin(a)]}}function d(a,b,c){return"A"+a+","+a+" 0 "+ +(c>T)+",1 "+b}var c=Zd,e=ae,g=Ph,f=jg,l=kg;a.radius=function(b){if(!arguments.length)return g;g=ca(b);return a};
a.source=function(b){if(!arguments.length)return c;c=ca(b);return a};a.target=function(b){if(!arguments.length)return e;e=ca(b);return a};a.startAngle=function(b){if(!arguments.length)return f;f=ca(b);return a};a.endAngle=function(b){if(!arguments.length)return l;l=ca(b);return a};return a};s.svg.diagonal=function(){function a(e,g){var f=b.call(this,e,g),l=d.call(this,e,g),h=(f.y+l.y)/2,f=[f,{x:f.x,y:h},{x:l.x,y:h},l],f=f.map(c);return"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}var b=Zd,d=ae,c=rg;a.source=
function(d){if(!arguments.length)return b;b=ca(d);return a};a.target=function(b){if(!arguments.length)return d;d=ca(b);return a};a.projection=function(b){if(!arguments.length)return c;c=b;return a};return a};s.svg.diagonal.radial=function(){var a=s.svg.diagonal(),b=rg,d=a.projection;a.projection=function(a){return arguments.length?d(Qh(b=a)):b};return a};s.svg.symbol=function(){function a(c,e){return(Ig.get(b.call(this,c,e))||sg)(d.call(this,c,e))}var b=Sh,d=Rh;a.type=function(d){if(!arguments.length)return b;
b=ca(d);return a};a.size=function(b){if(!arguments.length)return d;d=ca(b);return a};return a};var Ig=s.map({circle:sg,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*Jg));var b=a*Jg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/
Td);var b=a*Td/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Td);var b=a*Td/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});s.svg.symbolTypes=Ig.keys();var Td=Math.sqrt(3),Jg=Math.tan(30*S),va=[],xg=0,Yb,Fd;va.call=ea.call;va.empty=ea.empty;va.node=ea.node;va.size=ea.size;s.transition=function(a){return arguments.length?Yb?a.transition():a:wg.transition()};s.transition.prototype=va;va.select=function(b){var d=this.id,c=[],e,g,f;b=a(b);for(var l=-1,h=this.length;++l<
h;){c.push(e=[]);for(var q=this[l],k=-1,r=q.length;++k<r;)(f=q[k])&&(g=b.call(f,f.__data__,k,l))?("__data__"in f&&(g.__data__=f.__data__),Cd(g,k,d,f.__transition__[d]),e.push(g)):e.push(null)}return Tc(c,d)};va.selectAll=function(a){var b=this.id,c=[],e,g,f,l;a=d(a);for(var h=-1,q=this.length;++h<q;)for(var k=this[h],r=-1,m=k.length;++r<m;)if(e=k[r]){l=e.__transition__[b];g=a.call(e,e.__data__,r,h);c.push(e=[]);for(var n=-1,p=g.length;++n<p;)(f=g[n])&&Cd(f,n,b,l),e.push(f)}return Tc(c,b)};va.filter=
function(a){var b=[],d,c,e;"function"!==typeof a&&(a=z(a));for(var g=0,f=this.length;g<f;g++){b.push(d=[]);c=this[g];for(var l=0,h=c.length;l<h;l++)(e=c[l])&&a.call(e,e.__data__,l,g)&&d.push(e)}return Tc(b,this.id)};va.tween=function(a,b){var d=this.id;return 2>arguments.length?this.node().__transition__[d].tween.get(a):aa(this,null==b?function(b){b.__transition__[d].tween.remove(a)}:function(c){c.__transition__[d].tween.set(a,b)})};va.attr=function(a,b){function d(){this.removeAttribute(l)}function c(){this.removeAttributeNS(l.space,
l.local)}function e(a){return null==a?d:(a+="",function(){var b=this.getAttribute(l),d;return b!==a&&(d=f(b,a),function(a){this.setAttribute(l,d(a))})})}function g(a){return null==a?c:(a+="",function(){var b=this.getAttributeNS(l.space,l.local),d;return b!==a&&(d=f(b,a),function(a){this.setAttributeNS(l.space,l.local,d(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var f="transform"==a?of:Nb,l=s.ns.qualify(a);return Ke(this,"attr."+a,b,l.local?g:e)};va.attrTween=function(a,
b){function d(a,c){var g=b.call(this,a,c,this.getAttribute(e));return g&&function(a){this.setAttribute(e,g(a))}}function c(a,d){var g=b.call(this,a,d,this.getAttributeNS(e.space,e.local));return g&&function(a){this.setAttributeNS(e.space,e.local,g(a))}}var e=s.ns.qualify(a);return this.tween("attr."+a,e.local?c:d)};va.style=function(a,b,d){function c(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!==typeof a){2>e&&(b="");for(d in a)this.style(d,a[d],b);return this}d=""}return Ke(this,
"style."+a,b,function(b){return null==b?c:(b+="",function(){var c=Ka.getComputedStyle(this,null).getPropertyValue(a),e;return c!==b&&(e=Nb(c,b),function(b){this.style.setProperty(a,e(b),d)})})})};va.styleTween=function(a,b,d){3>arguments.length&&(d="");return this.tween("style."+a,function(c,e){var g=b.call(this,c,e,Ka.getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),d)}})};va.text=function(a){return Ke(this,"text",a,Th)};va.remove=function(){return this.each("end.transition",
function(){var a;2>this.__transition__.count&&(a=this.parentNode)&&a.removeChild(this)})};va.ease=function(a){var b=this.id;if(1>arguments.length)return this.node().__transition__[b].ease;"function"!==typeof a&&(a=s.ease.apply(s,arguments));return aa(this,function(d){d.__transition__[b].ease=a})};va.delay=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].delay:aa(this,"function"===typeof a?function(d,c,e){d.__transition__[b].delay=+a.call(d,d.__data__,c,e)}:(a=+a,function(d){d.__transition__[b].delay=
a}))};va.duration=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].duration:aa(this,"function"===typeof a?function(d,c,e){d.__transition__[b].duration=Math.max(1,a.call(d,d.__data__,c,e))}:(a=Math.max(1,a),function(d){d.__transition__[b].duration=a}))};va.each=function(a,b){var d=this.id;if(2>arguments.length){var c=Fd,e=Yb;Yb=d;aa(this,function(b,c,e){Fd=b.__transition__[d];a.call(b,b.__data__,c,e)});Fd=c;Yb=e}else aa(this,function(c){c=c.__transition__[d];(c.event||
(c.event=s.dispatch("start","end"))).on(a,b)});return this};va.transition=function(){for(var a=this.id,b=++xg,d=[],c,e,g,f,l=0,h=this.length;l<h;l++){d.push(c=[]);e=this[l];for(var q=0,k=e.length;q<k;q++){if(g=e[q])f=Object.create(g.__transition__[a]),f.delay+=f.duration,Cd(g,q,b,f);c.push(g)}}return Tc(d,b)};s.svg.axis=function(){function a(q){q.each(function(){var a=s.select(this),q=this.__chart__||b,k=this.__chart__=b.copy(),r=null==l?k.ticks?k.ticks.apply(k,f):k.domain():l,m=null==h?k.tickFormat?
k.tickFormat.apply(k,f):ta:h,n=a.selectAll(".tick").data(r,k),r=n.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6),p=s.transition(n.exit()).style("opacity",1E-6).remove(),y=s.transition(n.order()).style("opacity",1),D=Math.max(c,0)+g,w=xd(k),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),s.transition(a));r.append("line");r.append("text");var v=r.select("line"),C=y.select("line"),n=n.select("text").text(m),z=r.select("text"),t=y.select("text"),
u="top"===d||"left"===d?-1:1,x,ba,B,aa;"bottom"===d||"top"===d?(m=Uh,x="x",B="y",ba="x2",aa="y2",n.attr("dy",0>u?"0em":".71em").style("text-anchor","middle"),a.attr("d","M"+w[0]+","+u*e+"V0H"+w[1]+"V"+u*e)):(m=Vh,x="y",B="x",ba="y2",aa="x2",n.attr("dy",".32em").style("text-anchor",0>u?"end":"start"),a.attr("d","M"+u*e+","+w[0]+"H0V"+w[1]+"H"+u*e));v.attr(aa,u*c);z.attr(B,u*D);C.attr(ba,0).attr(aa,u*c);t.attr(x,0).attr(B,u*D);if(k.rangeBand)var ga=k,A=ga.rangeBand()/2,q=k=function(a){return ga(a)+
A};else q.rangeBand?q=k:p.call(m,k,q);r.call(m,q,k);y.call(m,k,k)})}var b=s.scale.linear(),d=Kg,c=6,e=6,g=3,f=[10],l=null,h;a.scale=function(d){if(!arguments.length)return b;b=d;return a};a.orient=function(b){if(!arguments.length)return d;d=b in ti?b+"":Kg;return a};a.ticks=function(){if(!arguments.length)return f;f=arguments;return a};a.tickValues=function(b){if(!arguments.length)return l;l=b;return a};a.tickFormat=function(b){if(!arguments.length)return h;h=b;return a};a.tickSize=function(b){var d=
arguments.length;if(!d)return c;c=+b;e=+arguments[d-1];return a};a.innerTickSize=function(b){if(!arguments.length)return c;c=+b;return a};a.outerTickSize=function(b){if(!arguments.length)return e;e=+b;return a};a.tickPadding=function(b){if(!arguments.length)return g;g=+b;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var Kg="bottom",ti={top:1,right:1,bottom:1,left:1};s.svg.brush=function(){function a(g){g.each(function(){var g=s.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color",
"rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),h=g.selectAll(".background").data([0]);h.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var q=g.selectAll(".resize").data(p,ta);q.exit().remove();q.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return ui[a]}).append("rect").attr("x",
function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");q.style("display",a.empty()?"none":null);g=s.transition(g);h=s.transition(h);f&&(q=xd(f),h.attr("x",q[0]).attr("width",q[1]-q[0]),d(g));l&&(q=xd(l),h.attr("y",q[0]).attr("height",q[1]-q[0]),c(g));b(g)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+h[+/e$/.test(a)]+","+q[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",
h[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function c(a){a.select(".extent").attr("y",q[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",q[1]-q[0])}function e(){function p(){var a=s.mouse(w),e=!1;da&&(a[0]+=da[0],a[1]+=da[1]);B||(s.event.altKey?(ga||(ga=[(h[0]+h[1])/2,(q[0]+q[1])/2]),A[0]=h[+(a[0]<ga[0])],A[1]=q[+(a[1]<ga[1])]):ga=null);x&&y(a,f,0)&&(d(t),e=!0);ba&&y(a,l,1)&&(c(t),e=!0);e&&(b(t),z({type:"brush",mode:B?"move":"resize"}))}function y(a,b,d){var c=xd(b);
b=c[0];var e=c[1],c=A[d],g=d?q:h,f=g[1]-g[0];B&&(b-=c,e-=f+c);a=(d?n:m)?Math.max(b,Math.min(e,a[d])):a[d];B?b=(a+=c)+f:(ga&&(c=Math.max(b,Math.min(e,2*ga[d]-a))),c<a?(b=a,a=c):b=c);if(g[0]!=a||g[1]!=b)return d?r=null:k=null,g[0]=a,g[1]=b,!0}function D(){p();t.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);s.select("body").style("cursor",null);V.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",
null).on("keyup.brush",null);aa();z({type:"brushend"})}var w=this,C=s.select(s.event.target),z=g.of(w,arguments),t=s.select(w),u=C.datum(),x=!/^(n|s)$/.test(u)&&f,ba=!/^(e|w)$/.test(u)&&l,B=C.classed("extent"),aa=ab(),ga,A=s.mouse(w),da,V=s.select(Ka).on("keydown.brush",function(){32==s.event.keyCode&&(B||(ga=null,A[0]-=h[1],A[1]-=q[1],B=2),R())}).on("keyup.brush",function(){32==s.event.keyCode&&2==B&&(A[0]+=h[1],A[1]+=q[1],B=0,R())});if(s.event.changedTouches)V.on("touchmove.brush",p).on("touchend.brush",
D);else V.on("mousemove.brush",p).on("mouseup.brush",D);t.interrupt().selectAll("*").interrupt();if(B)A[0]=h[0]-A[0],A[1]=q[0]-A[1];else if(u){var W=+/w$/.test(u),u=+/^n/.test(u);da=[h[1-W]-A[0],q[1-u]-A[1]];A[0]=h[W];A[1]=q[u]}else s.event.altKey&&(ga=A.slice());t.style("pointer-events","none").selectAll(".resize").style("display",null);s.select("body").style("cursor",C.style("cursor"));z({type:"brushstart"});p()}var g=Z(a,"brushstart","brush","brushend"),f=null,l=null,h=[0,0],q=[0,0],k,r,m=!0,n=
!0,p=Re[0];a.event=function(a){a.each(function(){var a=g.of(this,arguments),b={x:h,y:q,i:k,j:r},d=this.__chart__||b;this.__chart__=b;Yb?s.select(this).transition().each("start.brush",function(){k=d.i;r=d.j;h=d.x;q=d.y;a({type:"brushstart"})}).tween("brush:brush",function(){var d=Xc(h,b.x),c=Xc(q,b.y);k=r=null;return function(e){h=b.x=d(e);q=b.y=c(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){k=b.i;r=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),
a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(b){if(!arguments.length)return f;f=b;p=Re[!f<<1|!l];return a};a.y=function(b){if(!arguments.length)return l;l=b;p=Re[!f<<1|!l];return a};a.clamp=function(b){if(!arguments.length)return f&&l?[m,n]:f?m:l?n:null;f&&l?(m=!!b[0],n=!!b[1]):f?m=!!b:l&&(n=!!b);return a};a.extent=function(b){var d,c,e,g,m;if(!arguments.length)return f&&(k?(d=k[0],c=k[1]):(d=h[0],c=h[1],f.invert&&(d=f.invert(d),c=f.invert(c)),c<d&&(m=d,d=c,c=m))),l&&(r?(e=
r[0],g=r[1]):(e=q[0],g=q[1],l.invert&&(e=l.invert(e),g=l.invert(g)),g<e&&(m=e,e=g,g=m))),f&&l?[[d,e],[c,g]]:f?[d,c]:l&&[e,g];f&&(d=b[0],c=b[1],l&&(d=d[0],c=c[0]),k=[d,c],f.invert&&(d=f(d),c=f(c)),c<d&&(m=d,d=c,c=m),d!=h[0]||c!=h[1])&&(h=[d,c]);l&&(e=b[0],g=b[1],f&&(e=e[1],g=g[1]),r=[e,g],l.invert&&(e=l(e),g=l(g)),g<e&&(m=e,e=g,g=m),e!=q[0]||g!=q[1])&&(q=[e,g]);return a};a.clear=function(){a.empty()||(h=[0,0],q=[0,0],k=r=null);return a};a.empty=function(){return!!f&&h[0]==h[1]||!!l&&q[0]==q[1]};return s.rebind(a,
g,"on")};var ui={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Re=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],Se=K.format=zg.timeFormat,Lg=Se.utc,Mg=Lg("%Y-%m-%dT%H:%M:%S.%LZ");Se.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Le:Mg;Le.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Le.toString=Mg.toString;K.second=lb(function(a){return new Fa(1E3*Math.floor(a/1E3))},function(a,
b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});K.seconds=K.second.range;K.seconds.utc=K.second.utc.range;K.minute=lb(function(a){return new Fa(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});K.minutes=K.minute.range;K.minutes.utc=K.minute.utc.range;K.hour=lb(function(a){var b=a.getTimezoneOffset()/60;return new Fa(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},
function(a){return a.getHours()});K.hours=K.hour.range;K.hours.utc=K.hour.utc.range;K.month=lb(function(a){a=K.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});K.months=K.month.range;K.months.utc=K.month.utc.range;var Dd=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],Te=[[K.second,1],[K.second,5],[K.second,15],[K.second,30],[K.minute,1],[K.minute,5],[K.minute,15],[K.minute,30],[K.hour,1],
[K.hour,3],[K.hour,6],[K.hour,12],[K.day,1],[K.day,2],[K.week,1],[K.month,1],[K.month,3],[K.year,1]],vi=Se.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",ob]]),Wh={range:function(a,b,d){return s.range(Math.ceil(a/d)*
d,+b,d).map(Xb)},floor:ta,ceil:ta};Te.year=K.year;K.scale=function(){return Me(s.scale.linear(),Te,vi)};var Ng=Te.map(function(a){return[a[0].utc,a[1]]}),wi=Lg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],
["%Y",ob]]);Ng.year=K.year.utc;K.scale.utc=function(){return Me(s.scale.linear(),Ng,wi)};s.text=Fc(function(a){return a.responseText});s.json=function(a,b){return Ob(a,"application/json",Xh,b)};s.html=function(a,b){return Ob(a,"text/html",Yh,b)};s.xml=Fc(function(a){return a.responseXML});"function"===typeof define&&define.amd?define(s):"object"===typeof module&&module.exports&&(module.exports=s);this.d3=s}();
(function(p){function u(b){var a=this.internal=new G(this);a.loadConfig(b);a.init();(function g(a,b,c){Object.keys(a).forEach(function(e){b[e]=a[e].bind(c);0<Object.keys(a[e]).length&&g(a[e],b[e],c)})})(f,this,this)}function G(b){this.d3=p.d3?p.d3:"undefined"!==typeof require?require("d3"):void 0;this.api=b;this.config=this.getDefaultConfig();this.data={};this.cache={};this.axes={}}function H(b,a){function d(a,b){a.attr("transform",function(a){return"translate("+Math.ceil(b(a)+V)+", 0)"})}function c(a,
b){a.attr("transform",function(a){return"translate(0,"+Math.ceil(b(a))+")"})}function e(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function f(a){var b,d=[];if(a.ticks)return a.ticks.apply(a,A);b=a.domain();for(a=Math.ceil(b[0]);a<b[1];a++)d.push(a);0<d.length&&0<d[0]&&d.unshift(d[0]-(d[1]-d[0]));return d}function h(){var b=w.copy(),d;a.isCategory&&(d=w.domain(),b.domain([d[0],d[1]-1]));return b}function m(a){return x?x(a):a}function n(a){if(Z)return Z;var b={h:11.5,w:5.5};a.select("text").text(m).each(function(a){var d=
this.getBoundingClientRect(),c=m(a);a=d.height;d=c?d.width/c.length:void 0;a&&d&&(b.h=a,b.w=d)}).text("");return Z=b}function p(C){C.each(function(){function p(b,d){function c(a,b){f=void 0;for(var e=1;e<b.length;e++)if(" "===b.charAt(e)&&(f=e),g=b.substr(0,e+1),l=ka.w*g.length,d<l)return c(a.concat(b.substr(0,f?f:e)),b.slice(f?f+1:e));return a.concat(b)}var e=m(b),g,f,l;if("[object Array]"===Object.prototype.toString.call(e))return e;if(!d||0>=d)d=oa?95:a.isCategory?Math.ceil(k(ga[1])-k(ga[0]))-
12:110;return c([],e+"")}function C(b,d){var c=ka.h;0===d&&(c="left"===z||"right"===z?-(ka.h/2*(Q[b.index]-1)-(a.isCategory?2:3)):".71em");return c}function x(a){a=w(a)+V;return ua[0]<a&&a<ua[1]?6:0}var A=b.select(this),E=this.__chart__||w,k=this.__chart__=h(),ga=u?u:f(k),W=A.selectAll(".tick").data(ga,k),H=W.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6),L=W.exit().remove(),ya=b.transition(W).style("opacity",1),G,da,N,ua=w.rangeExtent?w.rangeExtent():e(w.range());da=A.selectAll(".domain").data([0]);
var J=(da.enter().append("path").attr("class","domain"),b.transition(da));H.append("line");H.append("text");var O=H.select("line"),Qa=ya.select("line"),P=H.select("text"),R=ya.select("text");a.isCategory?(V=Math.ceil((k(1)-k(0))/2),da=I?0:V,N=I?V:0):V=da=0;var Z,ka=n(A.select(".tick")),Q=[],A=Math.max(6,0)+3,oa="left"===z||"right"===z,W=W.select("text");Z=W.selectAll("tspan").data(function(b,d){var c=a.tickMultiline?p(b,a.tickWidth):[].concat(m(b));Q[d]=c.length;return c.map(function(a){return{index:d,
splitted:a}})}).enter().append("tspan").text(function(a){return a.splitted});switch(z){case "bottom":G=d;O.attr("y2",6);P.attr("y",A);Qa.attr("x1",da).attr("x2",da).attr("y2",x);R.attr("x",0).attr("y",A);W.style("text-anchor","middle");Z.attr("x",0).attr("dy",C);J.attr("d","M"+ua[0]+","+t+"V0H"+ua[1]+"V"+t);break;case "top":G=d;O.attr("y2",-6);P.attr("y",-A);Qa.attr("x2",0).attr("y2",-6);R.attr("x",0).attr("y",-A);W.style("text-anchor","middle");Z.attr("x",0).attr("dy","0em");J.attr("d","M"+ua[0]+
","+-t+"V0H"+ua[1]+"V"+-t);break;case "left":G=c;O.attr("x2",-6);P.attr("x",-A);Qa.attr("x2",-6).attr("y1",N).attr("y2",N);R.attr("x",-A).attr("y",V);W.style("text-anchor","end");Z.attr("x",-A).attr("dy",C);J.attr("d","M"+-t+","+ua[0]+"H0V"+ua[1]+"H"+-t);break;case "right":G=c,O.attr("x2",6),P.attr("x",A),Qa.attr("x2",6).attr("y2",0),R.attr("x",A).attr("y",0),W.style("text-anchor","start"),Z.attr("x",A).attr("dy",C),J.attr("d","M"+t+","+ua[0]+"H0V"+ua[1]+"H"+t)}if(k.rangeBand)var qa=k,$b=qa.rangeBand()/
2,E=k=function(a){return qa(a)+$b};else E.rangeBand?E=k:L.call(G,k);H.call(G,E);ya.call(G,k)})}var w=b.scale.linear(),z="bottom",t,u=null,x,A,V=0,E=!0,I;a=a||{};t=a.withOuterTick?6:0;p.scale=function(a){if(!arguments.length)return w;w=a;return p};p.orient=function(a){if(!arguments.length)return z;z=a in{top:1,right:1,bottom:1,left:1}?a+"":"bottom";return p};p.tickFormat=function(a){if(!arguments.length)return x;x=a;return p};p.tickCentered=function(a){if(!arguments.length)return I;I=a;return p};p.tickOffset=
function(){return V};p.ticks=function(){if(!arguments.length)return A;A=arguments;return p};p.tickCulling=function(a){if(!arguments.length)return E;E=a;return p};p.tickValues=function(a){if("function"===typeof a)u=function(){return a(w.domain())};else{if(!arguments.length)return u;u=a}return p};return p}var e={version:"0.4.4"},f,c;e.generate=function(b){return new u(b)};e.chart={fn:u.prototype,internal:{fn:G.prototype}};f=e.chart.fn;c=e.chart.internal.fn;c.init=function(){var b=this.config;this.initParams();
if(b.data_url)this.convertUrlToData(b.data_url,b.data_mimeType,b.data_keys,this.initWithData);else if(b.data_json)this.initWithData(this.convertJsonToData(b.data_json,b.data_keys));else if(b.data_rows)this.initWithData(this.convertRowsToData(b.data_rows));else if(b.data_columns)this.initWithData(this.convertColumnsToData(b.data_columns));else throw Error("url or json or rows or columns is required.");};c.initParams=function(){var b=this.d3,a=this.config;this.clipId="c3-"+ +new Date+"-clip";this.clipIdForXAxis=
this.clipId+"-xaxis";this.clipIdForYAxis=this.clipId+"-yaxis";this.clipIdForGrid=this.clipId+"-grid";this.clipIdForSubchart=this.clipId+"-subchart";this.clipPath=this.getClipPath(this.clipId);this.clipPathForXAxis=this.getClipPath(this.clipIdForXAxis);this.clipPathForYAxis=this.getClipPath(this.clipIdForYAxis);this.clipPathForGrid=this.getClipPath(this.clipIdForGrid);this.clipPathForSubchart=this.getClipPath(this.clipIdForSubchart);this.dragStart=null;this.transiting=this.mouseover=this.cancelClick=
this.flowing=this.dragging=!1;this.color=this.generateColor();this.levelColor=this.generateLevelColor();this.dataTimeFormat=a.data_xLocaltime?b.time.format:b.time.format.utc;this.axisTimeFormat=a.axis_x_localtime?b.time.format:b.time.format.utc;this.defaultAxisTimeFormat=this.axisTimeFormat.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%-m/%-d",function(a){return a.getDay()&&
1!==a.getDate()}],["%-m/%-d",function(a){return 1!==a.getDate()}],["%-m/%-d",function(a){return a.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]);this.hiddenTargetIds=[];this.hiddenLegendIds=[];this.focusedTargetIds=[];this.defocusedTargetIds=[];this.xOrient=a.axis_rotated?"left":"bottom";this.yOrient=a.axis_rotated?a.axis_y_inner?"top":"bottom":a.axis_y_inner?"right":"left";this.y2Orient=a.axis_rotated?a.axis_y_inner?"bottom":"top":a.axis_y_inner?"left":"right";this.subXOrient=a.axis_rotated?
"left":"bottom";this.isLegendRight="right"===a.legend_position;this.isLegendInset="inset"===a.legend_position;this.isLegendTop="top-left"===a.legend_inset_anchor||"top-right"===a.legend_inset_anchor;this.isLegendLeft="top-left"===a.legend_inset_anchor||"bottom-left"===a.legend_inset_anchor;this.legendItemHeight=this.legendItemWidth=this.legendStep=0;this.legendOpacityForHidden=.15;this.currentMaxTickWidths={x:0,y:0,y2:0};this.rotated_padding_left=30;this.rotated_padding_right=a.axis_rotated&&!a.axis_x_show?
0:30;this.rotated_padding_top=5;this.withoutFadeIn={};this.intervalForObserveInserted=void 0;this.axes.subx=b.selectAll([])};c.initChartElements=function(){this.initBar&&this.initBar();this.initLine&&this.initLine();this.initArc&&this.initArc();this.initGauge&&this.initGauge();this.initText&&this.initText()};c.initWithData=function(b){var a=this,d=a.d3,c=a.config,e=!0;a.initPie&&a.initPie();a.initBrush&&a.initBrush();a.initZoom&&a.initZoom();a.selectChart="function"===typeof c.bindto.node?c.bindto:
d.select(c.bindto);a.selectChart.empty()&&(a.selectChart=d.select(document.createElement("div")).style("opacity",0),a.observeInserted(a.selectChart),e=!1);a.selectChart.html("").classed("c3",!0);a.data.xs={};a.data.targets=a.convertDataToTargets(b);c.data_filter&&(a.data.targets=a.data.targets.filter(c.data_filter));c.data_hide&&a.addHiddenTargetIds(!0===c.data_hide?a.mapToIds(a.data.targets):c.data_hide);c.legend_hide&&a.addHiddenLegendIds(!0===c.legend_hide?a.mapToIds(a.data.targets):c.legend_hide);
a.hasType("gauge")&&(c.legend_show=!1);a.updateSizes();a.updateScales();a.x.domain(d.extent(a.getXDomain(a.data.targets)));a.y.domain(a.getYDomain(a.data.targets,"y"));a.y2.domain(a.getYDomain(a.data.targets,"y2"));a.subX.domain(a.x.domain());a.subY.domain(a.y.domain());a.subY2.domain(a.y2.domain());a.orgXDomain=a.x.domain();a.brush&&a.brush.scale(a.subX);c.zoom_enabled&&a.zoom.scale(a.x);a.svg=a.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return c.onmouseover.call(a)}).on("mouseleave",
function(){return c.onmouseout.call(a)});b=a.svg.append("defs");a.clipChart=a.appendClip(b,a.clipId);a.clipXAxis=a.appendClip(b,a.clipIdForXAxis);a.clipYAxis=a.appendClip(b,a.clipIdForYAxis);a.clipGrid=a.appendClip(b,a.clipIdForGrid);a.clipSubchart=a.appendClip(b,a.clipIdForSubchart);a.updateSvgSize();b=a.main=a.svg.append("g").attr("transform",a.getTranslate("main"));a.initSubchart&&a.initSubchart();a.initTooltip&&a.initTooltip();a.initLegend&&a.initLegend();b.append("text").attr("class",h.text+
" "+h.empty).attr("text-anchor","middle").attr("dominant-baseline","middle");a.initRegion();a.initGrid();b.append("g").attr("clip-path",a.clipPath).attr("class",h.chart);c.grid_lines_front&&a.initGridLines();a.initEventRect();a.initChartElements();b.insert("rect",c.zoom_privileged?null:"g."+h.regions).attr("class",h.zoomRect).attr("width",a.width).attr("height",a.height).style("opacity",0).on("dblclick.zoom",null);c.axis_x_extent&&a.brush.extent(a.getDefaultExtent());a.initAxis();a.updateTargets(a.data.targets);
e&&(a.updateDimension(),a.config.oninit.call(a),a.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1}));null==p.onresize&&(p.onresize=a.generateResize());p.onresize.add&&(p.onresize.add(function(){c.onresize.call(a)}),p.onresize.add(function(){a.api.flush()}),p.onresize.add(function(){c.onresized.call(a)}));a.api.element=a.selectChart.node()};c.smoothLines=function(b,a){var d=this;"grid"===a&&b.each(function(){var a=d.d3.select(this),b=a.attr("x1"),c=a.attr("x2"),
e=a.attr("y1"),f=a.attr("y2");a.attr({x1:Math.ceil(b),x2:Math.ceil(c),y1:Math.ceil(e),y2:Math.ceil(f)})})};c.updateSizes=function(){var b=this.config,a=this.legend?this.getLegendHeight():0,d=this.legend?this.getLegendWidth():0,c=this.isLegendRight||this.isLegendInset?0:a,e=this.hasArcType(),f=b.axis_rotated||e?0:this.getHorizontalAxisHeight("x"),h=b.subchart_show&&!e?b.subchart_size_height+f:0;this.currentWidth=this.getCurrentWidth();this.currentHeight=this.getCurrentHeight();this.margin=b.axis_rotated?
{top:this.getHorizontalAxisHeight("y2")+this.getCurrentPaddingTop(),right:e?0:this.getCurrentPaddingRight(),bottom:this.getHorizontalAxisHeight("y")+c+this.getCurrentPaddingBottom(),left:h+(e?0:this.getCurrentPaddingLeft())}:{top:4+this.getCurrentPaddingTop(),right:e?0:this.getCurrentPaddingRight(),bottom:f+h+c+this.getCurrentPaddingBottom(),left:e?0:this.getCurrentPaddingLeft()};this.margin2=b.axis_rotated?{top:this.margin.top,right:NaN,bottom:20+c,left:this.rotated_padding_left}:{top:this.currentHeight-
h-c,right:NaN,bottom:f+c,left:this.margin.left};this.margin3={top:0,right:NaN,bottom:0,left:0};this.updateSizeForLegend&&this.updateSizeForLegend(a,d);this.width=this.currentWidth-this.margin.left-this.margin.right;this.height=this.currentHeight-this.margin.top-this.margin.bottom;0>this.width&&(this.width=0);0>this.height&&(this.height=0);this.width2=b.axis_rotated?this.margin.left-this.rotated_padding_left-this.rotated_padding_right:this.width;this.height2=b.axis_rotated?this.height:this.currentHeight-
this.margin2.top-this.margin2.bottom;0>this.width2&&(this.width2=0);0>this.height2&&(this.height2=0);this.arcWidth=this.width-(this.isLegendRight?d+10:0);this.arcHeight=this.height-(this.isLegendRight?0:10);this.hasType("gauge")&&(this.arcHeight+=this.height-this.getGaugeLabelHeight());this.updateRadius&&this.updateRadius();this.isLegendRight&&e&&(this.margin3.left=this.arcWidth/2+1.1*this.radiusExpanded)};c.updateTargets=function(b){var a=this,d=a.config;a.updateTargetsForText(b);a.updateTargetsForBar(b);
a.updateTargetsForLine(b);a.updateTargetsForArc&&a.updateTargetsForArc(b);a.updateTargetsForSubchart&&a.updateTargetsForSubchart(b);a.svg.selectAll("."+h.target).filter(function(b){return a.isTargetToShow(b.id)}).transition().duration(d.transition_duration).style("opacity",1)};c.redraw=function(b,a){var d=this,c=d.main,e=d.d3,f=d.config,r=d.getShapeIndices(d.isAreaType),m=d.getShapeIndices(d.isBarType),n=d.getShapeIndices(d.isLineType),p,w,z,t,u,x,A,V,E,H,G,L,N=d.hasArcType(),J,O,X,k,ga,W,P,R,ja=
d.filterTargetsToShow(d.data.targets),la,Z,wa,Ra=d.xv.bind(d),Aa,qa;b=b||{};p=I(b,"withY",!0);w=I(b,"withSubchart",!0);z=I(b,"withTransition",!0);x=I(b,"withTransform",!1);A=I(b,"withUpdateXDomain",!1);V=I(b,"withUpdateOrgXDomain",!1);E=I(b,"withTrimXDomain",!0);H=I(b,"withLegend",!1);G=I(b,"withEventRect",!0);L=I(b,"withDimension",!0);t=I(b,"withTransitionForExit",z);u=I(b,"withTransitionForAxis",z);W=z?f.transition_duration:0;t=t?W:0;a=a||d.generateAxisTransitions(u?W:0);H&&f.legend_show?d.updateLegend(d.mapToIds(d.data.targets),
b,a):L&&d.updateDimension(!0);d.isCategorized()&&0===ja.length&&d.x.domain([0,d.axes.x.selectAll(".tick").size()]);ja.length?(d.updateXDomain(ja,A,V,E),f.axis_x_tick_values||(la=f.axis_x_tick_fit||f.axis_x_tick_count?d.generateTickValues(d.mapTargetsToUniqueXs(ja),f.axis_x_tick_count,d.isTimeSeries()):void 0,d.xAxis.tickValues(la),d.subXAxis.tickValues(la))):(d.xAxis.tickValues([]),d.subXAxis.tickValues([]));f.zoom_rescale&&!b.flow&&(wa=d.x.orgDomain());d.y.domain(d.getYDomain(ja,"y",wa));d.y2.domain(d.getYDomain(ja,
"y2",wa));!f.axis_y_tick_values&&f.axis_y_tick_count&&d.yAxis.tickValues(d.generateTickValues(d.y.domain(),f.axis_y_tick_count));!f.axis_y2_tick_values&&f.axis_y2_tick_count&&d.y2Axis.tickValues(d.generateTickValues(d.y2.domain(),f.axis_y2_tick_count));d.redrawAxis(a,N);d.updateAxisLabels(z);if(A&&ja.length)if(f.axis_x_tick_culling&&la){for(z=1;z<la.length;z++)if(la.length/z<f.axis_x_tick_culling_max){Z=z;break}d.svg.selectAll("."+h.axisX+" .tick text").each(function(a){a=la.indexOf(a);0<=a&&e.select(this).style("display",
a%Z?"none":"block")})}else d.svg.selectAll("."+h.axisX+" .tick text").style("display","block");J=d.generateDrawArea?d.generateDrawArea(r,!1):void 0;O=d.generateDrawBar?d.generateDrawBar(m):void 0;X=d.generateDrawLine?d.generateDrawLine(n,!1):void 0;k=d.generateXYForText(r,m,n,!0);ga=d.generateXYForText(r,m,n,!1);p&&(d.subY.domain(d.getYDomain(ja,"y")),d.subY2.domain(d.getYDomain(ja,"y2")));d.tooltip.style("display","none");d.updateXgridFocus();c.select("text."+h.text+"."+h.empty).attr("x",d.width/
2).attr("y",d.height/2).text(f.data_empty_label_text).transition().style("opacity",ja.length?0:1);d.redrawGrid(W);d.redrawRegion(W);d.redrawBar(t);d.redrawLine(t);d.redrawArea(t);d.redrawCircle();d.hasDataLabel()&&d.redrawText(t);d.redrawArc&&d.redrawArc(W,t,x);d.redrawSubchart&&d.redrawSubchart(w,a,W,t,r,m,n);c.selectAll("."+h.selectedCircles).filter(d.isBarType.bind(d)).selectAll("circle").remove();f.interaction_enabled&&!b.flow&&G&&(d.redrawEventRect(),d.updateZoom&&d.updateZoom());d.updateCircleY();
Aa=(d.config.axis_rotated?d.circleY:d.circleX).bind(d);qa=(d.config.axis_rotated?d.circleX:d.circleY).bind(d);e.transition().duration(W).each(function(){var a=[];d.addTransitionForBar(a,O);d.addTransitionForLine(a,X);d.addTransitionForArea(a,J);d.addTransitionForCircle(a,Aa,qa);d.addTransitionForText(a,k,ga,b.flow);d.addTransitionForRegion(a);d.addTransitionForGrid(a);b.flow&&(P=d.generateWait(),a.forEach(function(a){P.add(a)}),R=d.generateFlow({targets:ja,flow:b.flow,duration:W,drawBar:O,drawLine:X,
drawArea:J,cx:Aa,cy:qa,xv:Ra,xForText:k,yForText:ga}))}).call(P||function(){},R||function(){});d.mapToIds(d.data.targets).forEach(function(a){d.withoutFadeIn[a]=!0})};c.updateAndRedraw=function(b){var a=this.config,d;b=b||{};b.withTransition=I(b,"withTransition",!0);b.withTransform=I(b,"withTransform",!1);b.withLegend=I(b,"withLegend",!1);b.withUpdateXDomain=!0;b.withUpdateOrgXDomain=!0;b.withTransitionForExit=!1;b.withTransitionForTransform=I(b,"withTransitionForTransform",b.withTransition);this.updateSizes();
b.withLegend&&a.legend_show||(d=this.generateAxisTransitions(b.withTransitionForAxis?a.transition_duration:0),this.updateScales(),this.updateSvgSize(),this.transformAll(b.withTransitionForTransform,d));this.redraw(b,d)};c.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})};c.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type};c.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")};c.isCustomX=
function(){var b=this.config;return!this.isTimeSeries()&&(b.data_x||P(b.data_xs))};c.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type};c.getTranslate=function(b){var a=this.config,d,c;"main"===b?(d=J(this.margin.left),c=J(this.margin.top)):"context"===b?(d=J(this.margin2.left),c=J(this.margin2.top)):"legend"===b?(d=this.margin3.left,c=this.margin3.top):"x"===b?(d=0,c=a.axis_rotated?0:this.height):"y"===b?(d=0,c=a.axis_rotated?this.height:0):"y2"===b?(d=a.axis_rotated?0:this.width,
c=a.axis_rotated?1:0):"subx"===b?(d=0,c=a.axis_rotated?0:this.height2):"arc"===b&&(d=this.arcWidth/2,c=this.arcHeight/2);return"translate("+d+","+c+")"};c.initialOpacity=function(b){return null!==b.value&&this.withoutFadeIn[b.id]?1:0};c.initialOpacityForCircle=function(b){return null!==b.value&&this.withoutFadeIn[b.id]?this.opacityForCircle(b):0};c.opacityForCircle=function(b){var a=this.config.point_show?1:0;return t(b.value)?this.isScatterType(b)?.5:a:0};c.opacityForText=function(){return this.hasDataLabel()?
1:0};c.xx=function(b){return b?this.x(b.x):null};c.xv=function(b){return Math.ceil(this.x(this.isTimeSeries()?this.parseDate(b.value):b.value))};c.yv=function(b){return Math.ceil((b.axis&&"y2"===b.axis?this.y2:this.y)(b.value))};c.subxx=function(b){return b?this.subX(b.x):null};c.transformMain=function(b,a){var d,c,e;a&&a.axisX?d=a.axisX:(d=this.main.select("."+h.axisX),b&&(d=d.transition()));a&&a.axisY?c=a.axisY:(c=this.main.select("."+h.axisY),b&&(c=c.transition()));a&&a.axisY2?e=a.axisY2:(e=this.main.select("."+
h.axisY2),b&&(e=e.transition()));(b?this.main.transition():this.main).attr("transform",this.getTranslate("main"));d.attr("transform",this.getTranslate("x"));c.attr("transform",this.getTranslate("y"));e.attr("transform",this.getTranslate("y2"));this.main.select("."+h.chartArcs).attr("transform",this.getTranslate("arc"))};c.transformAll=function(b,a){this.transformMain(b,a);this.config.subchart_show&&this.transformContext(b,a);this.legend&&this.transformLegend(b)};c.updateSvgSize=function(){var b=this.svg.select(".c3-brush .background");
this.svg.attr("width",this.currentWidth).attr("height",this.currentHeight);this.svg.selectAll(["#"+this.clipId,"#"+this.clipIdForGrid]).select("rect").attr("width",this.width).attr("height",this.height);this.svg.select("#"+this.clipIdForXAxis).select("rect").attr("x",this.getXAxisClipX.bind(this)).attr("y",this.getXAxisClipY.bind(this)).attr("width",this.getXAxisClipWidth.bind(this)).attr("height",this.getXAxisClipHeight.bind(this));this.svg.select("#"+this.clipIdForYAxis).select("rect").attr("x",
this.getYAxisClipX.bind(this)).attr("y",this.getYAxisClipY.bind(this)).attr("width",this.getYAxisClipWidth.bind(this)).attr("height",this.getYAxisClipHeight.bind(this));this.svg.select("#"+this.clipIdForSubchart).select("rect").attr("width",this.width).attr("height",b.size()?b.attr("height"):0);this.svg.select("."+h.zoomRect).attr("width",this.width).attr("height",this.height);this.selectChart.style("max-height",this.currentHeight+"px")};c.updateDimension=function(b){b||(this.config.axis_rotated?
(this.axes.x.call(this.xAxis),this.axes.subx.call(this.subXAxis)):(this.axes.y.call(this.yAxis),this.axes.y2.call(this.y2Axis)));this.updateSizes();this.updateScales();this.updateSvgSize();this.transformAll(!1)};c.observeInserted=function(b){var a=this,d=new MutationObserver(function(c){c.forEach(function(c){"childList"===c.type&&c.previousSibling&&(d.disconnect(),a.intervalForObserveInserted=p.setInterval(function(){b.node().parentNode&&(p.clearInterval(a.intervalForObserveInserted),a.updateDimension(),
a.config.oninit.call(a),a.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),b.transition().style("opacity",1))},10))})});d.observe(b.node(),{attributes:!0,childList:!0,characterData:!0})};c.generateResize=function(){function b(){a.forEach(function(a){a()})}var a=[];b.add=function(b){a.push(b)};return b};c.endall=function(b,a){var d=0;b.each(function(){++d}).each("end",function(){--d||a.apply(this,arguments)})};c.generateWait=
function(){var b=[],a=function(a,c){var e=setInterval(function(){var a=0;b.forEach(function(b){if(b.empty())a+=1;else try{b.transition()}catch(d){a+=1}});a===b.length&&(clearInterval(e),c&&c())},10)};a.add=function(a){b.push(a)};return a};c.parseDate=function(b){var a;(a=b instanceof Date?b:"number"===typeof b?new Date(b):this.dataTimeFormat(this.config.data_xFormat).parse(b))&&!isNaN(+a)||p.console.error("Failed to parse x '"+b+"' to Date object");return a};c.getDefaultConfig=function(){var b={bindto:"#chart",
size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,
data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},
data_ondragstart:function(){},data_ondragend:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,
legend_item_onmouseout:void 0,legend_equally:!1,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},
axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,
axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,
pie_expand:!0,gauge_label_show:!0,gauge_label_format:void 0,gauge_expand:!0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_expand:!0,donut_title:"",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_contents:function(a,b,c,e){return this.getTooltipContent?this.getTooltipContent(a,b,c,e):""},tooltip_init_show:!1,
tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};Object.keys(this.additionalConfig).forEach(function(a){b[a]=this.additionalConfig[a]},this);return b};c.additionalConfig={};c.loadConfig=function(b){function a(){var b=e.shift();return b&&c&&"object"===typeof c&&b in c?(c=c[b],a()):b?void 0:c}var d=this.config,c,e,f;Object.keys(d).forEach(function(h){c=b;e=h.split("_");f=a();O(f)&&(d[h]=f)})};c.getScale=function(b,a,d){return(d?this.d3.time.scale():this.d3.scale.linear()).range([b,a])};
c.getX=function(b,a,d,c){var e=this.getScale(b,a,this.isTimeSeries()),f=d?e.domain(d):e,h;this.isCategorized()?(c=c||function(){return 0},e=function(a,b){var d=f(a)+c(a);return b?d:Math.ceil(d)}):e=function(a,b){var d=f(a);return b?d:Math.ceil(d)};for(h in f)e[h]=f[h];e.orgDomain=function(){return f.domain()};this.isCategorized()&&(e.domain=function(a){if(!arguments.length)return a=this.orgDomain(),[a[0],a[1]+1];f.domain(a);return e});return e};c.getY=function(b,a,d){b=this.getScale(b,a,this.isTimeSeriesY());
d&&b.domain(d);return b};c.getYScale=function(b){return"y2"===this.getAxisId(b)?this.y2:this.y};c.getSubYScale=function(b){return"y2"===this.getAxisId(b)?this.subY2:this.subY};c.updateScales=function(){var b=this,a=b.config,d=!b.x;b.xMin=a.axis_rotated?1:0;b.xMax=a.axis_rotated?b.height:b.width;b.yMin=a.axis_rotated?0:b.height;b.yMax=a.axis_rotated?b.width:1;b.subXMin=b.xMin;b.subXMax=b.xMax;b.subYMin=a.axis_rotated?0:b.height2;b.subYMax=a.axis_rotated?b.width2:1;b.x=b.getX(b.xMin,b.xMax,d?void 0:
b.x.orgDomain(),function(){return b.xAxis.tickOffset()});b.y=b.getY(b.yMin,b.yMax,d?a.axis_y_default:b.y.domain());b.y2=b.getY(b.yMin,b.yMax,d?a.axis_y2_default:b.y2.domain());b.subX=b.getX(b.xMin,b.xMax,b.orgXDomain,function(a){return a%1?0:b.subXAxis.tickOffset()});b.subY=b.getY(b.subYMin,b.subYMax,d?a.axis_y_default:b.subY.domain());b.subY2=b.getY(b.subYMin,b.subYMax,d?a.axis_y2_default:b.subY2.domain());b.xAxisTickFormat=b.getXAxisTickFormat();b.xAxisTickValues=b.getXAxisTickValues();b.yAxisTickValues=
b.getYAxisTickValues();b.y2AxisTickValues=b.getY2AxisTickValues();b.xAxis=b.getXAxis(b.x,b.xOrient,b.xAxisTickFormat,b.xAxisTickValues,a.axis_x_tick_outer);b.subXAxis=b.getXAxis(b.subX,b.subXOrient,b.xAxisTickFormat,b.xAxisTickValues,a.axis_x_tick_outer);b.yAxis=b.getYAxis(b.y,b.yOrient,a.axis_y_tick_format,b.yAxisTickValues,a.axis_y_tick_outer);b.y2Axis=b.getYAxis(b.y2,b.y2Orient,a.axis_y2_tick_format,b.y2AxisTickValues,a.axis_y2_tick_outer);d||(b.brush&&b.brush.scale(b.subX),a.zoom_enabled&&b.zoom.scale(b.x));
b.updateArc&&b.updateArc()};c.getYDomainMin=function(b){var a=this,d=a.config,c=a.mapToIds(b),e=a.getValuesAsIdKeyed(b),f,h,m,n,p;if(0<d.data_groups.length)for(p=a.hasNegativeValueInTargets(b),b=0;b<d.data_groups.length;b++)if(m=d.data_groups[b].filter(function(a){return 0<=c.indexOf(a)}),0!==m.length)for(h=m[0],p&&e[h]&&e[h].forEach(function(a,b){e[h][b]=0>a?a:0}),f=1;f<m.length;f++)n=m[f],e[n]&&e[n].forEach(function(b,d){a.getAxisId(n)!==a.getAxisId(h)||!e[h]||p&&0<+b||(e[h][d]+=+b)});return a.d3.min(Object.keys(e).map(function(b){return a.d3.min(e[b])}))};
c.getYDomainMax=function(b){var a=this,d=a.config,c=a.mapToIds(b),e=a.getValuesAsIdKeyed(b),f,h,m,n,p;if(0<d.data_groups.length)for(p=a.hasPositiveValueInTargets(b),b=0;b<d.data_groups.length;b++)if(m=d.data_groups[b].filter(function(a){return 0<=c.indexOf(a)}),0!==m.length)for(h=m[0],p&&e[h]&&e[h].forEach(function(a,b){e[h][b]=0<a?a:0}),f=1;f<m.length;f++)n=m[f],e[n]&&e[n].forEach(function(b,d){a.getAxisId(n)!==a.getAxisId(h)||!e[h]||p&&0>+b||(e[h][d]+=+b)});return a.d3.max(Object.keys(e).map(function(b){return a.d3.max(e[b])}))};
c.getYDomain=function(b,a,d){var c=this,e=c.config;b=b.filter(function(b){return c.getAxisId(b.id)===a});var f=d?c.filterByXDomain(b,d):b,h="y2"===a?e.axis_y2_min:e.axis_y_min,m="y2"===a?e.axis_y2_max:e.axis_y_max,n=t(h)?h:c.getYDomainMin(f);d=t(m)?m:c.getYDomainMax(f);var p,w,z="y2"===a?e.axis_y2_center:e.axis_y_center,u,x;b=c.hasType("bar",f)&&e.bar_zerobased||c.hasType("area",f)&&e.area_zerobased;u=c.hasDataLabel()&&e.axis_rotated;var A=c.hasDataLabel()&&!e.axis_rotated;d<n&&(t(h)?d=n+10:n=d-10);
if(0===f.length)return"y2"===a?c.y2.domain():c.y.domain();isNaN(n)&&(n=0);isNaN(d)&&(d=n);n===d&&(0>n?d=0:n=0);f=0<=n&&0<=d;x=0>=n&&0>=d;if(t(h)&&f||t(m)&&x)b=!1;b&&(f&&(n=0),x&&(d=0));h=Math.abs(d-n);m=p=w=.1*h;z&&(n=Math.max(Math.abs(n),Math.abs(d)),d=n-z,n=z-n);u?(z=c.getDataLabelLength(n,d,a,"width"),u=L(c.y.range()),z=[z[0]/u,z[1]/u],p+=z[1]/(1-z[0]-z[1])*h,w+=z[0]/(1-z[0]-z[1])*h):A&&(z=c.getDataLabelLength(n,d,a,"height"),p+=z[1],w+=z[0]);"y"===a&&P(e.axis_y_padding)&&(p=c.getAxisPadding(e.axis_y_padding,
"top",m,h),w=c.getAxisPadding(e.axis_y_padding,"bottom",m,h));"y2"===a&&P(e.axis_y2_padding)&&(p=c.getAxisPadding(e.axis_y2_padding,"top",m,h),w=c.getAxisPadding(e.axis_y2_padding,"bottom",m,h));b&&(f&&(w=n),x&&(p=-d));return[n-w,d+p]};c.getXDomainMin=function(b){var a=this,d=a.config;return O(d.axis_x_min)?a.isTimeSeries()?this.parseDate(d.axis_x_min):d.axis_x_min:a.d3.min(b,function(b){return a.d3.min(b.values,function(a){return a.x})})};c.getXDomainMax=function(b){var a=this,d=a.config;return O(d.axis_x_max)?
a.isTimeSeries()?this.parseDate(d.axis_x_max):d.axis_x_max:a.d3.max(b,function(b){return a.d3.max(b.values,function(a){return a.x})})};c.getXDomainPadding=function(b){var a=this.config;b=b[1]-b[0];var d,c;this.isCategorized()?b=0:this.hasType("bar")?(d=this.getMaxDataCount(),b=1<d?b/(d-1)/2:.5):b*=.01;"object"===typeof a.axis_x_padding&&P(a.axis_x_padding)?(d=t(a.axis_x_padding.left)?a.axis_x_padding.left:b,c=t(a.axis_x_padding.right)?a.axis_x_padding.right:b):d="number"===typeof a.axis_x_padding?
c=a.axis_x_padding:c=b;return{left:d,right:c}};c.getXDomain=function(b){var a=[this.getXDomainMin(b),this.getXDomainMax(b)];b=a[0];var d=a[1],a=this.getXDomainPadding(a),c=0,e=0;0!==b-d||this.isCategorized()||(this.isTimeSeries()?(b=new Date(.5*b.getTime()),d=new Date(1.5*d.getTime())):(b=0===b?1:.5*b,d=0===d?-1:1.5*d));if(b||0===b)c=this.isTimeSeries()?new Date(b.getTime()-a.left):b-a.left;if(d||0===d)e=this.isTimeSeries()?new Date(d.getTime()+a.right):d+a.right;return[c,e]};c.updateXDomain=function(b,
a,d,c,e){var f=this.config;d&&(this.x.domain(e?e:this.d3.extent(this.getXDomain(b))),this.orgXDomain=this.x.domain(),f.zoom_enabled&&this.zoom.scale(this.x).updateScaleExtent(),this.subX.domain(this.x.domain()),this.brush&&this.brush.scale(this.subX));a&&(this.x.domain(e?e:!this.brush||this.brush.empty()?this.orgXDomain:this.brush.extent()),f.zoom_enabled&&this.zoom.scale(this.x).updateScaleExtent());c&&this.x.domain(this.trimXDomain(this.x.orgDomain()));return this.x.domain()};c.trimXDomain=function(b){b[0]<=
this.orgXDomain[0]&&(b[1]=+b[1]+(this.orgXDomain[0]-b[0]),b[0]=this.orgXDomain[0]);this.orgXDomain[1]<=b[1]&&(b[0]=+b[0]-(b[1]-this.orgXDomain[1]),b[1]=this.orgXDomain[1]);return b};c.isX=function(b){var a=this.config;return a.data_x&&b===a.data_x||P(a.data_xs)&&R(a.data_xs,b)};c.isNotX=function(b){return!this.isX(b)};c.getXKey=function(b){var a=this.config;return a.data_x?a.data_x:P(a.data_xs)?a.data_xs[b]:null};c.getXValuesOfXKey=function(b,a){var d=this,c;(a&&P(a)?d.mapToIds(a):[]).forEach(function(a){d.getXKey(a)===
b&&(c=d.data.xs[a])});return c};c.getIndexByX=function(b){b=this.filterByX(this.data.targets,b);return b.length?b[0].index:null};c.getXValue=function(b,a){return b in this.data.xs&&this.data.xs[b]&&t(this.data.xs[b][a])?this.data.xs[b][a]:a};c.getOtherTargetXs=function(){var b=Object.keys(this.data.xs);return b.length?this.data.xs[b[0]]:null};c.getOtherTargetX=function(b){var a=this.getOtherTargetXs();return a&&b<a.length?a[b]:null};c.addXs=function(b){var a=this;Object.keys(b).forEach(function(d){a.config.data_xs[d]=
b[d]})};c.hasMultipleX=function(b){return 1<this.d3.set(Object.keys(b).map(function(a){return b[a]})).size()};c.isMultipleX=function(){return P(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")};c.addName=function(b){var a;b&&(a=this.config.data_names[b.id],b.name=a?a:b.id);return b};c.getValueOnIndex=function(b,a){var d=b.filter(function(b){return b.index===a});return d.length?d[0]:null};c.updateTargetX=function(b,a){var d=this;b.forEach(function(b){b.values.forEach(function(c,
e){c.x=d.generateTargetX(a[e],b.id,e)});d.data.xs[b.id]=a})};c.updateTargetXs=function(b,a){var d=this;b.forEach(function(b){a[b.id]&&d.updateTargetX([b],a[b.id])})};c.generateTargetX=function(b,a,d){return this.isTimeSeries()?b?this.parseDate(b):this.parseDate(this.getXValue(a,d)):this.isCustomX()&&!this.isCategorized()?t(b)?+b:this.getXValue(a,d):d};c.cloneTarget=function(b){return{id:b.id,id_org:b.id_org,values:b.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}};c.updateXs=function(){var b=
this;b.data.targets.length&&(b.xs=[],b.data.targets[0].values.forEach(function(a){b.xs[a.index]=a.x}))};c.getPrevX=function(b){b=this.xs[b-1];return"undefined"!==typeof b?b:null};c.getNextX=function(b){b=this.xs[b+1];return"undefined"!==typeof b?b:null};c.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(b){return b.values.length})};c.getMaxDataCountTarget=function(b){var a=b.length,d=0,c;1<a?b.forEach(function(a){a.values.length>d&&(c=a,d=a.values.length)}):c=a?b[0]:null;return c};
c.getEdgeX=function(b){return b.length?[this.d3.min(b,function(a){return a.values[0].x}),this.d3.max(b,function(a){return a.values[a.values.length-1].x})]:[0,0]};c.mapToIds=function(b){return b.map(function(a){return a.id})};c.mapToTargetIds=function(b){return b?m(b)?[b]:b:this.mapToIds(this.data.targets)};c.hasTarget=function(b,a){var d=this.mapToIds(b),c;for(c=0;c<d.length;c++)if(d[c]===a)return!0;return!1};c.isTargetToShow=function(b){return 0>this.hiddenTargetIds.indexOf(b)};c.isLegendToShow=
function(b){return 0>this.hiddenLegendIds.indexOf(b)};c.filterTargetsToShow=function(b){var a=this;return b.filter(function(b){return a.isTargetToShow(b.id)})};c.mapTargetsToUniqueXs=function(b){b=this.d3.set(this.d3.merge(b.map(function(a){return a.values.map(function(a){return+a.x})}))).values();return this.isTimeSeries()?b.map(function(a){return new Date(+a)}):b.map(function(a){return+a})};c.addHiddenTargetIds=function(b){this.hiddenTargetIds=this.hiddenTargetIds.concat(b)};c.removeHiddenTargetIds=
function(b){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(a){return 0>b.indexOf(a)})};c.addHiddenLegendIds=function(b){this.hiddenLegendIds=this.hiddenLegendIds.concat(b)};c.removeHiddenLegendIds=function(b){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(a){return 0>b.indexOf(a)})};c.getValuesAsIdKeyed=function(b){var a={};b.forEach(function(b){a[b.id]=[];b.values.forEach(function(c){a[b.id].push(c.value)})});return a};c.checkValueInTargets=function(b,a){var d=Object.keys(b),
c,e,f;for(c=0;c<d.length;c++)for(f=b[d[c]].values,e=0;e<f.length;e++)if(a(f[e].value))return!0;return!1};c.hasNegativeValueInTargets=function(b){return this.checkValueInTargets(b,function(a){return 0>a})};c.hasPositiveValueInTargets=function(b){return this.checkValueInTargets(b,function(a){return 0<a})};c.isOrderDesc=function(){var b=this.config;return"string"===typeof b.data_order&&"desc"===b.data_order.toLowerCase()};c.isOrderAsc=function(){var b=this.config;return"string"===typeof b.data_order&&
"asc"===b.data_order.toLowerCase()};c.orderTargets=function(b){var a=this.config,d=this.isOrderAsc(),c=this.isOrderDesc();d||c?b.sort(function(a,b){var c=function(a,b){return a+Math.abs(b.value)},e=a.values.reduce(c,0),c=b.values.reduce(c,0);return d?c-e:e-c}):x(a.data_order)&&b.sort(a.data_order);return b};c.filterByX=function(b,a){return this.d3.merge(b.map(function(a){return a.values})).filter(function(b){return 0===b.x-a})};c.filterRemoveNull=function(b){return b.filter(function(a){return t(a.value)})};
c.filterByXDomain=function(b,a){return b.map(function(b){return{id:b.id,id_org:b.id_org,values:b.values.filter(function(b){return a[0]<=b.x&&b.x<=a[1]})}})};c.hasDataLabel=function(){var b=this.config;return"boolean"===typeof b.data_labels&&b.data_labels||"object"===typeof b.data_labels&&P(b.data_labels)?!0:!1};c.getDataLabelLength=function(b,a,d,c){var e=this,f=[0,0];e.selectChart.select("svg").selectAll(".dummy").data([b,a]).enter().append("text").text(function(a){return e.formatByAxisId(d)(a)}).each(function(a,
b){f[b]=1.3*this.getBoundingClientRect()[c]}).remove();return f};c.isNoneArc=function(b){return this.hasTarget(this.data.targets,b.id)};c.isArc=function(b){return"data"in b&&this.hasTarget(this.data.targets,b.data.id)};c.findSameXOfValues=function(b,a){var d,c=b[a].x,e=[];for(d=a-1;0<=d&&c===b[d].x;d--)e.push(b[d]);for(d=a;d<b.length&&c===b[d].x;d++)e.push(b[d]);return e};c.findClosestFromTargets=function(b,a){var d=this,c;c=b.map(function(b){return d.findClosest(b.values,a)});return d.findClosest(c,
a)};c.findClosest=function(b,a){var d=this,c=100,e;b.filter(function(a){return a&&d.isBarType(a.id)}).forEach(function(a){var b=d.d3.select("."+h.bars+d.getTargetSelectorSuffix(a.id)+" ."+h.bar+"-"+a.index).node();d.isWithinBar(b)&&(e=a)});b.filter(function(a){return a&&!d.isBarType(a.id)}).forEach(function(b){var f=d.dist(b,a);f<c&&(c=f,e=b)});return e};c.dist=function(b,a){var d=this.config,c=d.axis_rotated?1:0,d=d.axis_rotated?0:1,e=this.circleY(b,b.index),f=this.x(b.x);return Math.pow(f-a[c],
2)+Math.pow(e-a[d],2)};c.convertValuesToStep=function(b){var a=[].concat(b),d;if(!this.isCategorized())return b;for(d=b.length+1;0<d;d--)a[d]=a[d-1];a[0]={x:a[0].x-1,value:a[0].value,id:a[0].id};a[b.length+1]={x:a[b.length].x+1,value:a[b.length].value,id:a[b.length].id};return a};c.updateDataAttributes=function(b,a){var d=this.config["data_"+b];if("undefined"===typeof a)return d;Object.keys(a).forEach(function(b){d[b]=a[b]});this.redraw({withLegend:!0});return d};c.convertUrlToData=function(b,a,d,
c){var e=this,f=a?a:"csv";e.d3.xhr(b,function(a,b){var h;h="json"===f?e.convertJsonToData(JSON.parse(b.response),d):"tsv"===f?e.convertTsvToData(b.response):e.convertCsvToData(b.response);c.call(e,h)})};c.convertXsvToData=function(b,a){var d=a.parseRows(b),c;1===d.length?(c=[{}],d[0].forEach(function(a){c[0][a]=null})):c=a.parse(b);return c};c.convertCsvToData=function(b){return this.convertXsvToData(b,this.d3.csv)};c.convertTsvToData=function(b){return this.convertXsvToData(b,this.d3.tsv)};c.convertJsonToData=
function(b,a){var d=[],c,e;a?(c=a.value,a.x&&(c.push(a.x),this.config.data_x=a.x),d.push(c),b.forEach(function(a){var b=[];c.forEach(function(d){d=A(a[d])?null:a[d];b.push(d)});d.push(b)}),e=this.convertRowsToData(d)):(Object.keys(b).forEach(function(a){d.push([a].concat(b[a]))}),e=this.convertColumnsToData(d));return e};c.convertRowsToData=function(b){var a=b[0],d={},c=[],e,f;for(e=1;e<b.length;e++){d={};for(f=0;f<b[e].length;f++){if(A(b[e][f]))throw Error("Source data is missing a component at ("+
e+","+f+")!");d[a[f]]=b[e][f]}c.push(d)}return c};c.convertColumnsToData=function(b){var a=[],d,c,e;for(d=0;d<b.length;d++)for(e=b[d][0],c=1;c<b[d].length;c++){A(a[c-1])&&(a[c-1]={});if(A(b[d][c]))throw Error("Source data is missing a component at ("+d+","+c+")!");a[c-1][e]=b[d][c]}return a};c.convertDataToTargets=function(b,a){var d=this,c=d.config,e=d.d3.keys(b[0]).filter(d.isNotX,d),f=d.d3.keys(b[0]).filter(d.isX,d);e.forEach(function(e){var l=d.getXKey(e);d.isCustomX()||d.isTimeSeries()?0<=f.indexOf(l)?
d.data.xs[e]=(a&&d.data.xs[e]?d.data.xs[e]:[]).concat(b.map(function(a){return a[l]}).filter(t).map(function(a,b){return d.generateTargetX(a,e,b)})):c.data_x?d.data.xs[e]=d.getOtherTargetXs():P(c.data_xs)&&(d.data.xs[e]=d.getXValuesOfXKey(l,d.data.targets)):d.data.xs[e]=b.map(function(a,b){return b})});e.forEach(function(a){if(!d.data.xs[a])throw Error('x is not defined for id = "'+a+'".');});e=e.map(function(a,e){var f=c.data_idConverter(a);return{id:f,id_org:a,values:b.map(function(b,l){var h=d.getXKey(a),
h=b[h],q=d.generateTargetX(h,a,l);d.isCustomX()&&d.isCategorized()&&0===e&&h&&(0===l&&(c.axis_x_categories=[]),c.axis_x_categories.push(h));if(A(b[a])||d.data.xs[a].length<=l)q=void 0;return{x:q,value:null===b[a]||isNaN(b[a])?null:+b[a],id:f}}).filter(function(a){return O(a.x)})}});e.forEach(function(a){var b;c.data_xSort&&(a.values=a.values.sort(function(a,b){return(a.x||0===a.x?a.x:Infinity)-(b.x||0===b.x?b.x:Infinity)}));b=0;a.values.forEach(function(a){a.index=b++});d.data.xs[a.id].sort(function(a,
b){return a-b})});c.data_type&&d.setTargetType(d.mapToIds(e).filter(function(a){return!(a in c.data_types)}),c.data_type);e.forEach(function(a){d.addCache(a.id_org,a)});return e};c.load=function(b,a){var d=this;b&&(a.filter&&(b=b.filter(a.filter)),(a.type||a.types)&&b.forEach(function(b){d.setTargetType(b.id,a.types?a.types[b.id]:a.type)}),d.data.targets.forEach(function(a){for(var d=0;d<b.length;d++)if(a.id===b[d].id){a.values=b[d].values;b.splice(d,1);break}}),d.data.targets=d.data.targets.concat(b));
d.updateTargets(d.data.targets);d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0});a.done&&a.done()};c.loadFromArgs=function(b){var a=this;b.data?a.load(a.convertDataToTargets(b.data),b):b.url?a.convertUrlToData(b.url,b.mimeType,b.keys,function(d){a.load(a.convertDataToTargets(d),b)}):b.json?a.load(a.convertDataToTargets(a.convertJsonToData(b.json,b.keys)),b):b.rows?a.load(a.convertDataToTargets(a.convertRowsToData(b.rows)),b):b.columns?a.load(a.convertDataToTargets(a.convertColumnsToData(b.columns)),
b):a.load(null,b)};c.unload=function(b,a){var d=this;a||(a=function(){});(b=b.filter(function(a){return d.hasTarget(d.data.targets,a)}))&&0!==b.length?(d.svg.selectAll(b.map(function(a){return d.selectorTarget(a)})).transition().style("opacity",0).remove().call(d.endall,a),b.forEach(function(a){d.withoutFadeIn[a]=!1;d.legend&&d.legend.selectAll("."+h.legendItem+d.getTargetSelectorSuffix(a)).remove();d.data.targets=d.data.targets.filter(function(b){return b.id!==a})})):a()};c.categoryName=function(b){var a=
this.config;return b<a.axis_x_categories.length?a.axis_x_categories[b]:b};c.initEventRect=function(){this.main.select("."+h.chart).append("g").attr("class",h.eventRects).style("fill-opacity",0)};c.redrawEventRect=function(){var b=this.config,a;a=this.isMultipleX();b=this.main.select("."+h.eventRects).style("cursor",b.zoom_enabled?b.axis_rotated?"ns-resize":"ew-resize":null).classed(h.eventRectsMultiple,a).classed(h.eventRectsSingle,!a);b.selectAll("."+h.eventRect).remove();this.eventRect=b.selectAll("."+
h.eventRect);a?(a=this.eventRect.data([0]),this.generateEventRectsForMultipleXs(a.enter()),this.updateEventRect(a)):(a=this.getMaxDataCountTarget(this.data.targets),b.datum(a?a.values:[]),this.eventRect=b.selectAll("."+h.eventRect),a=this.eventRect.data(function(a){return a}),this.generateEventRectsForSingleX(a.enter()),this.updateEventRect(a),a.exit().remove())};c.updateEventRect=function(b){var a=this,d=a.config,c,e,f,h,m;b=b||a.eventRect.data(function(a){return a});a.isMultipleX()?(e=c=0,f=a.width,
h=a.height):(!a.isCustomX()&&!a.isTimeSeries()||a.isCategorized()?(m=a.getEventRectWidth(),e=function(b){return a.x(b.x)-m/2}):(a.updateXs(),m=function(b){var c=a.getPrevX(b.index);b=a.getNextX(b.index);if(null===c&&null===b)return d.axis_rotated?a.height:a.width;null===c&&(c=a.x.domain()[0]);null===b&&(b=a.x.domain()[1]);return Math.max(0,(a.x(b)-a.x(c))/2)},e=function(b){var d=a.getPrevX(b.index),c=a.getNextX(b.index);b=a.data.xs[b.id][b.index];if(null===d&&null===c)return 0;null===d&&(d=a.x.domain()[0]);
return(a.x(b)+a.x(d))/2}),c=d.axis_rotated?0:e,e=d.axis_rotated?e:0,f=d.axis_rotated?a.width:m,h=d.axis_rotated?m:a.height);b.attr("class",a.classEvent.bind(a)).attr("x",c).attr("y",e).attr("width",f).attr("height",h)};c.generateEventRectsForSingleX=function(b){var a=this,d=a.d3,c=a.config;b.append("rect").attr("class",a.classEvent.bind(a)).style("cursor",c.data_selection_enabled&&c.data_selection_grouped?"pointer":null).on("mouseover",function(b){var d=b.index,e,f;a.dragging||a.flowing||a.hasArcType()||
(e=a.data.targets.map(function(b){return a.addName(a.getValueOnIndex(b.values,d))}),f=[],Object.keys(c.data_names).forEach(function(a){for(var b=0;b<e.length;b++)if(e[b]&&e[b].id===a){f.push(e[b]);e.shift(b);break}}),e=f.concat(e),c.point_focus_expand_enabled&&a.expandCircles(d,null,!0),a.expandBars(d,null,!0),a.main.selectAll("."+h.shape+"-"+d).each(function(b){c.data_onmouseover.call(a,b)}))}).on("mouseout",function(b){b=b.index;a.hasArcType()||(a.hideXGridFocus(),a.hideTooltip(),a.unexpandCircles(),
a.unexpandBars(),a.main.selectAll("."+h.shape+"-"+b).each(function(b){c.data_onmouseout.call(a,b)}))}).on("mousemove",function(b){var e=b.index,f=a.svg.select("."+h.eventRect+"-"+e);a.dragging||a.flowing||a.hasArcType()||(a.isStepType(b)&&"step-after"===a.config.line_step_type&&d.mouse(this)[0]<a.x(a.getXValue(b.id,e))&&(e-=1),b=a.filterTargetsToShow(a.data.targets).map(function(b){return a.addName(a.getValueOnIndex(b.values,e))}),c.tooltip_grouped&&(a.showTooltip(b,d.mouse(this)),a.showXGridFocus(b)),
(!c.tooltip_grouped||c.data_selection_enabled&&!c.data_selection_grouped)&&a.main.selectAll("."+h.shape+"-"+e).each(function(){d.select(this).classed(h.EXPANDED,!0);c.data_selection_enabled&&f.style("cursor",c.data_selection_grouped?"pointer":null);c.tooltip_grouped||(a.hideXGridFocus(),a.hideTooltip(),c.data_selection_grouped||(a.unexpandCircles(e),a.unexpandBars(e)))}).filter(function(b){return a.isWithinShape(this,b)}).each(function(b){c.data_selection_enabled&&(c.data_selection_grouped||c.data_selection_isselectable(b))&&
f.style("cursor","pointer");c.tooltip_grouped||(a.showTooltip([b],d.mouse(this)),a.showXGridFocus([b]),c.point_focus_expand_enabled&&a.expandCircles(e,b.id,!0),a.expandBars(e,b.id,!0))}))}).on("click",function(b){var e=b.index;!a.hasArcType()&&a.toggleShape&&(a.cancelClick?a.cancelClick=!1:(a.isStepType(b)&&"step-after"===c.line_step_type&&d.mouse(this)[0]<a.x(a.getXValue(b.id,e))&&(e-=1),a.main.selectAll("."+h.shape+"-"+e).each(function(b){if(c.data_selection_grouped||a.isWithinShape(this,b))a.toggleShape(this,
b,e),a.config.data_onclick.call(a.api,b,this)})))}).call(d.behavior.drag().origin(Object).on("drag",function(){a.drag(d.mouse(this))}).on("dragstart",function(){a.dragstart(d.mouse(this))}).on("dragend",function(){a.dragend()}))};c.generateEventRectsForMultipleXs=function(b){function a(){d.svg.select("."+h.eventRect).style("cursor",null);d.hideXGridFocus();d.hideTooltip();d.unexpandCircles();d.unexpandBars()}var d=this,c=d.d3,e=d.config;b.append("rect").attr("x",0).attr("y",0).attr("width",d.width).attr("height",
d.height).attr("class",h.eventRect).on("mouseout",function(){d.hasArcType()||a()}).on("mousemove",function(){var b=d.filterTargetsToShow(d.data.targets),f,m;if(!d.dragging&&!d.hasArcType(b))if(f=c.mouse(this),m=d.findClosestFromTargets(b,f),!d.mouseover||m&&m.id===d.mouseover.id||(e.data_onmouseout.call(d,d.mouseover),d.mouseover=void 0),m){if(b=d.isScatterType(m)||!e.tooltip_grouped?[m]:d.filterByX(b,m.x),b=b.map(function(a){return d.addName(a)}),d.showTooltip(b,f),e.point_focus_expand_enabled&&
d.expandCircles(m.index,m.id,!0),d.expandBars(m.index,m.id,!0),d.showXGridFocus(b),d.isBarType(m.id)||100>d.dist(m,f))d.svg.select("."+h.eventRect).style("cursor","pointer"),d.mouseover||(e.data_onmouseover.call(d,m),d.mouseover=m)}else a()}).on("click",function(){var a=d.filterTargetsToShow(d.data.targets),b,f;d.hasArcType(a)||(b=c.mouse(this),(f=d.findClosestFromTargets(a,b))&&(d.isBarType(f.id)||100>d.dist(f,b))&&d.main.selectAll("."+h.shapes+d.getTargetSelectorSuffix(f.id)).select("."+h.shape+
"-"+f.index).each(function(){if(e.data_selection_grouped||d.isWithinShape(this,f))d.toggleShape(this,f,f.index),d.config.data_onclick.call(d.api,f,this)}))}).call(c.behavior.drag().origin(Object).on("drag",function(){d.drag(c.mouse(this))}).on("dragstart",function(){d.dragstart(c.mouse(this))}).on("dragend",function(){d.dragend()}))};c.dispatchEvent=function(b,a,d){a="."+h.eventRect+(this.isMultipleX()?"":"-"+a);a=this.main.select(a).node();var c=a.getBoundingClientRect(),e=c.left+(d?d[0]:0);d=c.top+
(d?d[1]:0);c=document.createEvent("MouseEvents");c.initMouseEvent(b,!0,!0,p,0,e,d,e,d,!1,!1,!1,!1,0,null);a.dispatchEvent(c)};c.getCurrentWidth=function(){var b=this.config;return b.size_width?b.size_width:this.getParentWidth()};c.getCurrentHeight=function(){var b=this.config,b=b.size_height?b.size_height:this.getParentHeight();return 0<b?b:320/(this.hasType("gauge")?2:1)};c.getCurrentPaddingTop=function(){var b=this.config;return t(b.padding_top)?b.padding_top:0};c.getCurrentPaddingBottom=function(){var b=
this.config;return t(b.padding_bottom)?b.padding_bottom:0};c.getCurrentPaddingLeft=function(b){var a=this.config;return t(a.padding_left)?a.padding_left:a.axis_rotated?a.axis_x_show?Math.max(N(this.getAxisWidthByAxisId("x",b)),40):1:!a.axis_y_show||a.axis_y_inner?this.getYAxisLabelPosition().isOuter?30:1:N(this.getAxisWidthByAxisId("y",b))};c.getCurrentPaddingRight=function(){var b=this.config,a=this.isLegendRight?this.getLegendWidth()+20:0;return t(b.padding_right)?b.padding_right+1:b.axis_rotated?
10+a:!b.axis_y2_show||b.axis_y2_inner?10+a+(this.getY2AxisLabelPosition().isOuter?20:0):N(this.getAxisWidthByAxisId("y2"))+a};c.getParentRectValue=function(b){for(var a=this.selectChart.node(),d;a&&"BODY"!==a.tagName&&!(d=a.getBoundingClientRect()[b]);)a=a.parentNode;return d};c.getParentWidth=function(){return this.getParentRectValue("width")};c.getParentHeight=function(){var b=this.selectChart.style("height");return 0<b.indexOf("px")?+b.replace("px",""):0};c.getSvgLeft=function(b){var a=this.main.select("."+
(this.config.axis_rotated?h.axisX:h.axisY)).node(),a=a?a.getBoundingClientRect():{right:0},d=this.selectChart.node().getBoundingClientRect(),c=this.hasArcType();b=a.right-d.left-(c?0:this.getCurrentPaddingLeft(b));return 0<b?b:0};c.getAxisWidthByAxisId=function(b,a){var d=this.getAxisLabelPositionById(b);return this.getMaxTickWidth(b,a)+(d.isInner?20:40)};c.getHorizontalAxisHeight=function(b){var a=this.config,d=30;if("x"===b&&!a.axis_x_show)return 8;if("x"===b&&a.axis_x_height)return a.axis_x_height;
if("y"===b&&!a.axis_y_show)return!a.legend_show||this.isLegendRight||this.isLegendInset?1:10;if("y2"===b&&!a.axis_y2_show)return this.rotated_padding_top;"x"===b&&!a.axis_rotated&&a.axis_x_tick_rotate&&(d=this.getMaxTickWidth(b)*Math.cos(Math.PI*(90-a.axis_x_tick_rotate)/180));return d+(this.getAxisLabelPositionById(b).isInner?0:10)+("y2"===b?-10:0)};c.getEventRectWidth=function(){var b=this.getMaxDataCountTarget(this.data.targets),a,d;if(!b)return 0;a=b.values[0];b=this.x(b.values[b.values.length-
1].x)-this.x(a.x);if(0===b)return this.config.axis_rotated?this.height:this.width;a=this.getMaxDataCount();d=this.hasType("bar")?(a-(this.isCategorized()?.25:1))/a:1;b=1<a?b*d/(a-1):b;return 1>b?1:b};c.getShapeIndices=function(b){var a=this.config,d={},c=0,e,f;this.filterTargetsToShow(this.data.targets.filter(b,this)).forEach(function(b){for(e=0;e<a.data_groups.length;e++)if(!(0>a.data_groups[e].indexOf(b.id)))for(f=0;f<a.data_groups[e].length;f++)if(a.data_groups[e][f]in d){d[b.id]=d[a.data_groups[e][f]];
break}A(d[b.id])&&(d[b.id]=c++)});d.__max__=c-1;return d};c.getShapeX=function(b,a,d,c){var e=c?this.subX:this.x;return function(c){var g=c.id in d?d[c.id]:0;return c.x||0===c.x?e(c.x)-b*(a/2-g):0}};c.getShapeY=function(b){var a=this;return function(d){return(b?a.getSubYScale(d.id):a.getYScale(d.id))(d.value)}};c.getShapeOffset=function(b,a,d){var c=this,e=c.orderTargets(c.filterTargetsToShow(c.data.targets.filter(b,c))),f=e.map(function(a){return a.id});return function(b,h){var m=d?c.getSubYScale(b.id):
c.getYScale(b.id),n=m(0),p=n;e.forEach(function(d){var e=c.isStepType(b)?c.convertValuesToStep(d.values):d.values;d.id!==b.id&&a[d.id]===a[b.id]&&f.indexOf(d.id)<f.indexOf(b.id)&&0<=e[h].value*b.value&&(p+=m(e[h].value)-n)});return p}};c.isWithinShape=function(b,a){var d=this.d3.select(b),c;this.isTargetToShow(a.id)?"circle"===b.nodeName?c=this.isStepType(a)?this.isWithinStep(b,this.getYScale(a.id)(a.value)):this.isWithinCircle(b,1.5*this.pointSelectR(a)):"path"===b.nodeName&&(c=d.classed(h.bar)?
this.isWithinBar(b):!0):c=!1;return c};c.getInterpolate=function(b){return this.isSplineType(b)?"cardinal":this.isStepType(b)?this.config.line_step_type:"linear"};c.initLine=function(){this.main.select("."+h.chart).append("g").attr("class",h.chartLines)};c.updateTargetsForLine=function(b){var a=this,d=a.config,c,e=a.classChartLine.bind(a),f=a.classLines.bind(a),m=a.classAreas.bind(a),n=a.classCircles.bind(a),p=a.classFocus.bind(a);c=a.main.select("."+h.chartLines).selectAll("."+h.chartLine).data(b).attr("class",
function(a){return e(a)+p(a)}).enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none");c.append("g").attr("class",f);c.append("g").attr("class",m);c.append("g").attr("class",function(b){return a.generateClass(h.selectedCircles,b.id)});c.append("g").attr("class",n).style("cursor",function(a){return d.data_selection_isselectable(a)?"pointer":null});b.forEach(function(b){a.main.selectAll("."+h.selectedCircles+a.getTargetSelectorSuffix(b.id)).selectAll("."+h.selectedCircle).each(function(a){a.value=
b.values[a.index].value})})};c.redrawLine=function(b){var a=this;a.mainLine=a.main.selectAll("."+h.lines).selectAll("."+h.line).data(a.lineData.bind(a));a.mainLine.enter().append("path").attr("class",a.classLine.bind(a)).style("stroke",a.color);a.mainLine.style("opacity",a.initialOpacity.bind(a)).style("shape-rendering",function(b){return a.isStepType(b)?"crispEdges":""}).attr("transform",null);a.mainLine.exit().transition().duration(b).style("opacity",0).remove()};c.addTransitionForLine=function(b,
a){b.push(this.mainLine.transition().attr("d",a).style("stroke",this.color).style("opacity",1))};c.generateDrawLine=function(b,a){var d=this,c=d.config,e=d.d3.svg.line(),f=d.generateGetLinePoints(b,a),h=a?d.getSubYScale:d.getYScale,m=function(b){return(a?d.subxx:d.xx).call(d,b)},n=function(a,b){return 0<c.data_groups.length?f(a,b)[0][1]:h.call(d,a.id)(a.value)},e=c.axis_rotated?e.x(n).y(m):e.x(m).y(n);c.line_connectNull||(e=e.defined(function(a){return null!=a.value}));return function(b){var f=c.line_connectNull?
d.filterRemoveNull(b.values):b.values,q=a?d.x:d.subX,m=h.call(d,b.id),n=0,p=0;d.isLineType(b)?c.data_regions[b.id]?b=d.lineWithRegions(f,q,m,c.data_regions[b.id]):(d.isStepType(b)&&(f=d.convertValuesToStep(f)),b=e.interpolate(d.getInterpolate(b))(f)):(f[0]&&(n=q(f[0].x),p=m(f[0].value)),b=c.axis_rotated?"M "+p+" "+n:"M "+n+" "+p);return b?b:"M 0 0"}};c.generateGetLinePoints=function(b,a){var d=this,c=d.config,e=d.getShapeX(0,b.__max__+1,b,!!a),f=d.getShapeY(!!a),h=d.getShapeOffset(d.isLineType,b,
!!a),m=a?d.getSubYScale:d.getYScale;return function(a,b){var n=m.call(d,a.id)(0),p=h(a,b)||n,t=e(a),u=f(a);c.axis_rotated&&(0<a.value&&u<n||0>a.value&&n<u)&&(u=n);return[[t,u-(n-p)],[t,u-(n-p)],[t,u-(n-p)],[t,u-(n-p)]]}};c.lineWithRegions=function(b,a,d,c){function e(a,b){var d;for(d=0;d<b.length;d++)if(b[d].start<a&&a<=b[d].end)return!0;return!1}var f=this.config,h,m,n="M",p,w,t,u,x,E=[];if(O(c))for(h=0;h<c.length;h++)E[h]={},A(c[h].start)?E[h].start=b[0].x:E[h].start=this.isTimeSeries()?this.parseDate(c[h].start):
c[h].start,A(c[h].end)?E[h].end=b[b.length-1].x:E[h].end=this.isTimeSeries()?this.parseDate(c[h].end):c[h].end;c=f.axis_rotated?function(a){return d(a.value)}:function(b){return a(b.x)};x=f.axis_rotated?function(b){return a(b.x)}:function(a){return d(a.value)};f=this.isTimeSeries()?function(b,c,e,g){var f=b.x.getTime();b=c.x-b.x;c=new Date(f+b*(e+g));return"M"+a(new Date(f+b*e))+" "+d(w(e))+" "+a(c)+" "+d(w(e+g))}:function(b,c,e,g){return"M"+a(p(e),!0)+" "+d(w(e))+" "+a(p(e+g),!0)+" "+d(w(e+g))};
for(h=0;h<b.length;h++)if(A(E)||!e(b[h].x,E))n+=" "+c(b[h])+" "+x(b[h]);else for(p=this.getScale(b[h-1].x,b[h].x,this.isTimeSeries()),w=this.getScale(b[h-1].value,b[h].value),m=a(b[h].x)-a(b[h-1].x),t=d(b[h].value)-d(b[h-1].value),m=Math.sqrt(Math.pow(m,2)+Math.pow(t,2)),t=2/m,u=2*t,m=t;1>=m;m+=u)n+=f(b[h-1],b[h],m,t);return n};c.redrawArea=function(b){var a=this,d=a.d3;a.mainArea=a.main.selectAll("."+h.areas).selectAll("."+h.area).data(a.lineData.bind(a));a.mainArea.enter().append("path").attr("class",
a.classArea.bind(a)).style("fill",a.color).style("opacity",function(){a.orgAreaOpacity=+d.select(this).style("opacity");return 0});a.mainArea.style("opacity",a.orgAreaOpacity);a.mainArea.exit().transition().duration(b).style("opacity",0).remove()};c.addTransitionForArea=function(b,a){b.push(this.mainArea.transition().attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity))};c.generateDrawArea=function(b,a){var d=this,c=d.config,e=d.d3.svg.area(),f=d.generateGetAreaPoints(b,a),h=
a?d.getSubYScale:d.getYScale,m=function(b){return(a?d.subxx:d.xx).call(d,b)},n=function(a,b){return 0<c.data_groups.length?f(a,b)[0][1]:h.call(d,a.id)(0)},p=function(a,b){return 0<c.data_groups.length?f(a,b)[1][1]:h.call(d,a.id)(a.value)},e=c.axis_rotated?e.x0(n).x1(p).y(m):e.x(m).y0(n).y1(p);c.line_connectNull||(e=e.defined(function(a){return null!==a.value}));return function(a){var b=c.line_connectNull?d.filterRemoveNull(a.values):a.values,f=0,h=0;d.isAreaType(a)?(d.isStepType(a)&&(b=d.convertValuesToStep(b)),
a=e.interpolate(d.getInterpolate(a))(b)):(b[0]&&(f=d.x(b[0].x),h=d.getYScale(a.id)(b[0].value)),a=c.axis_rotated?"M "+h+" "+f:"M "+f+" "+h);return a?a:"M 0 0"}};c.generateGetAreaPoints=function(b,a){var d=this,c=d.config,e=d.getShapeX(0,b.__max__+1,b,!!a),f=d.getShapeY(!!a),h=d.getShapeOffset(d.isAreaType,b,!!a),m=a?d.getSubYScale:d.getYScale;return function(a,b){var n=m.call(d,a.id)(0),p=h(a,b)||n,t=e(a),u=f(a);c.axis_rotated&&(0<a.value&&u<n||0>a.value&&n<u)&&(u=n);return[[t,p],[t,u-(n-p)],[t,u-
(n-p)],[t,p]]}};c.redrawCircle=function(){this.mainCircle=this.main.selectAll("."+h.circles).selectAll("."+h.circle).data(this.lineOrScatterData.bind(this));this.mainCircle.enter().append("circle").attr("class",this.classCircle.bind(this)).attr("r",this.pointR.bind(this)).style("fill",this.color);this.mainCircle.style("opacity",this.initialOpacityForCircle.bind(this));this.mainCircle.exit().remove()};c.addTransitionForCircle=function(b,a,d){b.push(this.mainCircle.transition().style("opacity",this.opacityForCircle.bind(this)).style("fill",
this.color).attr("cx",a).attr("cy",d));b.push(this.main.selectAll("."+h.selectedCircle).transition().attr("cx",a).attr("cy",d))};c.circleX=function(b){return b.x||0===b.x?this.x(b.x):null};c.updateCircleY=function(){var b=this,a,d;0<b.config.data_groups.length?(a=b.getShapeIndices(b.isLineType),d=b.generateGetLinePoints(a),b.circleY=function(a,b){return d(a,b)[0][1]}):b.circleY=function(a){return b.getYScale(a.id)(a.value)}};c.getCircles=function(b,a){return(a?this.main.selectAll("."+h.circles+this.getTargetSelectorSuffix(a)):
this.main).selectAll("."+h.circle+(t(b)?"-"+b:""))};c.expandCircles=function(b,a,d){var c=this.pointExpandedR.bind(this);d&&this.unexpandCircles();this.getCircles(b,a).classed(h.EXPANDED,!0).attr("r",c)};c.unexpandCircles=function(b){var a=this,d=a.pointR.bind(a);a.getCircles(b).filter(function(){return a.d3.select(this).classed(h.EXPANDED)}).classed(h.EXPANDED,!1).attr("r",d)};c.pointR=function(b){var a=this.config;return this.isStepType(b)?0:x(a.point_r)?a.point_r(b):a.point_r};c.pointExpandedR=
function(b){var a=this.config;return a.point_focus_expand_enabled?a.point_focus_expand_r?a.point_focus_expand_r:1.75*this.pointR(b):this.pointR(b)};c.pointSelectR=function(b){var a=this.config;return a.point_select_r?a.point_select_r:4*this.pointR(b)};c.isWithinCircle=function(b,a){var d=this.d3,c=d.mouse(b),e=d.select(b),d=+e.attr("cx"),e=+e.attr("cy");return Math.sqrt(Math.pow(d-c[0],2)+Math.pow(e-c[1],2))<a};c.isWithinStep=function(b,a){return 30>Math.abs(a-this.d3.mouse(b)[1])};c.initBar=function(){this.main.select("."+
h.chart).append("g").attr("class",h.chartBars)};c.updateTargetsForBar=function(b){var a=this.config,d=this.classChartBar.bind(this),c=this.classBars.bind(this),e=this.classFocus.bind(this);this.main.select("."+h.chartBars).selectAll("."+h.chartBar).data(b).attr("class",function(a){return d(a)+e(a)}).enter().append("g").attr("class",d).style("opacity",0).style("pointer-events","none").append("g").attr("class",c).style("cursor",function(b){return a.data_selection_isselectable(b)?"pointer":null})};c.redrawBar=
function(b){var a=this,d=a.barData.bind(a),c=a.classBar.bind(a),e=a.initialOpacity.bind(a),f=function(b){return a.color(b.id)};a.mainBar=a.main.selectAll("."+h.bars).selectAll("."+h.bar).data(d);a.mainBar.enter().append("path").attr("class",c).style("stroke",f).style("fill",f);a.mainBar.style("opacity",e);a.mainBar.exit().transition().duration(b).style("opacity",0).remove()};c.addTransitionForBar=function(b,a){b.push(this.mainBar.transition().attr("d",a).style("fill",this.color).style("opacity",1))};
c.getBarW=function(b,a){var d=this.config,c="number"===typeof d.bar_width?d.bar_width:a?2*b.tickOffset()*d.bar_width_ratio/a:0;return d.bar_width_max&&c>d.bar_width_max?d.bar_width_max:c};c.getBars=function(b,a){return(a?this.main.selectAll("."+h.bars+this.getTargetSelectorSuffix(a)):this.main).selectAll("."+h.bar+(t(b)?"-"+b:""))};c.expandBars=function(b,a,d){d&&this.unexpandBars();this.getBars(b,a).classed(h.EXPANDED,!0)};c.unexpandBars=function(b){this.getBars(b).classed(h.EXPANDED,!1)};c.generateDrawBar=
function(b,a){var d=this.config,c=this.generateGetBarPoints(b,a);return function(a,b){var e=c(a,b),f=d.axis_rotated?1:0,h=d.axis_rotated?0:1;return"M "+e[0][f]+","+e[0][h]+" L"+e[1][f]+","+e[1][h]+" L"+e[2][f]+","+e[2][h]+" L"+e[3][f]+","+e[3][h]+" z"}};c.generateGetBarPoints=function(b,a){var d=this,c=b.__max__+1,e=d.getBarW(a?d.subXAxis:d.xAxis,c),f=d.getShapeX(e,c,b,!!a),h=d.getShapeY(!!a),m=d.getShapeOffset(d.isBarType,b,!!a),n=a?d.getSubYScale:d.getYScale;return function(a,b){var c=n.call(d,
a.id)(0),g=m(a,b)||c,p=f(a),t=h(a);d.config.axis_rotated&&(0<a.value&&t<c||0>a.value&&c<t)&&(t=c);return[[p,g],[p,t-(c-g)],[p+e,t-(c-g)],[p+e,g]]}};c.isWithinBar=function(b){var a=this.d3.mouse(b),d=b.getBoundingClientRect(),c=b.pathSegList.getItem(0),e=b.pathSegList.getItem(1);b=Math.min(c.x,e.x);c=Math.min(c.y,e.y);e=b+d.width+2;d=c+d.height+2;return b-2<a[0]&&a[0]<e&&c-2<a[1]&&a[1]<d};c.initText=function(){this.main.select("."+h.chart).append("g").attr("class",h.chartTexts);this.mainText=this.d3.selectAll([])};
c.updateTargetsForText=function(b){var a=this.classChartText.bind(this),d=this.classTexts.bind(this),c=this.classFocus.bind(this);this.main.select("."+h.chartTexts).selectAll("."+h.chartText).data(b).attr("class",function(b){return a(b)+c(b)}).enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none").append("g").attr("class",d)};c.redrawText=function(b){var a=this,d=a.config,c=a.barOrLineData.bind(a),e=a.classText.bind(a);a.mainText=a.main.selectAll("."+h.texts).selectAll("."+
h.text).data(c);a.mainText.enter().append("text").attr("class",e).attr("text-anchor",function(a){return d.axis_rotated?0>a.value?"end":"start":"middle"}).style("stroke","none").style("fill",function(b){return a.color(b)}).style("fill-opacity",0);a.mainText.text(function(b,d,c){return a.formatByAxisId(a.getAxisId(b.id))(b.value,b.id,d,c)});a.mainText.exit().transition().duration(b).style("fill-opacity",0).remove()};c.addTransitionForText=function(b,a,d,c){c=c?0:this.opacityForText.bind(this);b.push(this.mainText.transition().attr("x",
a).attr("y",d).style("fill",this.color).style("fill-opacity",c))};c.getTextRect=function(b,a){var d=this.d3.select("body").classed("c3",!0),c=d.append("svg").style("visibility","hidden"),e;c.selectAll(".dummy").data([b]).enter().append("text").classed(a?a:"",!0).text(b).each(function(){e=this.getBoundingClientRect()});c.remove();d.classed("c3",!1);return e};c.generateXYForText=function(b,a,d,c){var e=this,f=e.generateGetAreaPoints(a,!1),h=e.generateGetBarPoints(a,!1),m=e.generateGetLinePoints(d,!1),
n=c?e.getXForText:e.getYForText;return function(a,b){var d=e.isAreaType(a)?f:e.isBarType(a)?h:m;return n.call(e,d(a,b),a,this)}};c.getXForText=function(b,a,d){d=d.getBoundingClientRect();var c;this.config.axis_rotated?(c=this.isBarType(a)?4:6,b=b[2][1]+c*(0>a.value?-1:1)):b=this.hasType("bar")?(b[2][0]+b[0][0])/2:b[0][0];return null!==a.value?b:b>this.width?this.width-d.width:b};c.getYForText=function(b,a,d){d=d.getBoundingClientRect();b=this.config.axis_rotated?(b[0][0]+b[2][0]+.6*d.height)/2:b[2][1]+
(0>a.value?d.height:this.isBarType(a)?-3:-6);return null!==a.value?b:b<d.height?d.height:b};c.setTargetType=function(b,a){var d=this,c=d.config;d.mapToTargetIds(b).forEach(function(b){d.withoutFadeIn[b]=a===c.data_types[b];c.data_types[b]=a});b||(c.data_type=a)};c.hasType=function(b,a){var d=this.config.data_types,c=!1;(a=a||this.data.targets)&&a.length?a.forEach(function(a){if((a=d[a.id])&&0<=a.indexOf(b)||!a&&"line"===b)c=!0}):Object.keys(d).forEach(function(a){d[a]===b&&(c=!0)});return c};c.hasArcType=
function(b){return this.hasType("pie",b)||this.hasType("donut",b)||this.hasType("gauge",b)};c.isLineType=function(b){var a=this.config;b=m(b)?b:b.id;return!a.data_types[b]||0<="line spline area area-spline step area-step".split(" ").indexOf(a.data_types[b])};c.isStepType=function(b){b=m(b)?b:b.id;return 0<=["step","area-step"].indexOf(this.config.data_types[b])};c.isSplineType=function(b){b=m(b)?b:b.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[b])};c.isAreaType=function(b){b=
m(b)?b:b.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[b])};c.isBarType=function(b){b=m(b)?b:b.id;return"bar"===this.config.data_types[b]};c.isScatterType=function(b){b=m(b)?b:b.id;return"scatter"===this.config.data_types[b]};c.isPieType=function(b){b=m(b)?b:b.id;return"pie"===this.config.data_types[b]};c.isGaugeType=function(b){b=m(b)?b:b.id;return"gauge"===this.config.data_types[b]};c.isDonutType=function(b){b=m(b)?b:b.id;return"donut"===this.config.data_types[b]};
c.isArcType=function(b){return this.isPieType(b)||this.isDonutType(b)||this.isGaugeType(b)};c.lineData=function(b){return this.isLineType(b)?[b]:[]};c.arcData=function(b){return this.isArcType(b.data)?[b]:[]};c.barData=function(b){return this.isBarType(b)?b.values:[]};c.lineOrScatterData=function(b){return this.isLineType(b)||this.isScatterType(b)?b.values:[]};c.barOrLineData=function(b){return this.isBarType(b)||this.isLineType(b)?b.values:[]};c.initGrid=function(){var b=this.config,a=this.d3;this.grid=
this.main.append("g").attr("clip-path",this.clipPathForGrid).attr("class",h.grid);b.grid_x_show&&this.grid.append("g").attr("class",h.xgrids);b.grid_y_show&&this.grid.append("g").attr("class",h.ygrids);b.grid_focus_show&&this.grid.append("g").attr("class",h.xgridFocus).append("line").attr("class",h.xgridFocus);this.xgrid=a.selectAll([]);b.grid_lines_front||this.initGridLines()};c.initGridLines=function(){var b=this.d3;this.gridLines=this.main.append("g").attr("clip-path",this.clipPathForGrid).attr("class",
h.grid+" "+h.gridLines);this.gridLines.append("g").attr("class",h.xgridLines);this.gridLines.append("g").attr("class",h.ygridLines);this.xgridLines=b.selectAll([])};c.updateXGrid=function(b){var a=this,d=a.config,c=a.d3,e=a.generateGridData(d.grid_x_type,a.x),f=a.isCategorized()?a.xAxis.tickOffset():0;a.xgridAttr=d.axis_rotated?{x1:0,x2:a.width,y1:function(b){return a.x(b)-f},y2:function(b){return a.x(b)-f}}:{x1:function(b){return a.x(b)+f},x2:function(b){return a.x(b)+f},y1:0,y2:a.height};a.xgrid=
a.main.select("."+h.xgrids).selectAll("."+h.xgrid).data(e);a.xgrid.enter().append("line").attr("class",h.xgrid);b||a.xgrid.attr(a.xgridAttr).style("opacity",function(){return+c.select(this).attr(d.axis_rotated?"y1":"x1")===(d.axis_rotated?a.height:0)?0:1});a.xgrid.exit().remove()};c.updateYGrid=function(){var b=this.config,a=this.yAxis.tickValues()||this.y.ticks(b.grid_y_ticks);this.ygrid=this.main.select("."+h.ygrids).selectAll("."+h.ygrid).data(a);this.ygrid.enter().append("line").attr("class",
h.ygrid);this.ygrid.attr("x1",b.axis_rotated?this.y:0).attr("x2",b.axis_rotated?this.y:this.width).attr("y1",b.axis_rotated?0:this.y).attr("y2",b.axis_rotated?this.height:this.y);this.ygrid.exit().remove();this.smoothLines(this.ygrid,"grid")};c.redrawGrid=function(b){var a=this.main,d=this.config,c;this.grid.style("visibility",this.hasArcType()?"hidden":"visible");a.select("line."+h.xgridFocus).style("visibility","hidden");d.grid_x_show&&this.updateXGrid();this.xgridLines=a.select("."+h.xgridLines).selectAll("."+
h.xgridLine).data(d.grid_x_lines);c=this.xgridLines.enter().append("g").attr("class",function(a){return h.xgridLine+(a["class"]?" "+a["class"]:"")});c.append("line").style("opacity",0);c.append("text").attr("text-anchor","end").attr("transform",d.axis_rotated?"":"rotate(-90)").attr("dx",d.axis_rotated?0:-this.margin.top).attr("dy",-5).style("opacity",0);this.xgridLines.exit().transition().duration(b).style("opacity",0).remove();d.grid_y_show&&this.updateYGrid();this.ygridLines=a.select("."+h.ygridLines).selectAll("."+
h.ygridLine).data(d.grid_y_lines);a=this.ygridLines.enter().append("g").attr("class",function(a){return h.ygridLine+(a["class"]?" "+a["class"]:"")});a.append("line").style("opacity",0);a.append("text").attr("text-anchor","end").attr("transform",d.axis_rotated?"rotate(-90)":"").attr("dx",d.axis_rotated?0:-this.margin.top).attr("dy",-5).style("opacity",0);a=this.yv.bind(this);this.ygridLines.select("line").transition().duration(b).attr("x1",d.axis_rotated?a:0).attr("x2",d.axis_rotated?a:this.width).attr("y1",
d.axis_rotated?0:a).attr("y2",d.axis_rotated?this.height:a).style("opacity",1);this.ygridLines.select("text").transition().duration(b).attr("x",d.axis_rotated?0:this.width).attr("y",a).text(function(a){return a.text}).style("opacity",1);this.ygridLines.exit().transition().duration(b).style("opacity",0).remove()};c.addTransitionForGrid=function(b){var a=this.config,d=this.xv.bind(this);b.push(this.xgridLines.select("line").transition().attr("x1",a.axis_rotated?0:d).attr("x2",a.axis_rotated?this.width:
d).attr("y1",a.axis_rotated?d:this.margin.top).attr("y2",a.axis_rotated?d:this.height).style("opacity",1));b.push(this.xgridLines.select("text").transition().attr("x",a.axis_rotated?this.width:0).attr("y",d).text(function(a){return a.text}).style("opacity",1))};c.showXGridFocus=function(b){var a=this.config;b=b.filter(function(a){return a&&t(a.value)});var d=this.main.selectAll("line."+h.xgridFocus),c=this.xx.bind(this);!a.tooltip_show||this.hasType("scatter")||this.hasArcType()||(d.style("visibility",
"visible").data([b[0]]).attr(a.axis_rotated?"y1":"x1",c).attr(a.axis_rotated?"y2":"x2",c),this.smoothLines(d,"grid"))};c.hideXGridFocus=function(){this.main.select("line."+h.xgridFocus).style("visibility","hidden")};c.updateXgridFocus=function(){var b=this.config;this.main.select("line."+h.xgridFocus).attr("x1",b.axis_rotated?0:-10).attr("x2",b.axis_rotated?this.width:-10).attr("y1",b.axis_rotated?-10:0).attr("y2",b.axis_rotated?-10:this.height)};c.generateGridData=function(b,a){var d=[],c,e;e=this.main.select("."+
h.axisX).selectAll(".tick").size();if("year"===b)for(c=this.getXDomain(),e=c[0].getFullYear(),c=c[1].getFullYear();e<=c;e++)d.push(new Date(e+"-01-01 00:00:00"));else d=a.ticks(10),d.length>e&&(d=d.filter(function(a){return 0>(""+a).indexOf(".")}));return d};c.getGridFilterToRemove=function(b){return b?function(a){var d=!1;[].concat(b).forEach(function(b){if("value"in b&&a.value===b.value||"class"in b&&a["class"]===b["class"])d=!0});return d}:function(){return!0}};c.removeGridLines=function(b,a){var d=
this.config,c=this.getGridFilterToRemove(b),e=function(a){return!c(a)},f=a?h.xgridLine:h.ygridLine;this.main.select("."+(a?h.xgridLines:h.ygridLines)).selectAll("."+f).filter(c).transition().duration(d.transition_duration).style("opacity",0).remove();a?d.grid_x_lines=d.grid_x_lines.filter(e):d.grid_y_lines=d.grid_y_lines.filter(e)};c.initTooltip=function(){var b=this,a=b.config,d;b.tooltip=b.selectChart.style("position","relative").append("div").attr("class",h.tooltipContainer).style("position","absolute").style("pointer-events",
"none").style("display","none");if(a.tooltip_init_show){if(b.isTimeSeries()&&m(a.tooltip_init_x)){a.tooltip_init_x=b.parseDate(a.tooltip_init_x);for(d=0;d<b.data.targets[0].values.length&&0!==b.data.targets[0].values[d].x-a.tooltip_init_x;d++);a.tooltip_init_x=d}b.tooltip.html(a.tooltip_contents.call(b,b.data.targets.map(function(d){return b.addName(d.values[a.tooltip_init_x])}),b.getXAxisTickFormat(),b.getYFormat(b.hasArcType()),b.color));b.tooltip.style("top",a.tooltip_init_position.top).style("left",
a.tooltip_init_position.left).style("display","block")}};c.getTooltipContent=function(b,a,d,c){var e=this.config;a=e.tooltip_format_title||a;var f=e.tooltip_format_name||function(a){return a};d=e.tooltip_format_value||d;for(var m,n,p,t,e=0;e<b.length;e++)b[e]&&(b[e].value||0===b[e].value)&&(m||(m=a?a(b[e].x):b[e].x,m="<table class='"+h.tooltip+"'>"+(m||0===m?"<tr><th colspan='2'>"+m+"</th></tr>":"")),p=f(b[e].name,b[e].ratio,b[e].id,b[e].index),n=d(b[e].value,b[e].ratio,b[e].id,b[e].index),t=this.levelColor?
this.levelColor(b[e].value):c(b[e].id),m+="<tr class='"+h.tooltipName+"-"+b[e].id+"'>",m+="<td class='name'><span style='background-color:"+t+"'></span>"+p+"</td>",m+="<td class='value'>"+n+"</td>",m+="</tr>");return m+"</table>"};c.showTooltip=function(b,a){var d=this.config,c,e,f,h;f=this.hasArcType();h=b.filter(function(a){return a&&t(a.value)});0!==h.length&&d.tooltip_show&&(this.tooltip.html(d.tooltip_contents.call(this,b,this.getXAxisTickFormat(),this.getYFormat(f),this.color)).style("display",
"block"),c=this.tooltip.property("offsetWidth"),e=this.tooltip.property("offsetHeight"),f?(d=this.width/2+a[0],h=this.height/2+a[1]+20):(f=this.getSvgLeft(!0),d.axis_rotated?(d=f+a[0]+100,c=d+c,f=this.currentWidth-this.getCurrentPaddingRight(),h=this.x(h[0].x)+20):(d=f+this.getCurrentPaddingLeft(!0)+this.x(h[0].x)+20,c=d+c,f=f+this.currentWidth-this.getCurrentPaddingRight(),h=a[1]+15),c>f&&(d-=c-f),h+e>this.currentHeight&&(h-=e+30)),0>h&&(h=0),this.tooltip.style("top",h+"px").style("left",d+"px"))};
c.hideTooltip=function(){this.tooltip.style("display","none")};c.initLegend=function(){this.legend=this.svg.append("g").attr("transform",this.getTranslate("legend"));this.config.legend_show||(this.legend.style("visibility","hidden"),this.hiddenLegendIds=this.mapToIds(this.data.targets));this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})};c.updateSizeForLegend=function(b,a){var d=this.config,c=this.isLegendTop?this.getCurrentPaddingTop()+
d.legend_inset_y+5.5:this.currentHeight-b-this.getCurrentPaddingBottom()-d.legend_inset_y,d=this.isLegendLeft?this.getCurrentPaddingLeft()+d.legend_inset_x+.5:this.currentWidth-a-this.getCurrentPaddingRight()-d.legend_inset_x+.5;this.margin3={top:this.isLegendRight?0:this.isLegendInset?c:this.currentHeight-b,right:NaN,bottom:0,left:this.isLegendRight?this.currentWidth-a:this.isLegendInset?d:0}};c.transformLegend=function(b){(b?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))};
c.updateLegendStep=function(b){this.legendStep=b};c.updateLegendItemWidth=function(b){this.legendItemWidth=b};c.updateLegendItemHeight=function(b){this.legendItemHeight=b};c.getLegendWidth=function(){return this.config.legend_show?this.isLegendRight||this.isLegendInset?this.legendItemWidth*(this.legendStep+1):this.currentWidth:0};c.getLegendHeight=function(){var b=0;this.config.legend_show&&(b=this.isLegendRight?this.currentHeight:Math.max(20,this.legendItemHeight)*(this.legendStep+1));return b};
c.opacityForLegend=function(b){return b.classed(h.legendItemHidden)?this.legendOpacityForHidden:1};c.opacityForUnfocusedLegend=function(b){return b.classed(h.legendItemHidden)?this.legendOpacityForHidden:.3};c.toggleFocusLegend=function(b,a){var d=this;b=d.mapToTargetIds(b);d.legend.selectAll("."+h.legendItem).classed(h.legendItemFocused,function(d){return 0<=b.indexOf(d)&&a}).transition().duration(100).style("opacity",function(c){return(0<=b.indexOf(c)&&a?d.opacityForLegend:d.opacityForUnfocusedLegend).call(d,
d.d3.select(this))})};c.revertLegend=function(){var b=this,a=b.d3;b.legend.selectAll("."+h.legendItem).classed(h.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return b.opacityForLegend(a.select(this))})};c.showLegend=function(b){var a=this,d=a.config;d.legend_show||(d.legend_show=!0,a.legend.style("visibility","visible"));a.removeHiddenLegendIds(b);a.legend.selectAll(a.selectorLegends(b)).style("visibility","visible").transition().style("opacity",function(){return a.opacityForLegend(a.d3.select(this))})};
c.hideLegend=function(b){var a=this.config;a.legend_show&&E(b)&&(a.legend_show=!1,this.legend.style("visibility","hidden"));this.addHiddenLegendIds(b);this.legend.selectAll(this.selectorLegends(b)).style("opacity",0).style("visibility","hidden")};var n={};c.updateLegend=function(b,a,d){function c(a,b){n[b]||(n[b]=f.getTextRect(a.textContent,h.legendItem));return n[b]}function e(a,d,h){function l(a,b){b||(y=(p-G-n)/2,10>y&&(y=(p-n)/2,G=0,Z++));R[a]=Z;P[Z]=f.isLegendInset?10:y;L[a]=G;G+=n}var k=0===
h;h=h===b.length-1;a=c(a,d);h=a.width+15+(!h||f.isLegendRight||f.isLegendInset?10:0);a=a.height+4;var n=f.isLegendRight||f.isLegendInset?a:h,p=f.isLegendRight||f.isLegendInset?f.getLegendHeight():f.getLegendWidth(),y;k&&(E=A=Z=G=0);if(m.legend_show&&!f.isLegendToShow(d))J[d]=N[d]=R[d]=L[d]=0;else{J[d]=h;N[d]=a;if(!A||h>=A)A=h;if(!E||a>=E)E=a;k=f.isLegendRight||f.isLegendInset?E:A;m.legend_equally?(Object.keys(J).forEach(function(a){J[a]=A}),Object.keys(N).forEach(function(a){N[a]=E}),y=(p-k*b.length)/
2,10>y?(Z=G=0,b.forEach(function(a){l(a)})):l(d,!0)):l(d)}}var f=this,m=f.config,p,t,u,w,z,x,A=0,E=0,H,G=0,L={},J={},N={},P=[0],R={},Z=0,Y,X=f.legend.selectAll("."+h.legendItemFocused).size(),k;a=a||{};Y=I(a,"withTransition",!0);a=I(a,"withTransitionForTransform",!0);f.isLegendInset&&(Z=m.legend_inset_step?m.legend_inset_step:b.length,f.updateLegendStep(Z));f.isLegendRight?(p=function(a){return A*R[a]},w=function(a){return P[R[a]]+L[a]}):f.isLegendInset?(p=function(a){return A*R[a]+10},w=function(a){return P[R[a]]+
L[a]}):(p=function(a){return P[R[a]]+L[a]},w=function(a){return E*R[a]});t=function(a,b){return p(a,b)+14};z=function(a,b){return w(a,b)+9};u=function(a,b){return p(a,b)};x=function(a,b){return w(a,b)-5};H=f.legend.selectAll("."+h.legendItem).data(b).enter().append("g").attr("class",function(a){return f.generateClass(h.legendItem,a)}).style("visibility",function(a){return f.isLegendToShow(a)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a){m.legend_item_onclick?m.legend_item_onclick.call(f,
a):f.d3.event.altKey?(f.api.hide(),f.api.show(a)):(f.api.toggle(a),f.isTargetToShow(a)?f.api.focus(a):f.api.revert())}).on("mouseover",function(a){f.d3.select(this).classed(h.legendItemFocused,!0);!f.transiting&&f.isTargetToShow(a)&&f.api.focus(a);m.legend_item_onmouseover&&m.legend_item_onmouseover.call(f,a)}).on("mouseout",function(a){f.d3.select(this).classed(h.legendItemFocused,!1);f.api.revert();m.legend_item_onmouseout&&m.legend_item_onmouseout.call(f,a)});H.append("text").text(function(a){return O(m.data_names[a])?
m.data_names[a]:a}).each(function(a,b){e(this,a,b)}).style("pointer-events","none").attr("x",f.isLegendRight||f.isLegendInset?t:-200).attr("y",f.isLegendRight||f.isLegendInset?-200:z);H.append("rect").attr("class",h.legendItemEvent).style("fill-opacity",0).attr("x",f.isLegendRight||f.isLegendInset?u:-200).attr("y",f.isLegendRight||f.isLegendInset?-200:x);H.append("rect").attr("class",h.legendItemTile).style("pointer-events","none").style("fill",f.color).attr("x",f.isLegendRight||f.isLegendInset?t:
-200).attr("y",f.isLegendRight||f.isLegendInset?-200:w).attr("width",10).attr("height",10);H=f.legend.select("."+h.legendBackground+" rect");f.isLegendInset&&0<A&&0===H.size()&&(H=f.legend.insert("g","."+h.legendItem).attr("class",h.legendBackground).append("rect"));k=f.legend.selectAll("text").data(b).text(function(a){return O(m.data_names[a])?m.data_names[a]:a}).each(function(a,b){e(this,a,b)});(Y?k.transition():k).attr("x",t).attr("y",z);t=f.legend.selectAll("rect."+h.legendItemEvent).data(b);
(Y?t.transition():t).attr("width",function(a){return J[a]}).attr("height",function(a){return N[a]}).attr("x",u).attr("y",x);u=f.legend.selectAll("rect."+h.legendItemTile).data(b);(Y?u.transition():u).style("fill",f.color).attr("x",p).attr("y",w);H&&(Y?H.transition():H).attr("height",f.getLegendHeight()-12).attr("width",A*(Z+1)+10);f.legend.selectAll("."+h.legendItem).classed(h.legendItemHidden,function(a){return!f.isTargetToShow(a)}).transition().style("opacity",function(a){var b=f.d3.select(this);
return f.isTargetToShow(a)?!X||b.classed(h.legendItemFocused)?f.opacityForLegend(b):f.opacityForUnfocusedLegend(b):f.legendOpacityForHidden});f.updateLegendItemWidth(A);f.updateLegendItemHeight(E);f.updateLegendStep(Z);f.updateSizes();f.updateScales();f.updateSvgSize();f.transformAll(a,d)};c.initAxis=function(){var b=this.config,a=this.main;this.axes.x=a.append("g").attr("class",h.axis+" "+h.axisX).attr("clip-path",this.clipPathForXAxis).attr("transform",this.getTranslate("x")).style("visibility",
b.axis_x_show?"visible":"hidden");this.axes.x.append("text").attr("class",h.axisXLabel).attr("transform",b.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this));this.axes.y=a.append("g").attr("class",h.axis+" "+h.axisY).attr("clip-path",b.axis_y_inner?"":this.clipPathForYAxis).attr("transform",this.getTranslate("y")).style("visibility",b.axis_y_show?"visible":"hidden");this.axes.y.append("text").attr("class",h.axisYLabel).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",
this.textAnchorForYAxisLabel.bind(this));this.axes.y2=a.append("g").attr("class",h.axis+" "+h.axisY2).attr("transform",this.getTranslate("y2")).style("visibility",b.axis_y2_show?"visible":"hidden");this.axes.y2.append("text").attr("class",h.axisY2Label).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))};c.getXAxis=function(b,a,d,c,e){var f=this,h=f.config;e={isCategory:f.isCategorized(),withOuterTick:e,tickMultiline:h.axis_x_tick_multiline,
tickWidth:h.axis_x_tick_width};b=H(f.d3,e).scale(b).orient(a);f.isTimeSeries()&&c&&(c=c.map(function(a){return f.parseDate(a)}));b.tickFormat(d).tickValues(c);f.isCategorized()?(b.tickCentered(h.axis_x_tick_centered),E(h.axis_x_tick_culling)&&(h.axis_x_tick_culling=!1)):b.tickOffset=function(){var a=this.scale(),b=f.getEdgeX(f.data.targets),a=a(b[1])-a(b[0]);return(a?a:h.axis_rotated?f.height:f.width)/f.getMaxDataCount()/2};return b};c.getYAxis=function(b,a,d,c,e){b=H(this.d3,{withOuterTick:e}).scale(b).orient(a).tickFormat(d);
this.isTimeSeriesY()?b.ticks(this.d3.time[this.config.axis_y_tick_time_value],this.config.axis_y_tick_time_interval):b.tickValues(c);return b};c.getAxisId=function(b){var a=this.config;return b in a.data_axes?a.data_axes[b]:"y"};c.getXAxisTickFormat=function(){var b=this,a=b.config,d=b.isTimeSeries()?b.defaultAxisTimeFormat:b.isCategorized()?b.categoryName:function(a){return 0>a?a.toFixed(0):a};a.axis_x_tick_format&&(x(a.axis_x_tick_format)?d=a.axis_x_tick_format:b.isTimeSeries()&&(d=function(d){return d?
b.axisTimeFormat(a.axis_x_tick_format)(d):""}));return x(d)?function(a){return d.call(b,a)}:d};c.getAxisTickValues=function(b,a){return b?b:a?a.tickValues():void 0};c.getXAxisTickValues=function(){return this.getAxisTickValues(this.config.axis_x_tick_values,this.xAxis)};c.getYAxisTickValues=function(){return this.getAxisTickValues(this.config.axis_y_tick_values,this.yAxis)};c.getY2AxisTickValues=function(){return this.getAxisTickValues(this.config.axis_y2_tick_values,this.y2Axis)};c.getAxisLabelOptionByAxisId=
function(b){var a=this.config,d;"y"===b?d=a.axis_y_label:"y2"===b?d=a.axis_y2_label:"x"===b&&(d=a.axis_x_label);return d};c.getAxisLabelText=function(b){b=this.getAxisLabelOptionByAxisId(b);return m(b)?b:b?b.text:null};c.setAxisLabelText=function(b,a){var d=this.config,c=this.getAxisLabelOptionByAxisId(b);m(c)?"y"===b?d.axis_y_label=a:"y2"===b?d.axis_y2_label=a:"x"===b&&(d.axis_x_label=a):c&&(c.text=a)};c.getAxisLabelPosition=function(b,a){var d=this.getAxisLabelOptionByAxisId(b),d=d&&"object"===
typeof d&&d.position?d.position:a;return{isInner:0<=d.indexOf("inner"),isOuter:0<=d.indexOf("outer"),isLeft:0<=d.indexOf("left"),isCenter:0<=d.indexOf("center"),isRight:0<=d.indexOf("right"),isTop:0<=d.indexOf("top"),isMiddle:0<=d.indexOf("middle"),isBottom:0<=d.indexOf("bottom")}};c.getXAxisLabelPosition=function(){return this.getAxisLabelPosition("x",this.config.axis_rotated?"inner-top":"inner-right")};c.getYAxisLabelPosition=function(){return this.getAxisLabelPosition("y",this.config.axis_rotated?
"inner-right":"inner-top")};c.getY2AxisLabelPosition=function(){return this.getAxisLabelPosition("y2",this.config.axis_rotated?"inner-right":"inner-top")};c.getAxisLabelPositionById=function(b){return"y2"===b?this.getY2AxisLabelPosition():"y"===b?this.getYAxisLabelPosition():this.getXAxisLabelPosition()};c.textForXAxisLabel=function(){return this.getAxisLabelText("x")};c.textForYAxisLabel=function(){return this.getAxisLabelText("y")};c.textForY2AxisLabel=function(){return this.getAxisLabelText("y2")};
c.xForAxisLabel=function(b,a){return b?a.isLeft?0:a.isCenter?this.width/2:this.width:a.isBottom?-this.height:a.isMiddle?-this.height/2:0};c.dxForAxisLabel=function(b,a){return b?a.isLeft?"0.5em":a.isRight?"-0.5em":"0":a.isTop?"-0.5em":a.isBottom?"0.5em":"0"};c.textAnchorForAxisLabel=function(b,a){return b?a.isLeft?"start":a.isCenter?"middle":"end":a.isBottom?"start":a.isMiddle?"middle":"end"};c.xForXAxisLabel=function(){return this.xForAxisLabel(!this.config.axis_rotated,this.getXAxisLabelPosition())};
c.xForYAxisLabel=function(){return this.xForAxisLabel(this.config.axis_rotated,this.getYAxisLabelPosition())};c.xForY2AxisLabel=function(){return this.xForAxisLabel(this.config.axis_rotated,this.getY2AxisLabelPosition())};c.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.config.axis_rotated,this.getXAxisLabelPosition())};c.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.config.axis_rotated,this.getYAxisLabelPosition())};c.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.config.axis_rotated,
this.getY2AxisLabelPosition())};c.dyForXAxisLabel=function(){var b=this.config,a=this.getXAxisLabelPosition();return b.axis_rotated?a.isInner?"1.2em":-25-this.getMaxTickWidth("x"):a.isInner?"-0.5em":b.axis_x_height?b.axis_x_height-10:"3em"};c.dyForYAxisLabel=function(){var b=this.getYAxisLabelPosition();return this.config.axis_rotated?b.isInner?"-0.5em":"3em":b.isInner?"1.2em":-10-(this.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)};c.dyForY2AxisLabel=function(){var b=this.getY2AxisLabelPosition();
return this.config.axis_rotated?b.isInner?"1.2em":"-2.2em":b.isInner?"-0.5em":15+(this.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)};c.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(!this.config.axis_rotated,this.getXAxisLabelPosition())};c.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.config.axis_rotated,this.getYAxisLabelPosition())};c.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.config.axis_rotated,this.getY2AxisLabelPosition())};
c.xForRotatedTickText=function(b){return 8*Math.sin(b/180*Math.PI)};c.yForRotatedTickText=function(b){return 11.5-b/15*2.5*(0<b?1:-1)};c.rotateTickText=function(b,a,d){b.selectAll(".tick text").style("text-anchor",0<d?"start":"end");a.selectAll(".tick text").attr("y",this.yForRotatedTickText(d)).attr("transform","rotate("+d+")").selectAll("tspan").attr("dx",this.xForRotatedTickText(d))};c.getMaxTickWidth=function(b,a){var d=this,c=d.config,e=0,f;if(a&&d.currentMaxTickWidths[b])return d.currentMaxTickWidths[b];
d.svg&&(f=d.filterTargetsToShow(d.data.targets),"y"===b?(f=d.y.copy().domain(d.getYDomain(f,"y")),c=d.getYAxis(f,d.yOrient,c.axis_y_tick_format,d.yAxisTickValues)):"y2"===b?(f=d.y2.copy().domain(d.getYDomain(f,"y2")),c=d.getYAxis(f,d.y2Orient,c.axis_y2_tick_format,d.y2AxisTickValues)):(f=d.x.copy().domain(d.getXDomain(f)),c=d.getXAxis(f,d.xOrient,d.xAxisTickFormat,d.xAxisTickValues)),d.d3.select("body").append("g").style("visibility","hidden").call(c).each(function(){d.d3.select(this).selectAll("text tspan").each(function(){var a=
this.getBoundingClientRect();0<a.left&&e<a.width&&(e=a.width)})}).remove());d.currentMaxTickWidths[b]=0>=e?d.currentMaxTickWidths[b]:e;return d.currentMaxTickWidths[b]};c.updateAxisLabels=function(b){var a=this.main.select("."+h.axisX+" ."+h.axisXLabel),d=this.main.select("."+h.axisY+" ."+h.axisYLabel),c=this.main.select("."+h.axisY2+" ."+h.axisY2Label);(b?a.transition():a).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this));
(b?d.transition():d).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this));(b?c.transition():c).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))};c.getAxisPadding=function(b,a,d,c){c="ratio"===b.unit?c:1;return t(b[a])?b[a]*c:d};c.generateTickValues=function(b,a,d){var c=
b,e,f,h,m;if(a)if(a=x(a)?a():a,1===a)c=[b[0]];else if(2===a)c=[b[0],b[b.length-1]];else if(2<a){e=a-2;a=b[0];b=b[b.length-1];f=(b-a)/(e+1);c=[a];for(h=0;h<e;h++)m=+a+f*(h+1),c.push(d?new Date(m):m);c.push(b)}d||(c=c.sort(function(a,b){return a-b}));return c};c.generateAxisTransitions=function(b){var a=this.axes;return{axisX:b?a.x.transition().duration(b):a.x,axisY:b?a.y.transition().duration(b):a.y,axisY2:b?a.y2.transition().duration(b):a.y2,axisSubX:b?a.subx.transition().duration(b):a.subx}};c.redrawAxis=
function(b,a){var d=this.config;this.axes.x.style("opacity",a?0:1);this.axes.y.style("opacity",a?0:1);this.axes.y2.style("opacity",a?0:1);this.axes.subx.style("opacity",a?0:1);b.axisX.call(this.xAxis);b.axisY.call(this.yAxis);b.axisY2.call(this.y2Axis);b.axisSubX.call(this.subXAxis);!d.axis_rotated&&d.axis_x_tick_rotate&&this.rotateTickText(this.axes.x,b.axisX,d.axis_x_tick_rotate)};c.getClipPath=function(b){return"url("+(0<=p.navigator.appVersion.toLowerCase().indexOf("msie 9.")?"":document.URL.split("#")[0])+
"#"+b+")"};c.appendClip=function(b,a){return b.append("clipPath").attr("id",a).append("rect")};c.getAxisClipX=function(b){var a=Math.max(30,this.margin.left);return b?-(1+a):-(a-1)};c.getAxisClipY=function(b){return b?-20:-this.margin.top};c.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)};c.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)};c.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)};
c.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)};c.getAxisClipWidth=function(b){var a=Math.max(30,this.margin.left),d=Math.max(30,this.margin.right);return b?this.width+2+a+d:this.margin.left+20};c.getAxisClipHeight=function(b){return(b?this.margin.bottom:this.margin.top+this.height)+8};c.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)};c.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)};c.getYAxisClipWidth=
function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)};c.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)};c.initPie=function(){var b=this.config;this.pie=this.d3.layout.pie().value(function(a){return a.values.reduce(function(a,b){return a+b.value},0)});b.data_order||this.pie.sort(null)};c.updateRadius=function(){var b=this.config,b=b.gauge_width||b.donut_width;this.radiusExpanded=Math.min(this.arcWidth,this.arcHeight)/
2;this.radius=.95*this.radiusExpanded;this.innerRadiusRatio=b?(this.radius-b)/this.radius:.6;this.innerRadius=this.hasType("donut")||this.hasType("gauge")?this.radius*this.innerRadiusRatio:0};c.updateArc=function(){this.svgArc=this.getSvgArc();this.svgArcExpanded=this.getSvgArcExpanded();this.svgArcExpandedSub=this.getSvgArcExpanded(.98)};c.updateAngle=function(b){var a=this.config,d=!1,c=0,e=a.gauge_min,f=a.gauge_max;this.pie(this.filterTargetsToShow(this.data.targets)).forEach(function(a){d||a.data.id!==
b.data.id||(d=!0,b=a,b.index=c);c++});isNaN(b.endAngle)&&(b.endAngle=b.startAngle);this.isGaugeType(b.data)&&(a=Math.PI/(f-e),e=b.value<e?0:b.value<f?b.value-e:f-e,b.startAngle=Math.PI/2*-1,b.endAngle=b.startAngle+a*e);return d?b:null};c.getSvgArc=function(){var b=this,a=b.d3.svg.arc().outerRadius(b.radius).innerRadius(b.innerRadius),d=function(d,c){var e;return c?a(d):(e=b.updateAngle(d))?a(e):"M 0 0"};d.centroid=a.centroid;return d};c.getSvgArcExpanded=function(b){var a=this,d=a.d3.svg.arc().outerRadius(a.radiusExpanded*
(b?b:1)).innerRadius(a.innerRadius);return function(b){return(b=a.updateAngle(b))?d(b):"M 0 0"}};c.getArc=function(b,a,d){return d||this.isArcType(b.data)?this.svgArc(b,a):"M 0 0"};c.transformForArcLabel=function(b){b=this.updateAngle(b);var a,d;a="";b&&!this.hasType("gauge")&&(a=this.svgArc.centroid(b),b=isNaN(a[0])?0:a[0],a=isNaN(a[1])?0:a[1],d=Math.sqrt(b*b+a*a),d=this.radius&&d?(.375<36/this.radius?1.175-36/this.radius:.8)*this.radius/d:0,a="translate("+b*d+","+a*d+")");return a};c.getArcRatio=
function(b){var a=this.hasType("gauge")?Math.PI:2*Math.PI;return b?(b.endAngle-b.startAngle)/a:null};c.convertToArcData=function(b){return this.addName({id:b.data.id,value:b.value,ratio:this.getArcRatio(b),index:b.index})};c.textForArcLabel=function(b){var a,d,c;if(!this.shouldShowArcLabel())return"";d=(a=this.updateAngle(b))?a.value:null;a=this.getArcRatio(a);b=b.data.id;return this.hasType("gauge")||this.meetsArcLabelThreshold(a)?(c=this.getArcLabelFormat())?c(d,a,b):this.defaultArcValueFormat(d,
a):""};c.expandArc=function(b){var a=this,d;a.transiting?d=p.setInterval(function(){a.transiting||(p.clearInterval(d),0<a.legend.selectAll(".c3-legend-item-focused").size()&&a.expandArc(b))},10):(b=a.mapToTargetIds(b),a.svg.selectAll(a.selectorTargets(b,"."+h.chartArc)).each(function(b){a.shouldExpand(b.data.id)&&a.d3.select(this).selectAll("path").transition().duration(50).attr("d",a.svgArcExpanded).transition().duration(100).attr("d",a.svgArcExpandedSub).each(function(b){a.isDonutType(b.data)})}))};
c.unexpandArc=function(b){this.transiting||(b=this.mapToTargetIds(b),this.svg.selectAll(this.selectorTargets(b,"."+h.chartArc)).selectAll("path").transition().duration(50).attr("d",this.svgArc),this.svg.selectAll("."+h.arc).style("opacity",1))};c.shouldExpand=function(b){var a=this.config;return this.isDonutType(b)&&a.donut_expand||this.isGaugeType(b)&&a.gauge_expand||this.isPieType(b)&&a.pie_expand};c.shouldShowArcLabel=function(){var b=this.config,a=!0;this.hasType("donut")?a=b.donut_label_show:
this.hasType("pie")&&(a=b.pie_label_show);return a};c.meetsArcLabelThreshold=function(b){var a=this.config,a=this.hasType("donut")?a.donut_label_threshold:a.pie_label_threshold;return b>=a};c.getArcLabelFormat=function(){var b=this.config,a=b.pie_label_format;this.hasType("gauge")?a=b.gauge_label_format:this.hasType("donut")&&(a=b.donut_label_format);return a};c.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""};c.updateTargetsForArc=function(b){var a=this.main,d=this.classChartArc.bind(this),
c=this.classArcs.bind(this),e=this.classFocus.bind(this);b=a.select("."+h.chartArcs).selectAll("."+h.chartArc).data(this.pie(b)).attr("class",function(a){return d(a)+e(a.data)}).enter().append("g").attr("class",d);b.append("g").attr("class",c);b.append("text").attr("dy",this.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")};c.initArc=function(){this.arcs=this.main.select("."+h.chart).append("g").attr("class",h.chartArcs).attr("transform",
this.getTranslate("arc"));this.arcs.append("text").attr("class",h.chartArcsTitle).style("text-anchor","middle").text(this.getArcTitle())};c.redrawArc=function(b,a,d){var c=this,e=c.d3,f=c.config,m=c.main,n;n=m.selectAll("."+h.arcs).selectAll("."+h.arc).data(c.arcData.bind(c));n.enter().append("path").attr("class",c.classArc.bind(c)).style("fill",function(a){return c.color(a.data)}).style("cursor",function(a){return f.data_selection_isselectable(a)?"pointer":null}).style("opacity",0).each(function(a){c.isGaugeType(a.data)&&
(a.startAngle=a.endAngle=Math.PI/2*-1);this._current=a}).on("mouseover",function(a){var b;c.transiting||(a=c.updateAngle(a),b=c.convertToArcData(a),c.expandArc(a.data.id),c.api.focus(a.data.id),c.toggleFocusLegend(a.data.id,!0),c.config.data_onmouseover(b,this))}).on("mousemove",function(a){a=c.updateAngle(a);a=[c.convertToArcData(a)];c.showTooltip(a,e.mouse(this))}).on("mouseout",function(a){var b;c.transiting||(a=c.updateAngle(a),b=c.convertToArcData(a),c.unexpandArc(a.data.id),c.api.revert(),c.revertLegend(),
c.hideTooltip(),c.config.data_onmouseout(b,this))}).on("click",function(a,b){var d=c.updateAngle(a),d=c.convertToArcData(d);c.toggleShape&&c.toggleShape(this,d,b);c.config.data_onclick.call(c.api,d,this)});n.attr("transform",function(a){return!c.isGaugeType(a.data)&&d?"scale(0)":""}).style("opacity",function(a){return a===this._current?0:1}).each(function(){c.transiting=!0}).transition().duration(b).attrTween("d",function(a){var b=c.updateAngle(a),d;if(!b)return function(){return"M 0 0"};isNaN(this._current.endAngle)&&
(this._current.endAngle=this._current.startAngle);d=e.interpolate(this._current,b);this._current=d(0);return function(b){b=d(b);b.data=a.data;return c.getArc(b,!0)}}).attr("transform",d?"scale(1)":"").style("fill",function(a){return c.levelColor?c.levelColor(a.data.values[0].value):c.color(a.data.id)}).style("opacity",1).call(c.endall,function(){c.transiting=!1});n.exit().transition().duration(a).style("opacity",0).remove();m.selectAll("."+h.chartArc).select("text").style("opacity",0).attr("class",
function(a){return c.isGaugeType(a.data)?h.gaugeValue:""}).text(c.textForArcLabel.bind(c)).attr("transform",c.transformForArcLabel.bind(c)).style("font-size",function(a){return c.isGaugeType(a.data)?Math.round(c.radius/5)+"px":""}).transition().duration(b).style("opacity",function(a){return c.isTargetToShow(a.data.id)&&c.isArcType(a.data)?1:0});m.select("."+h.chartArcsTitle).style("opacity",c.hasType("donut")||c.hasType("gauge")?1:0);c.hasType("gauge")&&(c.arcs.select("."+h.chartArcsBackground).attr("d",
function(){return c.getArc({data:[{value:f.gauge_max}],startAngle:Math.PI/2*-1,endAngle:Math.PI/2},!0,!0)}),c.arcs.select("."+h.chartArcsGaugeUnit).attr("dy",".75em").text(f.gauge_label_show?f.gauge_units:""),c.arcs.select("."+h.chartArcsGaugeMin).attr("dx",-1*(c.innerRadius+(c.radius-c.innerRadius)/2)+"px").attr("dy","1.2em").text(f.gauge_label_show?f.gauge_min:""),c.arcs.select("."+h.chartArcsGaugeMax).attr("dx",c.innerRadius+(c.radius-c.innerRadius)/2+"px").attr("dy","1.2em").text(f.gauge_label_show?
f.gauge_max:""))};c.initGauge=function(){var b=this.arcs;this.hasType("gauge")&&(b.append("path").attr("class",h.chartArcsBackground),b.append("text").attr("class",h.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),b.append("text").attr("class",h.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),b.append("text").attr("class",h.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))};c.getGaugeLabelHeight=function(){return this.config.gauge_label_show?
20:0};c.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",h.regions)};c.redrawRegion=function(b){var a=this.config;this.region.style("visibility",this.hasArcType()?"hidden":"visible");this.mainRegion=this.main.select("."+h.regions).selectAll("."+h.region).data(a.regions);this.mainRegion.enter().append("g").attr("class",this.classRegion.bind(this)).append("rect").style("fill-opacity",0);this.mainRegion.exit().transition().duration(b).style("opacity",
0).remove()};c.addTransitionForRegion=function(b){var a=this.regionX.bind(this),d=this.regionY.bind(this),c=this.regionWidth.bind(this),e=this.regionHeight.bind(this);b.push(this.mainRegion.selectAll("rect").transition().attr("x",a).attr("y",d).attr("width",c).attr("height",e).style("fill-opacity",function(a){return t(a.opacity)?a.opacity:.1}))};c.regionX=function(b){var a=this.config,d="y"===b.axis?this.y:this.y2;return"y"===b.axis||"y2"===b.axis?a.axis_rotated?"start"in b?d(b.start):0:0:a.axis_rotated?
0:"start"in b?this.x(this.isTimeSeries()?this.parseDate(b.start):b.start):0};c.regionY=function(b){var a=this.config,d="y"===b.axis?this.y:this.y2;return"y"===b.axis||"y2"===b.axis?a.axis_rotated?0:"end"in b?d(b.end):0:a.axis_rotated?"start"in b?this.x(this.isTimeSeries()?this.parseDate(b.start):b.start):0:0};c.regionWidth=function(b){var a=this.config,d=this.regionX(b),c="y"===b.axis?this.y:this.y2;b="y"===b.axis||"y2"===b.axis?a.axis_rotated?"end"in b?c(b.end):this.width:this.width:a.axis_rotated?
this.width:"end"in b?this.x(this.isTimeSeries()?this.parseDate(b.end):b.end):this.width;return b<d?0:b-d};c.regionHeight=function(b){var a=this.config,d=this.regionY(b),c="y"===b.axis?this.y:this.y2;b="y"===b.axis||"y2"===b.axis?a.axis_rotated?this.height:"start"in b?c(b.start):this.height:a.axis_rotated?"end"in b?this.x(this.isTimeSeries()?this.parseDate(b.end):b.end):this.height:this.height;return b<d?0:b-d};c.isRegionOnX=function(b){return!b.axis||"x"===b.axis};c.drag=function(b){var a=this,d=
a.config,c=a.main,e=a.d3,f,m,n,p,t,u,z;a.hasArcType()||!d.data_selection_enabled||d.zoom_enabled&&!a.zoom.altDomain||!d.data_selection_multiple||(f=a.dragStart[0],m=a.dragStart[1],n=b[0],b=b[1],p=Math.min(f,n),t=Math.max(f,n),u=d.data_selection_grouped?a.margin.top:Math.min(m,b),z=d.data_selection_grouped?a.height:Math.max(m,b),c.select("."+h.dragarea).attr("x",p).attr("y",u).attr("width",t-p).attr("height",z-u),c.selectAll("."+h.shapes).selectAll("."+h.shape).filter(function(a){return d.data_selection_isselectable(a)}).each(function(b,
d){var c=e.select(this),f=c.classed(h.SELECTED),g=c.classed(h.INCLUDED),m,q,n,r,y;m=!1;if(c.classed(h.circle))m=1*c.attr("cx"),q=1*c.attr("cy"),y=a.togglePoint,m=p<m&&m<t&&u<q&&q<z;else if(c.classed(h.bar))y=qa(this),m=y.x,q=y.y,n=y.width,r=y.height,y=a.togglePath,m=!(t<m||m+n<p)&&!(z<q||q+r<u);else return;m^g&&(c.classed(h.INCLUDED,!g),c.classed(h.SELECTED,!f),y.call(a,!f,c,b,d))}))};c.dragstart=function(b){var a=this.config;!this.hasArcType()&&a.data_selection_enabled&&(this.dragStart=b,this.main.select("."+
h.chart).append("rect").attr("class",h.dragarea).style("opacity",.1),this.dragging=!0,this.config.data_ondragstart())};c.dragend=function(){var b=this.config;!this.hasArcType()&&b.data_selection_enabled&&(this.main.select("."+h.dragarea).transition().duration(100).style("opacity",0).remove(),this.main.selectAll("."+h.shape).classed(h.INCLUDED,!1),this.dragging=!1,this.config.data_ondragend())};c.selectPoint=function(b,a,d){var c=this,e=c.config,f=(e.axis_rotated?c.circleY:c.circleX).bind(c),m=(e.axis_rotated?
c.circleX:c.circleY).bind(c),n=c.pointSelectR.bind(c);e.data_onselected.call(c.api,a,b.node());c.main.select("."+h.selectedCircles+c.getTargetSelectorSuffix(a.id)).selectAll("."+h.selectedCircle+"-"+d).data([a]).enter().append("circle").attr("class",function(){return c.generateClass(h.selectedCircle,d)}).attr("cx",f).attr("cy",m).attr("stroke",function(){return c.color(a)}).attr("r",function(a){return 1.4*c.pointSelectR(a)}).transition().duration(100).attr("r",n)};c.unselectPoint=function(b,a,d){this.config.data_onunselected(a,
b.node());this.main.select("."+h.selectedCircles+this.getTargetSelectorSuffix(a.id)).selectAll("."+h.selectedCircle+"-"+d).transition().duration(100).attr("r",0).remove()};c.togglePoint=function(b,a,d,c){b?this.selectPoint(a,d,c):this.unselectPoint(a,d,c)};c.selectPath=function(b,a){var d=this;d.config.data_onselected.call(d,a,b.node());b.transition().duration(100).style("fill",function(){return d.d3.rgb(d.color(a)).brighter(.75)})};c.unselectPath=function(b,a){var d=this;d.config.data_onunselected.call(d,
a,b.node());b.transition().duration(100).style("fill",function(){return d.color(a)})};c.togglePath=function(b,a,d,c){b?this.selectPath(a,d,c):this.unselectPath(a,d,c)};c.getToggle=function(b,a){var d;"circle"===b.nodeName?d=this.isStepType(a)?function(){}:this.togglePoint:"path"===b.nodeName&&(d=this.togglePath);return d};c.toggleShape=function(b,a,d){var c=this.d3,e=this.config,f=c.select(b),m=f.classed(h.SELECTED),n=this.getToggle(b,a).bind(this);e.data_selection_enabled&&e.data_selection_isselectable(a)&&
(e.data_selection_multiple||this.main.selectAll("."+h.shapes+(e.data_selection_grouped?this.getTargetSelectorSuffix(a.id):"")).selectAll("."+h.shape).each(function(a,b){var d=c.select(this);d.classed(h.SELECTED)&&n(!1,d.classed(h.SELECTED,!1),a,b)}),f.classed(h.SELECTED,!m),n(!m,f,a,d))};c.initBrush=function(){var b=this;b.brush=b.d3.svg.brush().on("brush",function(){b.redrawForBrush()});b.brush.update=function(){b.context&&b.context.select("."+h.brush).call(this);return this};b.brush.scale=function(a){return b.config.axis_rotated?
this.y(a):this.x(a)}};c.initSubchart=function(){var b=this.config,a=this.context=this.svg.append("g").attr("transform",this.getTranslate("context"));b.subchart_show||a.style("visibility","hidden");a.append("g").attr("clip-path",this.clipPathForSubchart).attr("class",h.chart);a.select("."+h.chart).append("g").attr("class",h.chartBars);a.select("."+h.chart).append("g").attr("class",h.chartLines);a.append("g").attr("clip-path",this.clipPath).attr("class",h.brush).call(this.brush).selectAll("rect").attr(b.axis_rotated?
"width":"height",b.axis_rotated?this.width2:this.height2);this.axes.subx=a.append("g").attr("class",h.axisX).attr("transform",this.getTranslate("subx")).attr("clip-path",b.axis_rotated?"":this.clipPathForXAxis)};c.updateTargetsForSubchart=function(b){var a=this.context,d=this.config,c,e;e=this.classChartBar.bind(this);var f=this.classBars.bind(this);c=this.classChartLine.bind(this);var m=this.classLines.bind(this),n=this.classAreas.bind(this);d.subchart_show&&(d=a.select("."+h.chartBars).selectAll("."+
h.chartBar).data(b).attr("class",e),e=d.enter().append("g").style("opacity",0).attr("class",e),e.append("g").attr("class",f),b=a.select("."+h.chartLines).selectAll("."+h.chartLine).data(b).attr("class",c),c=b.enter().append("g").style("opacity",0).attr("class",c),c.append("g").attr("class",m),c.append("g").attr("class",n))};c.redrawSubchart=function(b,a,d,c,e,f,m){var n=this,p=n.d3,t=n.context,u=n.config,z,x;x=n.barData.bind(n);var A=n.lineData.bind(n);z=n.classBar.bind(n);var E=n.classLine.bind(n),
H=n.classArea.bind(n),G=n.initialOpacity.bind(n);u.subchart_show&&(p.event&&"zoom"===p.event.type&&n.brush.extent(n.x.orgDomain()).update(),b&&(!u.axis_rotated&&u.axis_x_tick_rotate&&n.rotateTickText(n.axes.subx,a.axisSubX,u.axis_x_tick_rotate),n.brush.empty()||n.brush.extent(n.x.orgDomain()).update(),b=n.generateDrawArea(e,!0),f=n.generateDrawBar(f,!0),m=n.generateDrawLine(m,!0),x=t.selectAll("."+h.bars).selectAll("."+h.bar).data(x),x.enter().append("path").attr("class",z).style("stroke","none").style("fill",
n.color),x.style("opacity",G).transition().duration(d).attr("d",f).style("opacity",1),x.exit().transition().duration(d).style("opacity",0).remove(),z=t.selectAll("."+h.lines).selectAll("."+h.line).data(A),z.enter().append("path").attr("class",E).style("stroke",n.color),z.style("opacity",G).transition().duration(d).attr("d",m).style("opacity",1),z.exit().transition().duration(d).style("opacity",0).remove(),t=t.selectAll("."+h.areas).selectAll("."+h.area).data(A),t.enter().append("path").attr("class",
H).style("fill",n.color).style("opacity",function(){n.orgAreaOpacity=+p.select(this).style("opacity");return 0}),t.style("opacity",0).transition().duration(d).attr("d",b).style("fill",n.color).style("opacity",n.orgAreaOpacity),t.exit().transition().duration(c).style("opacity",0).remove()))};c.redrawForBrush=function(){var b=this.x;this.redraw({withTransition:!1,withY:this.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1});this.config.subchart_onbrush.call(this.api,b.orgDomain())};
c.transformContext=function(b,a){var d;a&&a.axisSubX?d=a.axisSubX:(d=this.context.select("."+h.axisX),b&&(d=d.transition()));this.context.attr("transform",this.getTranslate("context"));d.attr("transform",this.getTranslate("subx"))};c.getDefaultExtent=function(){var b=this.config,b=x(b.axis_x_extent)?b.axis_x_extent(this.getXDomain(this.data.targets)):b.axis_x_extent;this.isTimeSeries()&&(b=[this.parseDate(b[0]),this.parseDate(b[1])]);return b};c.initZoom=function(){var b=this,a=b.d3,d=b.config,c;
b.zoom=a.behavior.zoom().on("zoomstart",function(){c=a.event.sourceEvent;b.zoom.altDomain=a.event.sourceEvent.altKey?b.x.orgDomain():null;d.zoom_onzoomstart.call(b.api,a.event.sourceEvent)}).on("zoom",function(){b.redrawForZoom.call(b)}).on("zoomend",function(){var e=a.event.sourceEvent;e&&c.x===e.x&&c.y===e.y||(b.redrawEventRect(),b.updateZoom(),d.zoom_onzoomend.call(b.api,b.x.orgDomain()))});b.zoom.scale=function(a){return d.axis_rotated?this.y(a):this.x(a)};b.zoom.orgScaleExtent=function(){var a=
d.zoom_extent?d.zoom_extent:[1,10];return[a[0],Math.max(b.getMaxDataCount()/a[1],a[1])]};b.zoom.updateScaleExtent=function(){var a=L(b.x.orgDomain())/L(b.orgXDomain),d=this.orgScaleExtent();this.scaleExtent([d[0]*a,d[1]*a]);return this}};c.updateZoom=function(){var b=this.config.zoom_enabled?this.zoom:function(){};this.main.select("."+h.zoomRect).call(b).on("dblclick.zoom",null);this.main.selectAll("."+h.eventRect).call(b).on("dblclick.zoom",null)};c.redrawForZoom=function(){var b=this.d3,a=this.config,
d=this.zoom,c=this.x;a.zoom_enabled&&0!==this.filterTargetsToShow(this.data.targets).length&&("mousemove"===b.event.sourceEvent.type&&d.altDomain?(c.domain(d.altDomain),d.scale(c).updateScaleExtent()):(this.isCategorized()&&c.orgDomain()[0]===this.orgXDomain[0]&&c.domain([this.orgXDomain[0]-1E-10,c.orgDomain()[1]]),this.redraw({withTransition:!1,withY:a.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===b.event.sourceEvent.type&&(this.cancelClick=!0),a.zoom_onzoom.call(this.api,
c.orgDomain())))};c.generateColor=function(){var b=this.config,a=this.d3,d=b.data_colors,c=P(b.color_pattern)?b.color_pattern:a.scale.category10().range(),e=b.data_color,f=[];return function(a){var b=a.id||a,h;d[b]instanceof Function?h=d[b](a):d[b]?h=d[b]:(0>f.indexOf(b)&&f.push(b),h=c[f.indexOf(b)%c.length],d[b]=h);return e instanceof Function?e(h,a):h}};c.generateLevelColor=function(){var b=this.config,a=b.color_pattern,d=b.color_threshold,c="value"===d.unit,e=d.values&&d.values.length?d.values:
[],f=d.max||100;return P(b.color_threshold)?function(b){var d,h,m=a[a.length-1];for(d=0;d<e.length;d++)if(h=c?b:100*b/f,h<e[d]){m=a[d];break}return m}:null};c.getYFormat=function(b){var a=this,d=b&&!a.hasType("gauge")?a.defaultArcValueFormat:a.yFormat,c=b&&!a.hasType("gauge")?a.defaultArcValueFormat:a.y2Format;return function(b,e,f){return("y2"===a.getAxisId(f)?c:d).call(a,b,e)}};c.yFormat=function(b){var a=this.config;return(a.axis_y_tick_format?a.axis_y_tick_format:this.defaultValueFormat)(b)};
c.y2Format=function(b){var a=this.config;return(a.axis_y2_tick_format?a.axis_y2_tick_format:this.defaultValueFormat)(b)};c.defaultValueFormat=function(b){return t(b)?+b:""};c.defaultArcValueFormat=function(b,a){return(100*a).toFixed(1)+"%"};c.formatByAxisId=function(b){var a=this.config.data_labels,d=function(a){return t(a)?+a:""};"function"===typeof a.format?d=a.format:"object"===typeof a.format&&a.format[b]&&(d=a.format[b]);return d};c.hasCaches=function(b){for(var a=0;a<b.length;a++)if(!(b[a]in
this.cache))return!1;return!0};c.addCache=function(b,a){this.cache[b]=this.cloneTarget(a)};c.getCaches=function(b){var a=[],d;for(d=0;d<b.length;d++)b[d]in this.cache&&a.push(this.cloneTarget(this.cache[b[d]]));return a};var h=c.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",
chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",
regions:"c3-regions",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",
xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",
dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};c.generateClass=function(b,a){return" "+b+" "+b+this.getTargetSelectorSuffix(a)};c.classText=function(b){return this.generateClass(h.text,b.index)};c.classTexts=function(b){return this.generateClass(h.texts,b.id)};c.classShape=function(b){return this.generateClass(h.shape,b.index)};c.classShapes=function(b){return this.generateClass(h.shapes,b.id)};c.classLine=function(b){return this.classShape(b)+this.generateClass(h.line,
b.id)};c.classLines=function(b){return this.classShapes(b)+this.generateClass(h.lines,b.id)};c.classCircle=function(b){return this.classShape(b)+this.generateClass(h.circle,b.index)};c.classCircles=function(b){return this.classShapes(b)+this.generateClass(h.circles,b.id)};c.classBar=function(b){return this.classShape(b)+this.generateClass(h.bar,b.index)};c.classBars=function(b){return this.classShapes(b)+this.generateClass(h.bars,b.id)};c.classArc=function(b){return this.classShape(b.data)+this.generateClass(h.arc,
b.data.id)};c.classArcs=function(b){return this.classShapes(b.data)+this.generateClass(h.arcs,b.data.id)};c.classArea=function(b){return this.classShape(b)+this.generateClass(h.area,b.id)};c.classAreas=function(b){return this.classShapes(b)+this.generateClass(h.areas,b.id)};c.classRegion=function(b,a){return this.generateClass(h.region,a)+" "+("class"in b?b["class"]:"")};c.classEvent=function(b){return this.generateClass(h.eventRect,b.index)};c.classTarget=function(b){var a=this.config.data_classes[b],
d="";a&&(d=" "+h.target+"-"+a);return this.generateClass(h.target,b)+d};c.classFocus=function(b){return this.classFocused(b)+this.classDefocused(b)};c.classFocused=function(b){return" "+(0<=this.focusedTargetIds.indexOf(b.id)?h.focused:"")};c.classDefocused=function(b){return" "+(0<=this.defocusedTargetIds.indexOf(b.id)?h.defocused:"")};c.classChartText=function(b){return h.chartText+this.classTarget(b.id)};c.classChartLine=function(b){return h.chartLine+this.classTarget(b.id)};c.classChartBar=function(b){return h.chartBar+
this.classTarget(b.id)};c.classChartArc=function(b){return h.chartArc+this.classTarget(b.data.id)};c.getTargetSelectorSuffix=function(b){return b||0===b?("-"+b).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""};c.selectorTarget=function(b,a){return(a||"")+"."+h.target+this.getTargetSelectorSuffix(b)};c.selectorTargets=function(b,a){var d=this;b=b||[];return b.length?b.map(function(b){return d.selectorTarget(b,a)}):null};c.selectorLegend=function(b){return"."+h.legendItem+this.getTargetSelectorSuffix(b)};
c.selectorLegends=function(b){var a=this;return b.length?b.map(function(b){return a.selectorLegend(b)}):null};var t=c.isValue=function(b){return b||0===b},x=c.isFunction=function(b){return"function"===typeof b},m=c.isString=function(b){return"string"===typeof b},A=c.isUndefined=function(b){return"undefined"===typeof b},O=c.isDefined=function(b){return"undefined"!==typeof b},N=c.ceil10=function(b){return 10*Math.ceil(b/10)},J=c.asHalfPixel=function(b){return Math.ceil(b)+.5},L=c.diffDomain=function(b){return b[1]-
b[0]},E=c.isEmpty=function(b){return!b||m(b)&&0===b.length||"object"===typeof b&&0===Object.keys(b).length},P=c.notEmpty=function(b){return 0<Object.keys(b).length},I=c.getOption=function(b,a,d){return O(b[a])?b[a]:d},R=c.hasValue=function(b,a){var d=!1;Object.keys(b).forEach(function(c){b[c]===a&&(d=!0)});return d},qa=c.getPathBox=function(b){var a=b.getBoundingClientRect(),d=[b.pathSegList.getItem(0),b.pathSegList.getItem(1)];b=d[0].x;d=Math.min(d[0].y,d[1].y);return{x:b,y:d,width:a.width,height:a.height}};
f.focus=function(b){var a=this.internal,d;b=a.mapToTargetIds(b);d=a.svg.selectAll(a.selectorTargets(b.filter(a.isTargetToShow,a)));this.revert();this.defocus();d.classed(h.focused,!0).classed(h.defocused,!1);a.hasArcType()&&a.expandArc(b);a.toggleFocusLegend(b,!0);a.focusedTargetIds=b;a.defocusedTargetIds=a.defocusedTargetIds.filter(function(a){return 0>b.indexOf(a)})};f.defocus=function(b){var a=this.internal,d;b=a.mapToTargetIds(b);d=a.svg.selectAll(a.selectorTargets(b.filter(a.isTargetToShow,a)));
this.revert();d.classed(h.focused,!1).classed(h.defocused,!0);a.hasArcType()&&a.unexpandArc(b);a.toggleFocusLegend(b,!1);a.focusedTargetIds=a.focusedTargetIds.filter(function(a){return 0>b.indexOf(a)});a.defocusedTargetIds=b};f.revert=function(b){var a=this.internal;b=a.mapToTargetIds(b);a.svg.selectAll(a.selectorTargets(b)).classed(h.focused,!1).classed(h.defocused,!1);a.hasArcType()&&a.unexpandArc(b);a.revertLegend();a.focusedTargetIds=[];a.defocusedTargetIds=[]};f.show=function(b,a){var d=this.internal,
c;b=d.mapToTargetIds(b);a=a||{};d.removeHiddenTargetIds(b);c=d.svg.selectAll(d.selectorTargets(b));c.transition().style("opacity",1,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",1)});a.withLegend&&d.showLegend(b);d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})};f.hide=function(b,a){var d=this.internal,c;b=d.mapToTargetIds(b);a=a||{};d.addHiddenTargetIds(b);c=d.svg.selectAll(d.selectorTargets(b));c.transition().style("opacity",0,"important").call(d.endall,
function(){c.style("opacity",null).style("opacity",0)});a.withLegend&&d.hideLegend(b);d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})};f.toggle=function(b){this.internal.isTargetToShow(b)?this.hide(b):this.show(b)};f.zoom=function(b){var a=this.internal;b&&(a.isTimeSeries()&&(b=b.map(function(b){return a.parseDate(b)})),a.brush.extent(b),a.redraw({withUpdateXDomain:!0,withY:a.config.zoom_rescale}),a.config.zoom_onzoom.call(this,a.x.orgDomain()));return a.brush.extent()};f.zoom.enable=
function(b){var a=this.internal;a.config.zoom_enabled=b;a.updateAndRedraw()};f.unzoom=function(){var b=this.internal;b.brush.clear().update();b.redraw({withUpdateXDomain:!0})};f.load=function(b){var a=this.internal,d=a.config;b.xs&&a.addXs(b.xs);"classes"in b&&Object.keys(b.classes).forEach(function(a){d.data_classes[a]=b.classes[a]});"categories"in b&&a.isCategorized()&&(d.axis_x_categories=b.categories);"axes"in b&&Object.keys(b.axes).forEach(function(a){d.data_axes[a]=b.axes[a]});"cacheIds"in b&&
a.hasCaches(b.cacheIds)?a.load(a.getCaches(b.cacheIds),b.done):"unload"in b?a.unload(a.mapToTargetIds("boolean"===typeof b.unload&&b.unload?null:b.unload),function(){a.loadFromArgs(b)}):a.loadFromArgs(b)};f.unload=function(b){var a=this.internal;b=b||{};b instanceof Array?b={ids:b}:"string"===typeof b&&(b={ids:[b]});a.unload(a.mapToTargetIds(b.ids),function(){a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0});b.done&&b.done()})};f.flow=function(b){var a=this.internal,d,c,e=[],
f=a.getMaxDataCount(),h,m=0,n=0,p;if(b.json)c=a.convertJsonToData(b.json,b.keys);else if(b.rows)c=a.convertRowsToData(b.rows);else if(b.columns)c=a.convertColumnsToData(b.columns);else return;d=a.convertDataToTargets(c,!0);a.data.targets.forEach(function(b){var c=!1,f,g;for(f=0;f<d.length;f++)if(b.id===d[f].id){c=!0;b.values[b.values.length-1]&&(n=b.values[b.values.length-1].index+1);m=d[f].values.length;for(g=0;g<m;g++)d[f].values[g].index=n+g,a.isTimeSeries()||(d[f].values[g].x=n+g);b.values=b.values.concat(d[f].values);
d.splice(f,1);break}c||e.push(b.id)});a.data.targets.forEach(function(b){var d,c;for(d=0;d<e.length;d++)if(b.id===e[d])for(n=b.values[b.values.length-1].index+1,c=0;c<m;c++)b.values.push({id:b.id,index:n+c,x:a.isTimeSeries()?a.getOtherTargetX(n+c):n+c,value:null})});a.data.targets.length&&d.forEach(function(b){var d,c=[];for(d=a.data.targets[0].values[0].index;d<n;d++)c.push({id:b.id,index:d,x:a.isTimeSeries()?a.getOtherTargetX(d):d,value:null});b.values.forEach(function(b){b.index+=n;a.isTimeSeries()||
(b.x+=n)});b.values=c.concat(b.values)});a.data.targets=a.data.targets.concat(d);a.getMaxDataCount();h=a.data.targets[0];c=h.values[0];O(b.to)?(m=0,p=a.isTimeSeries()?a.parseDate(b.to):b.to,h.values.forEach(function(a){a.x<p&&m++})):O(b.length)&&(m=b.length);f?1===f&&a.isTimeSeries()&&(h=(h.values[h.values.length-1].x-c.x)/2,h=[new Date(+c.x-h),new Date(+c.x+h)],a.updateXDomain(null,!0,!0,!1,h)):(h=a.isTimeSeries()?1<h.values.length?h.values[h.values.length-1].x-c.x:c.x-a.getXDomain(a.data.targets)[0]:
1,h=[c.x-h,c.x],a.updateXDomain(null,!0,!0,!1,h));a.updateTargets(a.data.targets);a.redraw({flow:{index:c.index,length:m,duration:t(b.duration)?b.duration:a.config.transition_duration,done:b.done,orgDataCount:f},withLegend:!0,withTransition:1<f,withTrimXDomain:!1})};c.generateFlow=function(b){var a=this,d=a.config,c=a.d3;return function(){var e=b.targets,f=b.flow,m=b.drawBar,n=b.drawLine,p=b.drawArea,t=b.cx,u=b.cy,z=b.xv,x=b.xForText,A=b.yForText,E=b.duration,H=1,G,I=f.index,J=f.length,N=a.getValueOnIndex(a.data.targets[0].values,
I),O=a.getValueOnIndex(a.data.targets[0].values,I+J),H=a.x.domain(),E=f.duration||E,P=f.done||function(){},R=a.generateWait(),Y=a.xgrid||c.selectAll([]),X=a.xgridLines||c.selectAll([]),k=a.mainRegion||c.selectAll([]),Z=a.mainText||c.selectAll([]),W=a.mainBar||c.selectAll([]),qa=a.mainLine||c.selectAll([]),yb=a.mainArea||c.selectAll([]),ja=a.mainCircle||c.selectAll([]);a.flowing=!0;a.data.targets.forEach(function(a){a.values.splice(0,J)});e=a.updateXDomain(e,!0,!0);a.updateXGrid&&a.updateXGrid(!0);
f.orgDataCount?f=1===f.orgDataCount||N.x===O.x?a.x(H[0])-a.x(e[0]):a.isTimeSeries()?a.x(H[0])-a.x(e[0]):a.x(N.x)-a.x(O.x):1!==a.data.targets[0].values.length?f=a.x(H[0])-a.x(e[0]):a.isTimeSeries()?(N=a.getValueOnIndex(a.data.targets[0].values,0),O=a.getValueOnIndex(a.data.targets[0].values,a.data.targets[0].values.length-1),f=a.x(N.x)-a.x(O.x)):f=L(e)/2;H=L(H)/L(e);G="translate("+f+",0) scale("+H+",1)";a.hideXGridFocus();a.hideTooltip();c.transition().ease("linear").duration(E).each(function(){R.add(a.axes.x.transition().call(a.xAxis));
R.add(W.transition().attr("transform",G));R.add(qa.transition().attr("transform",G));R.add(yb.transition().attr("transform",G));R.add(ja.transition().attr("transform",G));R.add(Z.transition().attr("transform",G));R.add(k.filter(a.isRegionOnX).transition().attr("transform",G));R.add(Y.transition().attr("transform",G));R.add(X.transition().attr("transform",G))}).call(R,function(){var b,c=[],e=[],f=[];if(J){for(b=0;b<J;b++)c.push("."+h.shape+"-"+(I+b)),e.push("."+h.text+"-"+(I+b)),f.push("."+h.eventRect+
"-"+(I+b));a.svg.selectAll("."+h.shapes).selectAll(c).remove();a.svg.selectAll("."+h.texts).selectAll(e).remove();a.svg.selectAll("."+h.eventRects).selectAll(f).remove();a.svg.select("."+h.xgrid).remove()}Y.attr("transform",null).attr(a.xgridAttr);X.attr("transform",null);X.select("line").attr("x1",d.axis_rotated?0:z).attr("x2",d.axis_rotated?a.width:z);X.select("text").attr("x",d.axis_rotated?a.width:0).attr("y",z);W.attr("transform",null).attr("d",m);qa.attr("transform",null).attr("d",n);yb.attr("transform",
null).attr("d",p);ja.attr("transform",null).attr("cx",t).attr("cy",u);Z.attr("transform",null).attr("x",x).attr("y",A).style("fill-opacity",a.opacityForText.bind(a));k.attr("transform",null);k.select("rect").filter(a.isRegionOnX).attr("x",a.regionX.bind(a)).attr("width",a.regionWidth.bind(a));d.interaction_enabled&&a.redrawEventRect();P();a.flowing=!1})}};f.selected=function(b){var a=this.internal,d=a.d3;return d.merge(a.main.selectAll("."+h.shapes+a.getTargetSelectorSuffix(b)).selectAll("."+h.shape).filter(function(){return d.select(this).classed(h.SELECTED)}).map(function(a){return a.map(function(a){a=
a.__data__;return a.data?a.data:a})}))};f.select=function(b,a,d){var c=this.internal,e=c.d3,f=c.config;f.data_selection_enabled&&c.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(m,n){var p=e.select(this),t=m.data?m.data.id:m.id,u=c.getToggle(this,m).bind(c),t=f.data_selection_grouped||!b||0<=b.indexOf(t),z=!a||0<=a.indexOf(n),x=p.classed(h.SELECTED);p.classed(h.line)||p.classed(h.area)||(t&&z?f.data_selection_isselectable(m)&&!x&&u(!0,p.classed(h.SELECTED,!0),m,n):O(d)&&d&&x&&u(!1,
p.classed(h.SELECTED,!1),m,n))})};f.unselect=function(b,a){var d=this.internal,c=d.d3,e=d.config;e.data_selection_enabled&&d.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(f,m){var n=c.select(this),p=f.data?f.data.id:f.id,t=d.getToggle(this,f).bind(d),p=e.data_selection_grouped||!b||0<=b.indexOf(p),u=!a||0<=a.indexOf(m),x=n.classed(h.SELECTED);n.classed(h.line)||n.classed(h.area)||p&&u&&e.data_selection_isselectable(f)&&x&&t(!1,n.classed(h.SELECTED,!1),f,m)})};f.transform=function(b,
a){var d=this.internal,c=0<=["pie","donut"].indexOf(b)?{withTransform:!0}:null;d.transformTo(a,b,c)};c.transformTo=function(b,a,d){var c=!this.hasArcType();d=d||{withTransitionForAxis:c};this.transiting=d.withTransitionForTransform=!1;this.setTargetType(b,a);this.updateAndRedraw(d)};f.groups=function(b){var a=this.internal,d=a.config;if(A(b))return d.data_groups;d.data_groups=b;a.redraw();return d.data_groups};f.xgrids=function(b){var a=this.internal,d=a.config;if(!b)return d.grid_x_lines;d.grid_x_lines=
b;a.redrawWithoutRescale();return d.grid_x_lines};f.xgrids.add=function(b){return this.xgrids(this.internal.config.grid_x_lines.concat(b?b:[]))};f.xgrids.remove=function(b){this.internal.removeGridLines(b,!0)};f.ygrids=function(b){var a=this.internal,d=a.config;if(!b)return d.grid_y_lines;d.grid_y_lines=b;a.redrawWithoutRescale();return d.grid_y_lines};f.ygrids.add=function(b){return this.ygrids(this.internal.config.grid_y_lines.concat(b?b:[]))};f.ygrids.remove=function(b){this.internal.removeGridLines(b,
!1)};f.regions=function(b){var a=this.internal,d=a.config;if(!b)return d.regions;d.regions=b;a.redrawWithoutRescale();return d.regions};f.regions.add=function(b){var a=this.internal,d=a.config;if(!b)return d.regions;d.regions=d.regions.concat(b);a.redrawWithoutRescale();return d.regions};f.regions.remove=function(b){var a=this.internal,d=a.config,c,e;b=b||{};c=a.getOption(b,"duration",d.transition_duration);e=a.getOption(b,"classes",[h.region]);b=a.main.select("."+h.regions).selectAll(e.map(function(a){return"."+
a}));(c?b.transition().duration(c):b).style("opacity",0).remove();d.regions=d.regions.filter(function(a){var b=!1;if(!a["class"])return!0;a["class"].split(" ").forEach(function(a){0<=e.indexOf(a)&&(b=!0)});return!b});return d.regions};f.data=function(b){var a=this.internal.data.targets;return"undefined"===typeof b?a:a.filter(function(a){return 0<=[].concat(b).indexOf(a.id)})};f.data.shown=function(b){return this.internal.filterTargetsToShow(this.data(b))};f.data.values=function(b){var a=null;b&&(b=
this.data(b),a=b[0]?b[0].values.map(function(a){return a.value}):null);return a};f.data.names=function(b){return this.internal.updateDataAttributes("names",b)};f.data.colors=function(b){return this.internal.updateDataAttributes("colors",b)};f.data.axes=function(b){return this.internal.updateDataAttributes("axes",b)};f.category=function(b,a){var d=this.internal,c=d.config;1<arguments.length&&(c.axis_x_categories[b]=a,d.redraw());return c.axis_x_categories[b]};f.categories=function(b){var a=this.internal,
d=a.config;if(!arguments.length)return d.axis_x_categories;d.axis_x_categories=b;a.redraw();return d.axis_x_categories};f.color=function(b){return this.internal.color(b)};f.x=function(b){var a=this.internal;arguments.length&&(a.updateTargetX(a.data.targets,b),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}));return a.data.xs};f.xs=function(b){var a=this.internal;arguments.length&&(a.updateTargetXs(a.data.targets,b),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}));return a.data.xs};
f.axis=function(){};f.axis.labels=function(b){var a=this.internal;arguments.length&&(Object.keys(b).forEach(function(d){a.setAxisLabelText(d,b[d])}),a.updateAxisLabels())};f.axis.max=function(b){var a=this.internal,d=a.config;if(arguments.length)"object"===typeof b?(t(b.x)&&(d.axis_x_max=b.x),t(b.y)&&(d.axis_y_max=b.y),t(b.y2)&&(d.axis_y2_max=b.y2)):d.axis_y_max=d.axis_y2_max=b,a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:d.axis_x_max,y:d.axis_y_max,y2:d.axis_y2_max}};f.axis.min=
function(b){var a=this.internal,d=a.config;if(arguments.length)"object"===typeof b?(t(b.x)&&(d.axis_x_min=b.x),t(b.y)&&(d.axis_y_min=b.y),t(b.y2)&&(d.axis_y2_min=b.y2)):d.axis_y_min=d.axis_y2_min=b,a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:d.axis_x_min,y:d.axis_y_min,y2:d.axis_y2_min}};f.axis.range=function(b){if(arguments.length)O(b.max)&&this.axis.max(b.max),O(b.min)&&this.axis.min(b.min);else return{max:this.axis.max(),min:this.axis.min()}};f.legend=function(){};f.legend.show=
function(b){var a=this.internal;a.showLegend(a.mapToTargetIds(b));a.updateAndRedraw({withLegend:!0})};f.legend.hide=function(b){var a=this.internal;a.hideLegend(a.mapToTargetIds(b));a.updateAndRedraw({withLegend:!0})};f.resize=function(b){var a=this.internal.config;a.size_width=b?b.width:null;a.size_height=b?b.height:null;this.flush()};f.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})};f.destroy=function(){var b=this.internal;b.data.targets=
void 0;b.data.xs={};b.selectChart.classed("c3",!1).html("");p.clearInterval(b.intervalForObserveInserted);p.onresize=null};f.tooltip=function(){};f.tooltip.show=function(b){var a=this.internal,d,c;b.mouse&&(c=b.mouse);b.data?a.isMultipleX()?(c=[a.x(b.data.x),a.getYScale(b.data.id)(b.data.value)],d=null):d=t(b.data.index)?b.data.index:a.getIndexByX(b.data.x):"undefined"!==typeof b.x?d=a.getIndexByX(b.x):"undefined"!==typeof b.index&&(d=b.index);a.dispatchEvent("mouseover",d,c);a.dispatchEvent("mousemove",
d,c)};f.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)};var Z;"function"===typeof define&&define.amd?define("c3",["d3"],e):"undefined"!==typeof exports&&"undefined"!==typeof module?module.exports=e:p.c3=e})(window);
(function(){var p=this,u=p._,G=Array.prototype,H=Object.prototype,e=G.push,f=G.slice,c=G.concat,n=H.toString,h=H.hasOwnProperty,H=Array.isArray,t=Object.keys,x=Function.prototype.bind,m=function(a){if(a instanceof m)return a;if(!(this instanceof m))return new m(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=m),exports._=m):p._=m;m.VERSION="1.7.0";var A=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,
c)};case 2:return function(c,e){return a.call(b,c,e)};case 3:return function(c,e,f){return a.call(b,c,e,f)};case 4:return function(c,e,f,g){return a.call(b,c,e,f,g)}}return function(){return a.apply(b,arguments)}};m.iteratee=function(a,b,c){return null==a?m.identity:m.isFunction(a)?A(a,b,c):m.isObject(a)?m.matches(a):m.property(a)};m.each=m.forEach=function(a,b,c){if(null==a)return a;b=A(b,c);var e=a.length;if(e===+e)for(c=0;c<e;c++)b(a[c],c,a);else{var f=m.keys(a);c=0;for(e=f.length;c<e;c++)b(a[f[c]],
f[c],a)}return a};m.map=m.collect=function(a,b,c){if(null==a)return[];b=m.iteratee(b,c);c=a.length!==+a.length&&m.keys(a);for(var e=(c||a).length,f=Array(e),h,n=0;n<e;n++)h=c?c[n]:n,f[n]=b(a[h],h,a);return f};m.reduce=m.foldl=m.inject=function(a,b,c,e){null==a&&(a=[]);b=A(b,e,4);var f=a.length!==+a.length&&m.keys(a),h=(f||a).length,n=0,p;if(3>arguments.length){if(!h)throw new TypeError("Reduce of empty array with no initial value");c=a[f?f[n++]:n++]}for(;n<h;n++)p=f?f[n]:n,c=b(c,a[p],p,a);return c};
m.reduceRight=m.foldr=function(a,b,c,e){null==a&&(a=[]);b=A(b,e,4);var f=a.length!==+a.length&&m.keys(a),h=(f||a).length,n;if(3>arguments.length){if(!h)throw new TypeError("Reduce of empty array with no initial value");c=a[f?f[--h]:--h]}for(;h--;)n=f?f[h]:h,c=b(c,a[n],n,a);return c};m.find=m.detect=function(a,b,c){var e;b=m.iteratee(b,c);m.some(a,function(a,c,f){if(b(a,c,f))return e=a,!0});return e};m.filter=m.select=function(a,b,c){var e=[];if(null==a)return e;b=m.iteratee(b,c);m.each(a,function(a,
c,f){b(a,c,f)&&e.push(a)});return e};m.reject=function(a,b,c){return m.filter(a,m.negate(m.iteratee(b)),c)};m.every=m.all=function(a,b,c){if(null==a)return!0;b=m.iteratee(b,c);c=a.length!==+a.length&&m.keys(a);var e=(c||a).length,f,h;for(f=0;f<e;f++)if(h=c?c[f]:f,!b(a[h],h,a))return!1;return!0};m.some=m.any=function(a,b,c){if(null==a)return!1;b=m.iteratee(b,c);c=a.length!==+a.length&&m.keys(a);var e=(c||a).length,f,h;for(f=0;f<e;f++)if(h=c?c[f]:f,b(a[h],h,a))return!0;return!1};m.contains=m.include=
function(a,b){if(null==a)return!1;a.length!==+a.length&&(a=m.values(a));return 0<=m.indexOf(a,b)};m.invoke=function(a,b){var c=f.call(arguments,2),e=m.isFunction(b);return m.map(a,function(a){return(e?b:a[b]).apply(a,c)})};m.pluck=function(a,b){return m.map(a,m.property(b))};m.where=function(a,b){return m.filter(a,m.matches(b))};m.findWhere=function(a,b){return m.find(a,m.matches(b))};m.max=function(a,b,c){var e=-Infinity,f=-Infinity,h;if(null==b&&null!=a){a=a.length===+a.length?a:m.values(a);for(var n=
0,p=a.length;n<p;n++)c=a[n],c>e&&(e=c)}else b=m.iteratee(b,c),m.each(a,function(a,c,g){h=b(a,c,g);if(h>f||-Infinity===h&&-Infinity===e)e=a,f=h});return e};m.min=function(a,b,c){var e=Infinity,f=Infinity,h;if(null==b&&null!=a){a=a.length===+a.length?a:m.values(a);for(var n=0,p=a.length;n<p;n++)c=a[n],c<e&&(e=c)}else b=m.iteratee(b,c),m.each(a,function(a,c,g){h=b(a,c,g);if(h<f||Infinity===h&&Infinity===e)e=a,f=h});return e};m.shuffle=function(a){a=a&&a.length===+a.length?a:m.values(a);for(var b=a.length,
c=Array(b),e=0,f;e<b;e++)f=m.random(0,e),f!==e&&(c[e]=c[f]),c[f]=a[e];return c};m.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=m.values(a)),a[m.random(a.length-1)]):m.shuffle(a).slice(0,Math.max(0,b))};m.sortBy=function(a,b,c){b=m.iteratee(b,c);return m.pluck(m.map(a,function(a,c,e){return{value:a,index:c,criteria:b(a,c,e)}}).sort(function(a,b){var d=a.criteria,c=b.criteria;if(d!==c){if(d>c||void 0===d)return 1;if(d<c||void 0===c)return-1}return a.index-b.index}),"value")};var O=
function(a){return function(b,c,e){var f={};c=m.iteratee(c,e);m.each(b,function(e,h){var l=c(e,h,b);a(f,e,l)});return f}};m.groupBy=O(function(a,b,c){m.has(a,c)?a[c].push(b):a[c]=[b]});m.indexBy=O(function(a,b,c){a[c]=b});m.countBy=O(function(a,b,c){m.has(a,c)?a[c]++:a[c]=1});m.sortedIndex=function(a,b,c,e){c=m.iteratee(c,e,1);b=c(b);e=0;for(var f=a.length;e<f;){var h=e+f>>>1;c(a[h])<b?e=h+1:f=h}return e};m.toArray=function(a){return a?m.isArray(a)?f.call(a):a.length===+a.length?m.map(a,m.identity):
m.values(a):[]};m.size=function(a){return null==a?0:a.length===+a.length?a.length:m.keys(a).length};m.partition=function(a,b,c){b=m.iteratee(b,c);var e=[],f=[];m.each(a,function(a,c,g){(b(a,c,g)?e:f).push(a)});return[e,f]};m.first=m.head=m.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:f.call(a,0,b)};m.initial=function(a,b,c){return f.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))};m.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:f.call(a,Math.max(a.length-
b,0))};m.rest=m.tail=m.drop=function(a,b,c){return f.call(a,null==b||c?1:b)};m.compact=function(a){return m.filter(a,m.identity)};var N=function(a,b,f,h){if(b&&m.every(a,m.isArray))return c.apply(h,a);for(var n=0,p=a.length;n<p;n++){var t=a[n];m.isArray(t)||m.isArguments(t)?b?e.apply(h,t):N(t,b,f,h):f||h.push(t)}return h};m.flatten=function(a,b){return N(a,b,!1,[])};m.without=function(a){return m.difference(a,f.call(arguments,1))};m.uniq=m.unique=function(a,b,c,e){if(null==a)return[];m.isBoolean(b)||
(e=c,c=b,b=!1);null!=c&&(c=m.iteratee(c,e));e=[];for(var f=[],h=0,n=a.length;h<n;h++){var p=a[h];if(b)h&&f===p||e.push(p),f=p;else if(c){var t=c(p,h,a);0>m.indexOf(f,t)&&(f.push(t),e.push(p))}else 0>m.indexOf(e,p)&&e.push(p)}return e};m.union=function(){return m.uniq(N(arguments,!0,!0,[]))};m.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,e=0,f=a.length;e<f;e++){var h=a[e];if(!m.contains(b,h)){for(var n=1;n<c&&m.contains(arguments[n],h);n++);n===c&&b.push(h)}}return b};
m.difference=function(a){var b=N(f.call(arguments,1),!0,!0,[]);return m.filter(a,function(a){return!m.contains(b,a)})};m.zip=function(a){if(null==a)return[];for(var b=m.max(arguments,"length").length,c=Array(b),e=0;e<b;e++)c[e]=m.pluck(arguments,e);return c};m.object=function(a,b){if(null==a)return{};for(var c={},e=0,f=a.length;e<f;e++)b?c[a[e]]=b[e]:c[a[e][0]]=a[e][1];return c};m.indexOf=function(a,b,c){if(null==a)return-1;var e=0,f=a.length;if(c)if("number"==typeof c)e=0>c?Math.max(0,f+c):c;else return e=
m.sortedIndex(a,b),a[e]===b?e:-1;for(;e<f;e++)if(a[e]===b)return e;return-1};m.lastIndexOf=function(a,b,c){if(null==a)return-1;var e=a.length;for("number"==typeof c&&(e=0>c?e+c+1:Math.min(e,c+1));0<=--e;)if(a[e]===b)return e;return-1};m.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=c||1;for(var e=Math.max(Math.ceil((b-a)/c),0),f=Array(e),h=0;h<e;h++,a+=c)f[h]=a;return f};var J=function(){};m.bind=function(a,b){var c,e;if(x&&a.bind===x)return x.apply(a,f.call(arguments,1));if(!m.isFunction(a))throw new TypeError("Bind must be called on a function");
c=f.call(arguments,2);return e=function(){if(!(this instanceof e))return a.apply(b,c.concat(f.call(arguments)));J.prototype=a.prototype;var h=new J;J.prototype=null;var n=a.apply(h,c.concat(f.call(arguments)));return m.isObject(n)?n:h}};m.partial=function(a){var b=f.call(arguments,1);return function(){for(var c=0,e=b.slice(),f=0,h=e.length;f<h;f++)e[f]===m&&(e[f]=arguments[c++]);for(;c<arguments.length;)e.push(arguments[c++]);return a.apply(this,e)}};m.bindAll=function(a){var b,c=arguments.length,
e;if(1>=c)throw Error("bindAll must be passed function names");for(b=1;b<c;b++)e=arguments[b],a[e]=m.bind(a[e],a);return a};m.memoize=function(a,b){var c=function(e){var f=c.cache,h=b?b.apply(this,arguments):e;m.has(f,h)||(f[h]=a.apply(this,arguments));return f[h]};c.cache={};return c};m.delay=function(a,b){var c=f.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};m.defer=function(a){return m.delay.apply(m,[a,1].concat(f.call(arguments,1)))};m.throttle=function(a,b,c){var e,
f,h,n=null,p=0;c||(c={});var t=function(){p=!1===c.leading?0:m.now();n=null;h=a.apply(e,f);n||(e=f=null)};return function(){var u=m.now();p||!1!==c.leading||(p=u);var x=b-(u-p);e=this;f=arguments;0>=x||x>b?(clearTimeout(n),n=null,p=u,h=a.apply(e,f),n||(e=f=null)):n||!1===c.trailing||(n=setTimeout(t,x));return h}};m.debounce=function(a,b,c){var e,f,h,n,p,t=function(){var u=m.now()-n;u<b&&0<u?e=setTimeout(t,b-u):(e=null,c||(p=a.apply(h,f),e||(h=f=null)))};return function(){h=this;f=arguments;n=m.now();
var u=c&&!e;e||(e=setTimeout(t,b));u&&(p=a.apply(h,f),h=f=null);return p}};m.wrap=function(a,b){return m.partial(b,a)};m.negate=function(a){return function(){return!a.apply(this,arguments)}};m.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,e=a[b].apply(this,arguments);c--;)e=a[c].call(this,e);return e}};m.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};m.before=function(a,b){var c;return function(){0<--a?c=b.apply(this,arguments):b=null;
return c}};m.once=m.partial(m.before,2);m.keys=function(a){if(!m.isObject(a))return[];if(t)return t(a);var b=[],c;for(c in a)m.has(a,c)&&b.push(c);return b};m.values=function(a){for(var b=m.keys(a),c=b.length,e=Array(c),f=0;f<c;f++)e[f]=a[b[f]];return e};m.pairs=function(a){for(var b=m.keys(a),c=b.length,e=Array(c),f=0;f<c;f++)e[f]=[b[f],a[b[f]]];return e};m.invert=function(a){for(var b={},c=m.keys(a),e=0,f=c.length;e<f;e++)b[a[c[e]]]=c[e];return b};m.functions=m.methods=function(a){var b=[],c;for(c in a)m.isFunction(a[c])&&
b.push(c);return b.sort()};m.extend=function(a){if(!m.isObject(a))return a;for(var b,c,e=1,f=arguments.length;e<f;e++)for(c in b=arguments[e],b)h.call(b,c)&&(a[c]=b[c]);return a};m.pick=function(a,b,e){var h={},n;if(null==a)return h;if(m.isFunction(b))for(n in b=A(b,e),a){var p=a[n];b(p,n,a)&&(h[n]=p)}else{p=c.apply([],f.call(arguments,1));a=Object(a);for(var t=0,u=p.length;t<u;t++)n=p[t],n in a&&(h[n]=a[n])}return h};m.omit=function(a,b,e){if(m.isFunction(b))b=m.negate(b);else{var h=m.map(c.apply([],
f.call(arguments,1)),String);b=function(a,b){return!m.contains(h,b)}}return m.pick(a,b,e)};m.defaults=function(a){if(!m.isObject(a))return a;for(var b=1,c=arguments.length;b<c;b++){var e=arguments[b],f;for(f in e)void 0===a[f]&&(a[f]=e[f])}return a};m.clone=function(a){return m.isObject(a)?m.isArray(a)?a.slice():m.extend({},a):a};m.tap=function(a,b){b(a);return a};var L=function(a,b,c,e){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof m&&(a=a._wrapped);b instanceof m&&
(b=b._wrapped);var f=n.call(a);if(f!==n.call(b))return!1;switch(f){case "[object RegExp]":case "[object String]":return""+a===""+b;case "[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case "[object Date]":case "[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var h=c.length;h--;)if(c[h]===a)return e[h]===b;var h=a.constructor,p=b.constructor;if(h!==p&&"constructor"in a&&"constructor"in b&&!(m.isFunction(h)&&h instanceof h&&m.isFunction(p)&&p instanceof
p))return!1;c.push(a);e.push(b);if("[object Array]"===f){if(f=a.length,p=f===b.length)for(;f--&&(p=L(a[f],b[f],c,e)););}else if(h=m.keys(a),f=h.length,p=m.keys(b).length===f)for(;f--&&(p=h[f],p=m.has(b,p)&&L(a[p],b[p],c,e)););c.pop();e.pop();return p};m.isEqual=function(a,b){return L(a,b,[],[])};m.isEmpty=function(a){if(null==a)return!0;if(m.isArray(a)||m.isString(a)||m.isArguments(a))return 0===a.length;for(var b in a)if(m.has(a,b))return!1;return!0};m.isElement=function(a){return!(!a||1!==a.nodeType)};
m.isArray=H||function(a){return"[object Array]"===n.call(a)};m.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a};m.each("Arguments Function String Number Date RegExp".split(" "),function(a){m["is"+a]=function(b){return n.call(b)==="[object "+a+"]"}});m.isArguments(arguments)||(m.isArguments=function(a){return m.has(a,"callee")});"function"!==typeof/./&&(m.isFunction=function(a){return"function"==typeof a||!1});m.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};
m.isNaN=function(a){return m.isNumber(a)&&a!==+a};m.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===n.call(a)};m.isNull=function(a){return null===a};m.isUndefined=function(a){return void 0===a};m.has=function(a,b){return null!=a&&h.call(a,b)};m.noConflict=function(){p._=u;return this};m.identity=function(a){return a};m.constant=function(a){return function(){return a}};m.noop=function(){};m.property=function(a){return function(b){return b[a]}};m.matches=function(a){var b=m.pairs(a),
c=b.length;return function(a){if(null==a)return!c;a=Object(a);for(var e=0;e<c;e++){var f=b[e],h=f[0];if(f[1]!==a[h]||!(h in a))return!1}return!0}};m.times=function(a,b,c){var e=Array(Math.max(0,a));b=A(b,c,1);for(c=0;c<a;c++)e[c]=b(c);return e};m.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};m.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=m.invert(H),E=function(a){var b=
function(b){return a[b]},c="(?:"+m.keys(a).join("|")+")",e=RegExp(c),f=RegExp(c,"g");return function(a){a=null==a?"":""+a;return e.test(a)?a.replace(f,b):a}};m.escape=E(H);m.unescape=E(O);m.result=function(a,b){if(null!=a){var c=a[b];return m.isFunction(c)?a[b]():c}};var P=0;m.uniqueId=function(a){var b=++P+"";return a?a+b:b};m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028",
"\u2029":"u2029"},qa=/\\|'|\r|\n|\u2028|\u2029/g,Z=function(a){return"\\"+R[a]};m.template=function(a,b,c){!b&&c&&(b=c);b=m.defaults({},b,m.templateSettings);c=RegExp([(b.escape||I).source,(b.interpolate||I).source,(b.evaluate||I).source].join("|")+"|$","g");var e=0,f="__p+='";a.replace(c,function(b,c,d,g,h){f+=a.slice(e,h).replace(qa,Z);e=h+b.length;c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='");return b});f+="';\n";b.variable||
(f="with(obj||{}){\n"+f+"}\n");f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var h=new Function(b.variable||"obj","_",f)}catch(n){throw n.source=f,n;}c=function(a){return h.call(this,a,m)};c.source="function("+(b.variable||"obj")+"){\n"+f+"}";return c};m.chain=function(a){a=m(a);a._chain=!0;return a};var b=function(a){return this._chain?m(a).chain():a};m.mixin=function(a){m.each(m.functions(a),function(c){var f=m[c]=a[c];m.prototype[c]=
function(){var a=[this._wrapped];e.apply(a,arguments);return b.call(this,f.apply(m,a))}})};m.mixin(m);m.each("pop push reverse shift sort splice unshift".split(" "),function(a){var c=G[a];m.prototype[a]=function(){var e=this._wrapped;c.apply(e,arguments);"shift"!==a&&"splice"!==a||0!==e.length||delete e[0];return b.call(this,e)}});m.each(["concat","join","slice"],function(a){var c=G[a];m.prototype[a]=function(){return b.call(this,c.apply(this._wrapped,arguments))}});m.prototype.value=function(){return this._wrapped};
"function"===typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
(function(){var p;$(function(){var u,G;u=new p("hawaii");G=u.get_dataset("jbez-8d6q");u=u.get_dataset("hnpb-2rfi");return $.when(G,u).done(function(p,e){var f,c,n,h,t,u,m,A;n=p[0];f=e[0];u=_.uniq(_.flatten([n,f]).map(function(c){return+c.year}));n=_.reduce(n,function(c,e){c[+e.year]=+e.state_total;return c},{});f=_.reduce(f,function(c,e){c[+e.year]=+e.state_total;return c},{});h=[];c=[];m=0;for(A=u.length;m<A;m++)t=u[m],h.push(n[t]||null),c.push(f[t]||null);return c3.generate({bindto:".visualization.car-vs-people",
data:{x:"years",columns:[["vehicles"].concat(h),["population"].concat(c),["years"].concat(u)]}})})});p=function(){function p(u){this.site=u}p.prototype.get_dataset=function(p,u){var e;null==u&&(u={});e=$.extend({},{$limit:100},u);return $.get("https://data."+this.site+".gov/resource/"+p+".json",e)};return p}()}).call(this);
